// AUTO-GENERATED by atrius-fhir-generator (R5 Narrative)
use crate::r5::*;

/// FHIR Narrative type
/// 
/// Narrative Type: A human-readable summary of the resource conveying the
/// essential clinical and business information for the resource.
/// 
/// ## Type: Complex-type type
/// Base type: http://hl7.org/fhir/StructureDefinition/DataType
/// 
/// ## Status: active
/// FHIR Version: 5.0.0
/// 
/// See: [Narrative](http://hl7.org/fhir/StructureDefinition/Narrative)
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath, Default, FhirValidate)]
#[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Narrative")]
pub struct Narrative {
    /// Unique id for inter-element referencing
    /// 
    /// Unique id for the element within a resource (for internal references). This
    /// may be any string value that does not contain spaces.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Conditions
    /// Used when: ele-1
    pub id: Option<String>,
    /// Additional content defined by implementations
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element. To make the use of extensions safe and managable,
    /// there is a strict set of governance applied to the definition and use of
    /// extensions. Though any implementer can define an extension, there is a set of
    /// requirements that SHALL be met as part of the definition of the extension.
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Narrative.extension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="Narrative.extension")]
    pub extension: Option<Vec<Extension>>,
    /// generated | extensions | additional | empty
    /// 
    /// The status of the narrative - whether it's entirely generated (from just the
    /// defined data or the extensions too), or whether a human authored it and it
    /// may contain additional data.
    /// 
    /// ## Cardinality: Required (1..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: required
    /// - **Description**: The status of a resource narrative.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/narrative-status|5.0.0
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Narrative.status")]
    pub status: Code,
    /// Limited xhtml content
    /// 
    /// The actual narrative content, a stripped down version of XHTML.
    /// 
    /// ## Implementation Notes
    /// The contents of the html element are an XHTML fragment containing only the
    /// basic html formatting elements described in chapters 7-11 and 15 of the HTML
    /// 4.0 standard, <a> elements (either name or href), images and internally
    /// contained stylesheets. The XHTML content SHALL NOT contain a head, a body,
    /// external stylesheet references, scripts, forms, base/link/xlink, frames,
    /// iframes and objects.
    /// 
    /// ## Cardinality: Required (1..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **txt-1**: The narrative SHALL contain only the basic html formatting elements and attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes (error)
    ///   Expression: `htmlChecks()`
    /// - **txt-2**: The narrative SHALL have some non-whitespace content (error)
    ///   Expression: `htmlChecks()`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Narrative.div")]
    #[fhir_invariant(key="txt-1", severity="error", human="The narrative SHALL contain only the basic html formatting elements and attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes", expr="htmlChecks()", path="Narrative.div")]
    #[fhir_invariant(key="txt-2", severity="error", human="The narrative SHALL have some non-whitespace content", expr="htmlChecks()", path="Narrative.div")]
    pub div: Xhtml,
}

