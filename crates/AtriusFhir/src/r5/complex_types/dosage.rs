// AUTO-GENERATED by atrius-fhir-generator (R5 Dosage)
use crate::r5::*;

/// FHIR Dosage type
/// 
/// Dosage Type: Indicates how the medication is/was taken or should be taken by
/// the patient.
/// 
/// ## Type: Complex-type type
/// Base type: http://hl7.org/fhir/StructureDefinition/BackboneType
/// 
/// ## Status: draft
/// FHIR Version: 5.0.0
/// 
/// See: [Dosage](http://hl7.org/fhir/StructureDefinition/Dosage)
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath, Default, FhirValidate)]
#[fhir_invariant(key="dos-1", severity="error", human="AsNeededFor can only be set if AsNeeded is empty or true", expr="asNeededFor.empty() or asNeeded.empty() or asNeeded", path="Dosage")]
#[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Dosage")]
pub struct Dosage {
    /// Unique id for inter-element referencing
    /// 
    /// Unique id for the element within a resource (for internal references). This
    /// may be any string value that does not contain spaces.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Conditions
    /// Used when: ele-1
    pub id: Option<String>,
    /// Additional content defined by implementations
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element. To make the use of extensions safe and managable,
    /// there is a strict set of governance applied to the definition and use of
    /// extensions. Though any implementer can define an extension, there is a set of
    /// requirements that SHALL be met as part of the definition of the extension.
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Dosage.extension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="Dosage.extension")]
    pub extension: Option<Vec<Extension>>,
    /// Extensions that cannot be ignored even if unrecognized
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element and that modifies the understanding of the element
    /// in which it is contained and/or the understanding of the containing element's
    /// descendants. Usually modifier elements provide negation or qualification. To
    /// make the use of extensions safe and managable, there is a strict set of
    /// governance applied to the definition and use of extensions. Though any
    /// implementer can define an extension, there is a set of requirements that
    /// SHALL be met as part of the definition of the extension. Applications
    /// processing a resource are required to check for modifier extensions.
    /// 
    /// Modifier extensions SHALL NOT change the meaning of any elements on Resource
    /// or DomainResource (including cannot change the meaning of modifierExtension
    /// itself).
    /// 
    /// ## Requirements
    /// Modifier extensions allow for extensions that *cannot* be safely ignored to
    /// be clearly distinguished from the vast majority of extensions which can be
    /// safely ignored. This promotes interoperability by eliminating the need for
    /// implementers to prohibit the presence of extensions. For further information,
    /// see the [definition of modifier
    /// extensions](extensibility.html#modifierExtension).
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Modifier element - Modifier extensions are expected to modify the meaning or interpretation of the element that contains them
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content, modifiers
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Dosage.modifierExtension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="Dosage.modifierExtension")]
    #[fhir_serde(rename = "modifierExtension")]
    pub modifier_extension: Option<Vec<Extension>>,
    /// The order of the dosage instructions
    /// 
    /// Indicates the order in which the dosage instructions should be applied or
    /// interpreted.
    /// 
    /// ## Requirements
    /// If the sequence number of multiple Dosages is the same, then it is implied
    /// that the instructions are to be treated as concurrent. If the sequence number
    /// is different, then the Dosages are intended to be sequential.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Dosage.sequence")]
    pub sequence: Option<Integer>,
    /// Free text dosage instructions e.g. SIG
    /// 
    /// Free text dosage instructions e.g. SIG.
    /// 
    /// ## Requirements
    /// Free text dosage instructions can be used for cases where the instructions
    /// are too complex to code. The content of this attribute does not include the
    /// name or description of the medication. When coded instructions are present,
    /// the free text instructions may still be present for display to humans taking
    /// or administering the medication. It is expected that the text instructions
    /// will always be populated. If the dosage.timing attribute is also populated,
    /// then the dosage.text should reflect the same information as the timing.
    /// Additional information about administration or preparation of the medication
    /// should be included as text.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Dosage.text")]
    pub text: Option<String>,
    /// Supplemental instruction or warnings to the patient - e.g. "with meals", "may cause drowsiness"
    /// 
    /// Supplemental instructions to the patient on how to take the medication (e.g.
    /// "with meals" or"take half to one hour before food") or warnings for the
    /// patient about the medication (e.g. "may cause drowsiness" or "avoid exposure
    /// of skin to direct sunlight or sunlamps").
    /// 
    /// ## Requirements
    /// Additional instruction is intended to be coded, but where no code exists, the
    /// element could include text. For example, "Swallow with plenty of water" which
    /// might or might not be coded.
    /// 
    /// ## Implementation Notes
    /// Information about administration or preparation of the medication (e.g.
    /// "infuse as rapidly as possibly via intraperitoneal port" or take "immediately
    /// following drug x") should be populated in dosage.text.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: A coded concept identifying additional instructions such as "take with water" or "avoid operating heavy machinery".
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/additional-instruction-codes
    #[fhir_binding(strength="example", valueset="http://hl7.org/fhir/ValueSet/additional-instruction-codes")]
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Dosage.additionalInstruction")]
    #[fhir_serde(rename = "additionalInstruction")]
    pub additional_instruction: Option<Vec<CodeableConcept>>,
    /// Patient or consumer oriented instructions
    /// 
    /// Instructions in terms that are understood by the patient or consumer.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Dosage.patientInstruction")]
    #[fhir_serde(rename = "patientInstruction")]
    pub patient_instruction: Option<String>,
    /// When medication should be administered
    /// 
    /// When medication should be administered.
    /// 
    /// ## Requirements
    /// The timing schedule for giving the medication to the patient. This data type
    /// allows many different expressions. For example: "Every 8 hours"; "Three times
    /// a day"; "1/2 an hour before breakfast for 10 days from 23-Dec 2011:"; "15 Oct
    /// 2013, 17 Oct 2013 and 1 Nov 2013". Sometimes, a rate can imply duration when
    /// expressed as total volume / duration (e.g. 500mL/2 hours implies a duration
    /// of 2 hours). However, when rate doesn't imply duration (e.g. 250mL/hour),
    /// then the timing.repeat.duration is needed to convey the infuse over time
    /// period.
    /// 
    /// ## Implementation Notes
    /// This attribute might not always be populated while the Dosage.text is
    /// expected to be populated. If both are populated, then the Dosage.text should
    /// reflect the content of the Dosage.timing.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Dosage.timing")]
    pub timing: Option<Timing>,
    /// Take "as needed"
    /// 
    /// Indicates whether the Medication is only taken when needed within a specific
    /// dosing schedule (Boolean option).
    /// 
    /// ## Implementation Notes
    /// Can express "as needed" without a reason by setting the Boolean = True. In
    /// this case the CodeableConcept is not populated.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Conditions
    /// Used when: dos-1
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Dosage.asNeeded")]
    #[fhir_serde(rename = "asNeeded")]
    pub as_needed: Option<Boolean>,
    /// Take "as needed" (for x)
    /// 
    /// Indicates whether the Medication is only taken based on a precondition for
    /// taking the Medication (CodeableConcept).
    /// 
    /// ## Implementation Notes
    /// Can express "as needed" with a reason by including the CodeableConcept. In
    /// this case the Boolean is assumed to be False, then the dose is given
    /// according to the schedule and is not "prn" or "as needed".
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: A coded concept identifying the precondition that should be met or evaluated prior to consuming or administering a medication dose.  For example "pain", "30 minutes prior to sexual intercourse", "on flare-up" etc.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/medication-as-needed-reason
    /// 
    /// ## Conditions
    /// Used when: dos-1
    #[fhir_binding(strength="example", valueset="http://hl7.org/fhir/ValueSet/medication-as-needed-reason")]
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Dosage.asNeededFor")]
    #[fhir_serde(rename = "asNeededFor")]
    pub as_needed_for: Option<Vec<CodeableConcept>>,
    /// Body site to administer to
    /// 
    /// Body site to administer to.
    /// 
    /// ## Requirements
    /// A coded specification of the anatomic site where the medication first enters
    /// the body.
    /// 
    /// ## Implementation Notes
    /// If the use case requires attributes from the BodySite resource (e.g. to
    /// identify and track separately) then use the standard extension
    /// [http://hl7.org/fhir/StructureDefinition/bodySite](http://hl7.org/fhir/extensions/StructureDefinition-bodySite.html).
    /// May be a summary code, or a reference to a very precise definition of the
    /// location, or both.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: A coded concept describing the site location the medicine enters into or onto the body.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/approach-site-codes
    #[fhir_binding(strength="example", valueset="http://hl7.org/fhir/ValueSet/approach-site-codes")]
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Dosage.site")]
    pub site: Option<CodeableConcept>,
    /// How drug should enter body
    /// 
    /// How drug should enter body.
    /// 
    /// ## Requirements
    /// A code specifying the route or physiological path of administration of a
    /// therapeutic agent into or onto a patient's body.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: A coded concept describing the route or physiological path of administration of a therapeutic agent into or onto the body of a subject.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/route-codes
    #[fhir_binding(strength="example", valueset="http://hl7.org/fhir/ValueSet/route-codes")]
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Dosage.route")]
    pub route: Option<CodeableConcept>,
    /// Technique for administering medication
    /// 
    /// Technique for administering medication.
    /// 
    /// ## Requirements
    /// A coded value indicating the method by which the medication is introduced
    /// into or onto the body. Most commonly used for injections. For examples, Slow
    /// Push; Deep IV.
    /// 
    /// ## Implementation Notes
    /// Terminologies used often pre-coordinate this term with the route and or form
    /// of administration.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: A coded concept describing the technique by which the medicine is administered.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/administration-method-codes
    #[fhir_binding(strength="example", valueset="http://hl7.org/fhir/ValueSet/administration-method-codes")]
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Dosage.method")]
    pub method: Option<CodeableConcept>,
    /// Amount of medication administered, to be administered or typical amount to be administered
    /// 
    /// Depending on the resource,this is the amount of medication administered, to
    /// be administered or typical amount to be administered.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Dosage.doseAndRate")]
    #[fhir_serde(rename = "doseAndRate")]
    pub dose_and_rate: Option<Vec<DosageDoseAndRate>>,
    /// Upper limit on medication per unit of time
    /// 
    /// Upper limit on medication per unit of time.
    /// 
    /// ## Requirements
    /// The maximum total quantity of a therapeutic substance that may be
    /// administered to a subject over the period of time. For example, 1000mg in 24
    /// hours.
    /// 
    /// ## Implementation Notes
    /// This is intended for use as an adjunct to the dosage when there is an upper
    /// cap. For example "2 tablets every 4 hours to a maximum of 8/day".
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Dosage.maxDosePerPeriod")]
    #[fhir_serde(rename = "maxDosePerPeriod")]
    pub max_dose_per_period: Option<Vec<Ratio>>,
    /// Upper limit on medication per administration
    /// 
    /// Upper limit on medication per administration.
    /// 
    /// ## Requirements
    /// The maximum total quantity of a therapeutic substance that may be
    /// administered to a subject per administration.
    /// 
    /// ## Implementation Notes
    /// This is intended for use as an adjunct to the dosage when there is an upper
    /// cap. For example, a body surface area related dose with a maximum amount,
    /// such as 1.5 mg/m2 (maximum 2 mg) IV over 5 â€“ 10 minutes would have
    /// doseQuantity of 1.5 mg/m2 and maxDosePerAdministration of 2 mg.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Dosage.maxDosePerAdministration")]
    #[fhir_serde(rename = "maxDosePerAdministration")]
    pub max_dose_per_administration: Option<Quantity>,
    /// Upper limit on medication per lifetime of the patient
    /// 
    /// Upper limit on medication per lifetime of the patient.
    /// 
    /// ## Requirements
    /// The maximum total quantity of a therapeutic substance that may be
    /// administered per lifetime of the subject.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Dosage.maxDosePerLifetime")]
    #[fhir_serde(rename = "maxDosePerLifetime")]
    pub max_dose_per_lifetime: Option<Quantity>,
}

/// Choice of types for the dose\[x\] field in DosageDoseAndRate
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath, FhirValidate)]
#[fhir_choice_element(base_name = "dose")]
pub enum DosageDoseAndRateDose {
    /// Variant accepting the Range type.
    #[fhir_serde(rename = "doseRange")]
    Range(Range),
    /// Variant accepting the Quantity type.
    #[fhir_serde(rename = "doseQuantity")]
    Quantity(Quantity),
}

/// Choice of types for the rate\[x\] field in DosageDoseAndRate
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath, FhirValidate)]
#[fhir_choice_element(base_name = "rate")]
pub enum DosageDoseAndRateRate {
    /// Variant accepting the Ratio type.
    #[fhir_serde(rename = "rateRatio")]
    Ratio(Ratio),
    /// Variant accepting the Range type.
    #[fhir_serde(rename = "rateRange")]
    Range(Range),
    /// Variant accepting the Quantity type.
    #[fhir_serde(rename = "rateQuantity")]
    Quantity(Quantity),
}

/// Amount of medication administered, to be administered or typical amount to be administered
/// 
/// Depending on the resource,this is the amount of medication administered, to
/// be administered or typical amount to be administered.
/// 
/// ## Cardinality: Optional, Multiple (0..*)
/// 
/// ## Special Semantics
/// - Included in summary
/// 
/// ## Constraints
/// - **ele-1**: All FHIR elements must have a @value or children (error)
///   Expression: `hasValue() or (children().count() > id.count())`
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath, Default, FhirValidate)]
#[fhir_resource(choice_elements = "dose,rate")]
#[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Dosage.doseAndRate")]
pub struct DosageDoseAndRate {
    /// Unique id for inter-element referencing
    /// 
    /// Unique id for the element within a resource (for internal references). This
    /// may be any string value that does not contain spaces.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Conditions
    /// Used when: ele-1
    pub id: Option<String>,
    /// Additional content defined by implementations
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element. To make the use of extensions safe and managable,
    /// there is a strict set of governance applied to the definition and use of
    /// extensions. Though any implementer can define an extension, there is a set of
    /// requirements that SHALL be met as part of the definition of the extension.
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Dosage.doseAndRate.extension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="Dosage.doseAndRate.extension")]
    pub extension: Option<Vec<Extension>>,
    /// The kind of dose or rate specified
    /// 
    /// The kind of dose or rate specified, for example, ordered or calculated.
    /// 
    /// ## Requirements
    /// If the type is not populated, assume to be "ordered".
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: The kind of dose or rate specified.
    /// - **ValueSet**: http://terminology.hl7.org/ValueSet/dose-rate-type
    #[fhir_binding(strength="example", valueset="http://terminology.hl7.org/ValueSet/dose-rate-type")]
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Dosage.doseAndRate.type")]
    #[fhir_serde(rename = "type")]
    pub r#type: Option<CodeableConcept>,
    /// Amount of medication per dose
    /// 
    /// Amount of medication per dose.
    /// 
    /// ## Requirements
    /// The amount of therapeutic or other substance given at one administration
    /// event.
    /// 
    /// ## Implementation Notes
    /// Note that this specifies the quantity of the specified medication, not the
    /// quantity for each active ingredient(s). Each ingredient amount can be
    /// communicated in the Medication resource. For example, if one wants to
    /// communicate that a tablet was 375 mg, where the dose was one tablet, you can
    /// use the Medication resource to document that the tablet was comprised of 375
    /// mg of drug XYZ. Alternatively if the dose was 375 mg, then you may only need
    /// to use the Medication resource to indicate this was a tablet. If the example
    /// were an IV such as dopamine and you wanted to communicate that 400mg of
    /// dopamine was mixed in 500 ml of some IV solution, then this would all be
    /// communicated in the Medication resource. If the administration is not
    /// intended to be instantaneous (rate is present or timing has a duration), this
    /// can be specified to convey the total amount to be administered over the
    /// period of time as indicated by the schedule e.g. 500 ml in dose, with timing
    /// used to convey that this should be done over 4 hours.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Dosage.doseAndRate.dose[x]")]
    #[fhir_serde(flatten)]
    pub dose: Option<DosageDoseAndRateDose>,
    /// Amount of medication per unit of time
    /// 
    /// Amount of medication per unit of time.
    /// 
    /// ## Requirements
    /// Identifies the speed with which the medication was or will be introduced into
    /// the patient. Typically the rate for an infusion e.g. 100 ml per 1 hour or 100
    /// ml/hr. May also be expressed as a rate per unit of time e.g. 500 ml per 2
    /// hours. Other examples: 200 mcg/min or 200 mcg/1 minute; 1 liter/8 hours.
    /// Sometimes, a rate can imply duration when expressed as total volume /
    /// duration (e.g. 500mL/2 hours implies a duration of 2 hours). However, when
    /// rate doesn't imply duration (e.g. 250mL/hour), then the
    /// timing.repeat.duration is needed to convey the infuse over time period.
    /// 
    /// ## Implementation Notes
    /// It is possible to supply both a rate and a doseQuantity to provide full
    /// details about how the medication is to be administered and supplied. If the
    /// rate is intended to change over time, depending on local rules/regulations,
    /// each change should be captured as a new version of the MedicationRequest with
    /// an updated rate, or captured with a new MedicationRequest with the new rate.
    /// 
    /// It is possible to specify a rate over time (for example, 100 ml/hour) using
    /// either the rateRatio and rateQuantity. The rateQuantity approach requires
    /// systems to have the capability to parse UCUM grammar where ml/hour is
    /// included rather than a specific ratio where the time is specified as the
    /// denominator. Where a rate such as 500ml over 2 hours is specified, the use of
    /// rateRatio may be more semantically correct than specifying using a
    /// rateQuantity of 250 mg/hour.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Dosage.doseAndRate.rate[x]")]
    #[fhir_serde(flatten)]
    pub rate: Option<DosageDoseAndRateRate>,
}

