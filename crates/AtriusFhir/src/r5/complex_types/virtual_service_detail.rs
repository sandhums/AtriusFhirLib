// AUTO-GENERATED by atrius-fhir-generator (R5 VirtualServiceDetail)
use crate::r5::*;

/// Choice of types for the address\[x\] field in VirtualServiceDetail
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath, FhirValidate)]
#[fhir_choice_element(base_name = "address")]
pub enum VirtualServiceDetailAddress {
    /// Variant accepting the Url type.
    #[fhir_serde(rename = "addressUrl")]
    Url(Url),
    /// Variant accepting the String type.
    #[fhir_serde(rename = "addressString")]
    String(String),
    /// Variant accepting the ContactPoint type.
    #[fhir_serde(rename = "addressContactPoint")]
    ContactPoint(ContactPoint),
    /// Variant accepting the ExtendedContactDetail type.
    #[fhir_serde(rename = "addressExtendedContactDetail")]
    ExtendedContactDetail(ExtendedContactDetail),
}

/// FHIR VirtualServiceDetail type
/// 
/// VirtualServiceDetail Type: Virtual Service Contact Details.
/// 
/// ## Type: Complex-type type
/// Base type: http://hl7.org/fhir/StructureDefinition/DataType
/// 
/// ## Status: draft
/// FHIR Version: 5.0.0
/// 
/// See: [VirtualServiceDetail](http://hl7.org/fhir/StructureDefinition/VirtualServiceDetail)
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath, Default, FhirValidate)]
#[fhir_resource(choice_elements = "address")]
#[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="VirtualServiceDetail")]
pub struct VirtualServiceDetail {
    /// Unique id for inter-element referencing
    /// 
    /// Unique id for the element within a resource (for internal references). This
    /// may be any string value that does not contain spaces.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Conditions
    /// Used when: ele-1
    pub id: Option<String>,
    /// Additional content defined by implementations
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element. To make the use of extensions safe and managable,
    /// there is a strict set of governance applied to the definition and use of
    /// extensions. Though any implementer can define an extension, there is a set of
    /// requirements that SHALL be met as part of the definition of the extension.
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="VirtualServiceDetail.extension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="VirtualServiceDetail.extension")]
    pub extension: Option<Vec<Extension>>,
    /// Channel Type
    /// 
    /// The type of virtual service to connect to (i.e. Teams, Zoom, Specific VMR
    /// technology, WhatsApp).
    /// 
    /// ## Implementation Notes
    /// As this type defines what the virtual service is, it then defines what
    /// address and additional information might be relevant.
    /// 
    /// Some profiles could be used for specific types to define what the other
    /// values could/should be.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: The purpose for which an extended contact detail should be used.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/virtual-service-type
    #[fhir_binding(strength="example", valueset="http://hl7.org/fhir/ValueSet/virtual-service-type")]
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="VirtualServiceDetail.channelType")]
    #[fhir_serde(rename = "channelType")]
    pub channel_type: Option<Coding>,
    /// Contact address/number
    /// 
    /// What address or number needs to be used for a user to connect to the virtual
    /// service to join. The channelType informs as to which datatype is appropriate
    /// to use (requires knowledge of the specific type).
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="VirtualServiceDetail.address[x]")]
    #[fhir_serde(flatten)]
    pub address: Option<VirtualServiceDetailAddress>,
    /// Address to see alternative connection details
    /// 
    /// Address to see alternative connection details.
    /// 
    /// ## Implementation Notes
    /// This web address can be used to provide additional details on the call, such
    /// as alternative/regional call in numbers, or other associated services.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="VirtualServiceDetail.additionalInfo")]
    #[fhir_serde(rename = "additionalInfo")]
    pub additional_info: Option<Vec<Url>>,
    /// Maximum number of participants supported by the virtual service
    /// 
    /// Maximum number of participants supported by the virtual service.
    /// 
    /// ## Implementation Notes
    /// Some services have only a limitted number of participants permitted to
    /// connect at a time, this is typically used in "shared" virtual services that
    /// you might find on location resources.
    /// 
    /// Typically on-demand services might not have these restrictions.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="VirtualServiceDetail.maxParticipants")]
    #[fhir_serde(rename = "maxParticipants")]
    pub max_participants: Option<PositiveInt>,
    /// Session Key required by the virtual service
    /// 
    /// Session Key required by the virtual service.
    /// 
    /// ## Implementation Notes
    /// Some services require a session key to be able to access the service once
    /// connected.
    /// 
    /// This could be in cases where a shared number is used, and a session key is
    /// added to put into a private line, or to identify the participant in a call.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="VirtualServiceDetail.sessionKey")]
    #[fhir_serde(rename = "sessionKey")]
    pub session_key: Option<String>,
}

