// AUTO-GENERATED by atrius-fhir-generator (R5 Signature)
use crate::r5::*;

/// FHIR Signature type
/// 
/// Signature Type: A signature along with supporting context. The signature may
/// be a digital signature that is cryptographic in nature, or some other
/// signature acceptable to the domain. This other signature may be as simple as
/// a graphical image representing a hand-written signature, or a signature
/// ceremony Different signature approaches have different utilities.
/// 
/// ## Purpose
/// There are a number of places where content must be signed in healthcare.
/// 
/// ## Type: Complex-type type
/// Base type: http://hl7.org/fhir/StructureDefinition/DataType
/// 
/// ## Status: draft
/// FHIR Version: 5.0.0
/// 
/// See: [Signature](http://hl7.org/fhir/StructureDefinition/Signature)
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath, Default, FhirValidate)]
#[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Signature")]
pub struct Signature {
    /// Unique id for inter-element referencing
    /// 
    /// Unique id for the element within a resource (for internal references). This
    /// may be any string value that does not contain spaces.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Conditions
    /// Used when: ele-1
    pub id: Option<String>,
    /// Additional content defined by implementations
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element. To make the use of extensions safe and managable,
    /// there is a strict set of governance applied to the definition and use of
    /// extensions. Though any implementer can define an extension, there is a set of
    /// requirements that SHALL be met as part of the definition of the extension.
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Signature.extension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="Signature.extension")]
    pub extension: Option<Vec<Extension>>,
    /// Indication of the reason the entity signed the object(s)
    /// 
    /// An indication of the reason that the entity signed this document. This may be
    /// explicitly included as part of the signature information and can be used when
    /// determining accountability for various actions concerning the document.
    /// 
    /// ## Implementation Notes
    /// Examples include attesting to: authorship, correct transcription, and witness
    /// of specific event. Also known as a &quot;Commitment Type Indication&quot;.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: preferred
    /// - **Description**: An indication of the reason that an entity signed the object.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/signature-type
    #[fhir_binding(strength="preferred", valueset="http://hl7.org/fhir/ValueSet/signature-type")]
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Signature.type")]
    #[fhir_serde(rename = "type")]
    pub r#type: Option<Vec<Coding>>,
    /// When the signature was created
    /// 
    /// When the digital signature was signed.
    /// 
    /// ## Implementation Notes
    /// This should agree with the information in the signature.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Signature.when")]
    pub when: Option<Instant>,
    /// Who signed
    /// 
    /// A reference to an application-usable description of the identity that signed
    /// (e.g. the signature used their private key).
    /// 
    /// ## Implementation Notes
    /// This should agree with the information in the signature.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Signature.who")]
    pub who: Option<Reference>,
    /// The party represented
    /// 
    /// A reference to an application-usable description of the identity that is
    /// represented by the signature.
    /// 
    /// ## Requirements
    /// used when the signature is on behalf of a non-signer.
    /// 
    /// ## Implementation Notes
    /// The party that can't sign. For example a child.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Signature.onBehalfOf")]
    #[fhir_serde(rename = "onBehalfOf")]
    pub on_behalf_of: Option<Reference>,
    /// The technical format of the signed resources
    /// 
    /// A mime type that indicates the technical format of the target resources
    /// signed by the signature.
    /// 
    /// ## Implementation Notes
    /// "xml", "json" and "ttl" are allowed, which describe the simple encodings
    /// described in the specification (and imply appropriate bundle support).
    /// Otherwise, mime types are legal here.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: required
    /// - **Description**: BCP 13 (RFCs 2045, 2046, 2047, 4288, 4289 and 2049)
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/mimetypes|5.0.0
    #[fhir_binding(strength="required", valueset="http://hl7.org/fhir/ValueSet/mimetypes")]
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Signature.targetFormat")]
    #[fhir_serde(rename = "targetFormat")]
    pub target_format: Option<Code>,
    /// The technical format of the signature
    /// 
    /// A mime type that indicates the technical format of the signature. Important
    /// mime types are application/signature+xml for X ML DigSig, application/jose
    /// for JWS, and image/\* for a graphical image of a signature, etc.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: required
    /// - **Description**: BCP 13 (RFCs 2045, 2046, 2047, 4288, 4289 and 2049)
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/mimetypes|5.0.0
    #[fhir_binding(strength="required", valueset="http://hl7.org/fhir/ValueSet/mimetypes")]
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Signature.sigFormat")]
    #[fhir_serde(rename = "sigFormat")]
    pub sig_format: Option<Code>,
    /// The actual signature content (XML DigSig. JWS, picture, etc.)
    /// 
    /// The base64 encoding of the Signature content. When signature is not recorded
    /// electronically this element would be empty.
    /// 
    /// ## Implementation Notes
    /// Where the signature type is an XML DigSig, the signed content is a FHIR
    /// Resource(s), the signature is of the XML form of the Resource(s) using
    /// XML-Signature (XMLDIG) "Detached Signature" form.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Signature.data")]
    pub data: Option<Base64Binary>,
}

