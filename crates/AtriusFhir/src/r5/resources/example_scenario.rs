// AUTO-GENERATED by atrius-fhir-generator (R5 ExampleScenario)
use crate::r5::*;

/// Choice of types for the versionAlgorithm\[x\] field in ExampleScenario
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath, FhirValidate)]
#[fhir_choice_element(base_name = "versionAlgorithm")]
pub enum ExampleScenarioVersionAlgorithm {
    /// Variant accepting the String type.
    #[fhir_serde(rename = "versionAlgorithmString")]
    String(String),
    /// Variant accepting the Coding type.
    #[fhir_serde(rename = "versionAlgorithmCoding")]
    Coding(Coding),
}

/// FHIR ExampleScenario type
/// 
/// A walkthrough of a workflow showing the interaction between systems and the
/// instances shared, possibly including the evolution of instances over time.
/// 
/// ## Type: Resource type
/// Base type: http://hl7.org/fhir/StructureDefinition/DomainResource
/// 
/// ## Status: draft
/// FHIR Version: 5.0.0
/// 
/// See: [ExampleScenario](http://hl7.org/fhir/StructureDefinition/ExampleScenario)
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath, Default, FhirValidate)]
#[fhir_resource(choice_elements = "versionAlgorithm")]
#[fhir_invariant(key="cnl-0", severity="warning", human="Name should be usable as an identifier for the module by machine processing applications such as code generation", expr="name.exists() implies name.matches('^[A-Z]([A-Za-z0-9_]){1,254}$')", path="ExampleScenario")]
#[fhir_invariant(key="exs-3", severity="error", human="Must have actors if status is active or required", expr="status='active' or status='retired' implies actor.exists()", path="ExampleScenario")]
#[fhir_invariant(key="exs-4", severity="error", human="Must have processes if status is active or required", expr="status='active' or status='retired' implies process.exists()", path="ExampleScenario")]
#[fhir_invariant(key="exs-6", severity="error", human="Actor keys must be unique", expr="actor.key.count() = actor.key.distinct().count()", path="ExampleScenario")]
#[fhir_invariant(key="exs-7", severity="error", human="Actor titles must be unique", expr="actor.title.count() = actor.title.distinct().count()", path="ExampleScenario")]
#[fhir_invariant(key="exs-8", severity="error", human="Instance keys must be unique", expr="instance.key.count() = instance.key.distinct().count()", path="ExampleScenario")]
#[fhir_invariant(key="exs-9", severity="error", human="Instance titles must be unique", expr="instance.title.count() = instance.title.distinct().count()", path="ExampleScenario")]
#[fhir_invariant(key="exs-12", severity="error", human="Process titles must be unique", expr="process.title.count() = process.title.distinct().count()", path="ExampleScenario")]
pub struct ExampleScenario {
    /// Logical id of this artifact
    /// 
    /// The logical id of the resource, as used in the URL for the resource. Once
    /// assigned, this value never changes.
    /// 
    /// ## Implementation Notes
    /// Within the context of the FHIR RESTful interactions, the resource has an id
    /// except for cases like the create and conditional update. Otherwise, the use
    /// of the resouce id depends on the given use case.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    pub id: Option<String>,
    /// Metadata about the resource
    /// 
    /// The metadata about the resource. This is content that is maintained by the
    /// infrastructure. Changes to the content might not always be associated with
    /// version changes to the resource.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.meta")]
    pub meta: Option<Meta>,
    /// A set of rules under which this content was created
    /// 
    /// A reference to a set of rules that were followed when the resource was
    /// constructed, and which must be understood when processing the content. Often,
    /// this is a reference to an implementation guide that defines the special rules
    /// along with other profiles etc.
    /// 
    /// ## Implementation Notes
    /// Asserting this rule set restricts the content to be only understood by a
    /// limited set of trading partners. This inherently limits the usefulness of the
    /// data in the long term. However, the existing health eco-system is highly
    /// fractured, and not yet ready to define, collect, and exchange data in a
    /// generally computable sense. Wherever possible, implementers and/or
    /// specification writers should avoid using this element. Often, when used, the
    /// URL is a reference to an implementation guide that defines these special
    /// rules as part of its narrative along with other profiles, value sets, etc.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Modifier element - This element is labeled as a modifier because the implicit rules may provide additional knowledge about the resource that modifies its meaning or interpretation
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.implicitRules")]
    #[fhir_serde(rename = "implicitRules")]
    pub implicit_rules: Option<Uri>,
    /// Language of the resource content
    /// 
    /// The base language in which the resource is written.
    /// 
    /// ## Implementation Notes
    /// Language is provided to support indexing and accessibility (typically,
    /// services such as text to speech use the language tag). The html language tag
    /// in the narrative applies to the narrative. The language tag on the resource
    /// may be used to specify the language of other presentations generated from the
    /// data in the resource. Not all the content has to be in the base language. The
    /// Resource.language should not be assumed to apply to the narrative
    /// automatically. If a language is specified, it should it also be specified on
    /// the div element in the html (see rules in HTML5 for information about the
    /// relationship between xml:lang and the html lang attribute).
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: required
    /// - **Description**: IETF language tag for a human language
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/all-languages|5.0.0
    #[fhir_binding(strength="required", valueset="http://hl7.org/fhir/ValueSet/all-languages")]
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.language")]
    pub language: Option<Code>,
    /// Text summary of the resource, for human interpretation
    /// 
    /// A human-readable narrative that contains a summary of the resource and can be
    /// used to represent the content of the resource to a human. The narrative need
    /// not encode all the structured data, but is required to contain sufficient
    /// detail to make it "clinically safe" for a human to just read the narrative.
    /// Resource definitions may define what content should be represented in the
    /// narrative to ensure clinical safety.
    /// 
    /// ## Implementation Notes
    /// Contained resources do not have a narrative. Resources that are not contained
    /// SHOULD have a narrative. In some cases, a resource may only have text with
    /// little or no additional discrete data (as long as all minOccurs=1 elements
    /// are satisfied). This may be necessary for data from legacy systems where
    /// information is captured as a "text blob" or where text is additionally
    /// entered raw or narrated and encoded information is added later.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Aliases
    /// narrative, html, xhtml, display
    /// 
    /// ## Conditions
    /// Used when: dom-6
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.text")]
    pub text: Option<Narrative>,
    /// Contained, inline Resources
    /// 
    /// These resources do not have an independent existence apart from the resource
    /// that contains them - they cannot be identified independently, nor can they
    /// have their own independent transaction scope. This is allowed to be a
    /// Parameters resource if and only if it is referenced by a resource that
    /// provides context/meaning.
    /// 
    /// ## Implementation Notes
    /// This should never be done when the content can be identified properly, as
    /// once identification is lost, it is extremely difficult (and context
    /// dependent) to restore it again. Contained resources may have profiles and
    /// tags in their meta elements, but SHALL NOT have security labels.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Aliases
    /// inline resources, anonymous resources, contained resources
    /// 
    /// ## Conditions
    /// Used when: dom-2, dom-4, dom-3, dom-5
    pub contained: Option<Vec<Resource>>,
    /// Additional content defined by implementations
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the resource. To make the use of extensions safe and managable,
    /// there is a strict set of governance applied to the definition and use of
    /// extensions. Though any implementer can define an extension, there is a set of
    /// requirements that SHALL be met as part of the definition of the extension.
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.extension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="ExampleScenario.extension")]
    pub extension: Option<Vec<Extension>>,
    /// Extensions that cannot be ignored
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the resource and that modifies the understanding of the element
    /// that contains it and/or the understanding of the containing element's
    /// descendants. Usually modifier elements provide negation or qualification. To
    /// make the use of extensions safe and managable, there is a strict set of
    /// governance applied to the definition and use of extensions. Though any
    /// implementer is allowed to define an extension, there is a set of requirements
    /// that SHALL be met as part of the definition of the extension. Applications
    /// processing a resource are required to check for modifier extensions.
    /// 
    /// Modifier extensions SHALL NOT change the meaning of any elements on Resource
    /// or DomainResource (including cannot change the meaning of modifierExtension
    /// itself).
    /// 
    /// ## Requirements
    /// Modifier extensions allow for extensions that *cannot* be safely ignored to
    /// be clearly distinguished from the vast majority of extensions which can be
    /// safely ignored. This promotes interoperability by eliminating the need for
    /// implementers to prohibit the presence of extensions. For further information,
    /// see the [definition of modifier
    /// extensions](extensibility.html#modifierExtension).
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Modifier element - Modifier extensions are expected to modify the meaning or interpretation of the resource that contains them
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.modifierExtension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="ExampleScenario.modifierExtension")]
    #[fhir_serde(rename = "modifierExtension")]
    pub modifier_extension: Option<Vec<Extension>>,
    /// Canonical identifier for this example scenario, represented as a URI (globally unique)
    /// 
    /// An absolute URI that is used to identify this example scenario when it is
    /// referenced in a specification, model, design or an instance; also called its
    /// canonical identifier. This SHOULD be globally unique and SHOULD be a literal
    /// address at which an authoritative instance of this example scenario is (or
    /// will be) published. This URL can be the target of a canonical reference. It
    /// SHALL remain the same when the example scenario is stored on different
    /// servers.
    /// 
    /// ## Requirements
    /// Allows the example scenario to be referenced by a single globally unique
    /// identifier.
    /// 
    /// ## Implementation Notes
    /// Can be a urn:uuid: or a urn:oid: but real http: addresses are preferred.
    /// Multiple instances may share the same URL if they have a distinct version.
    /// 
    /// The determination of when to create a new version of a resource (same url,
    /// new version) vs. defining a new artifact is up to the author. Considerations
    /// for making this decision are found in [Technical and Business
    /// Versions](resource.html#versions).
    /// 
    /// In some cases, the resource can no longer be found at the stated url, but the
    /// url itself cannot change. Implementations can use the
    /// [meta.source](resource.html#meta) element to indicate where the current
    /// master source of the resource can be found.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **cnl-1**: URL should not contain | or # - these characters make processing canonical references problematic (warning)
    ///   Expression: `exists() implies matches('^[^|# ]+$')`
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="cnl-1", severity="warning", human="URL should not contain | or # - these characters make processing canonical references problematic", expr="exists() implies matches('^[^|# ]+$')", path="ExampleScenario.url")]
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.url")]
    pub url: Option<Uri>,
    /// Additional identifier for the example scenario
    /// 
    /// A formal identifier that is used to identify this example scenario when it is
    /// represented in other formats, or referenced in a specification, model, design
    /// or an instance.
    /// 
    /// ## Requirements
    /// Allows externally provided and/or usable business identifiers to be easily
    /// associated with the module.
    /// 
    /// ## Implementation Notes
    /// Typically, this is used for identifiers that can go in an HL7 V3 II (instance
    /// identifier) data type, and can then identify this example scenario outside of
    /// FHIR, where it is not possible to use the logical URI.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.identifier")]
    pub identifier: Option<Vec<Identifier>>,
    /// Business version of the example scenario
    /// 
    /// The identifier that is used to identify this version of the example scenario
    /// when it is referenced in a specification, model, design or instance. This is
    /// an arbitrary value managed by the example scenario author and is not expected
    /// to be globally unique. For example, it might be a timestamp (e.g. yyyymmdd)
    /// if a managed version is not available. There is also no expectation that
    /// versions can be placed in a lexicographical sequence.
    /// 
    /// ## Implementation Notes
    /// There may be different example scenario instances that have the same
    /// identifier but different versions. The version can be appended to the url in
    /// a reference to allow a reference to a particular business version of the
    /// example scenario with the format [url]|[version]. The version SHOULD NOT
    /// contain a '#' - see [Business Version](resource.html#bv-format).
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.version")]
    pub version: Option<String>,
    /// How to compare versions
    /// 
    /// Indicates the mechanism used to compare versions to determine which is more
    /// current.
    /// 
    /// ## Implementation Notes
    /// If set as a string, this is a FHIRPath expression that has two additional
    /// context variables passed in - %version1 and %version2 and will return a
    /// negative number if version1 is newer, a positive number if version2 and a 0
    /// if the version ordering can't be successfully be determined.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: extensible
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/version-algorithm
    #[fhir_binding(strength="extensible", valueset="http://hl7.org/fhir/ValueSet/version-algorithm")]
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.versionAlgorithm[x]")]
    #[fhir_serde(flatten)]
    pub version_algorithm: Option<ExampleScenarioVersionAlgorithm>,
    /// To be removed?
    /// 
    /// Temporarily retained for tooling purposes.
    /// 
    /// ## Implementation Notes
    /// Not needed as code will never be generated from one of these
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Conditions
    /// Used when: cnl-0
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.name")]
    pub name: Option<String>,
    /// Name for this example scenario (human friendly)
    /// 
    /// A short, descriptive, user-friendly title for the ExampleScenario.
    /// 
    /// ## Implementation Notes
    /// This name does not need to be machine-processing friendly and may contain
    /// punctuation, white-space, etc.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.title")]
    pub title: Option<String>,
    /// draft | active | retired | unknown
    /// 
    /// The status of this example scenario. Enables tracking the life-cycle of the
    /// content.
    /// 
    /// ## Implementation Notes
    /// Allows filtering of example scenarios that are appropriate for use versus
    /// not.
    /// 
    /// See guidance around (not) making local changes to elements
    /// [here](canonicalresource.html#localization).
    /// 
    /// ## Cardinality: Required (1..1)
    /// 
    /// ## Special Semantics
    /// - Modifier element - This is labeled as "Is Modifier" because applications should not use a retired {{title}} without due consideration
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: required
    /// - **Description**: The lifecycle status of an artifact.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/publication-status|5.0.0
    /// 
    /// ## Conditions
    /// Used when: exs-3, exs-4, exs-5
    #[fhir_binding(strength="required", valueset="http://hl7.org/fhir/ValueSet/publication-status")]
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.status")]
    pub status: Code,
    /// For testing purposes, not real usage
    /// 
    /// A Boolean value to indicate that this example scenario is authored for
    /// testing purposes (or education/evaluation/marketing) and is not intended to
    /// be used for genuine usage.
    /// 
    /// ## Requirements
    /// Enables experimental content to be developed following the same lifecycle
    /// that would be used for a production-level example scenario.
    /// 
    /// ## Implementation Notes
    /// Allows filtering of example scenarios that are appropriate for use versus
    /// not.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// - When missing: If absent, this resource is treated as though it is not experimental.
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.experimental")]
    pub experimental: Option<Boolean>,
    /// Date last changed
    /// 
    /// The date (and optionally time) when the example scenario was last
    /// significantly changed. The date must change when the business version changes
    /// and it must change if the status code changes. In addition, it should change
    /// when the substantive content of the example scenario changes. (e.g. the
    /// 'content logical definition').
    /// 
    /// ## Implementation Notes
    /// The date is often not tracked until the resource is published, but may be
    /// present on draft content. Note that this is not the same as the resource
    /// last-modified-date, since the resource may be a secondary representation of
    /// the example scenario. Additional specific dates may be added as extensions or
    /// be found by consulting Provenances associated with past versions of the
    /// resource.
    /// 
    /// See guidance around (not) making local changes to elements
    /// [here](canonicalresource.html#localization).
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Aliases
    /// Revision Date
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.date")]
    pub date: Option<DateTime>,
    /// Name of the publisher/steward (organization or individual)
    /// 
    /// The name of the organization or individual responsible for the release and
    /// ongoing maintenance of the example scenario.
    /// 
    /// ## Requirements
    /// Helps establish the "authority/credibility" of the example scenario. May also
    /// allow for contact.
    /// 
    /// ## Implementation Notes
    /// Usually an organization but may be an individual. The publisher (or steward)
    /// of the example scenario is the organization or individual primarily
    /// responsible for the maintenance and upkeep of the example scenario. This is
    /// not necessarily the same individual or organization that developed and
    /// initially authored the content. The publisher is the primary point of contact
    /// for questions or issues with the example scenario. This item SHOULD be
    /// populated unless the information is available from context.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.publisher")]
    pub publisher: Option<String>,
    /// Contact details for the publisher
    /// 
    /// Contact details to assist a user in finding and communicating with the
    /// publisher.
    /// 
    /// ## Implementation Notes
    /// May be a web site, an email address, a telephone number, etc.
    /// 
    /// See guidance around (not) making local changes to elements
    /// [here](canonicalresource.html#localization).
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.contact")]
    pub contact: Option<Vec<ContactDetail>>,
    /// Natural language description of the ExampleScenario
    /// 
    /// A free text natural language description of the ExampleScenario from a
    /// consumer's perspective.
    /// 
    /// ## Implementation Notes
    /// This description can be used to capture details such as comments about
    /// misuse. It is not a rendering of the ExampleScenario as conveyed in the
    /// 'text' field of the resource itself.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.description")]
    pub description: Option<Markdown>,
    /// The context that the content is intended to support
    /// 
    /// The content was developed with a focus and intent of supporting the contexts
    /// that are listed. These contexts may be general categories (gender, age, ...)
    /// or may be references to specific programs (insurance plans, studies, ...) and
    /// may be used to assist with indexing and searching for appropriate example
    /// scenario instances.
    /// 
    /// ## Requirements
    /// Assist in searching for appropriate content.
    /// 
    /// ## Implementation Notes
    /// When multiple useContexts are specified, there is no expectation that all or
    /// any of the contexts apply.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.useContext")]
    #[fhir_serde(rename = "useContext")]
    pub use_context: Option<Vec<UsageContext>>,
    /// Intended jurisdiction for example scenario (if applicable)
    /// 
    /// A legal or geographic region in which the example scenario is intended to be
    /// used.
    /// 
    /// ## Implementation Notes
    /// It may be possible for the example scenario to be used in jurisdictions other
    /// than those for which it was originally designed or intended.
    /// 
    /// DEPRECATION NOTE: For consistency, implementations are encouraged to migrate
    /// to using the new 'jurisdiction' code in the useContext element. (I.e.
    /// useContext.code indicating
    /// http://terminology.hl7.org/CodeSystem/usage-context-type#jurisdiction and
    /// useContext.valueCodeableConcept indicating the jurisdiction.)
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: extensible
    /// - **Description**: Countries and regions within which this artifact is targeted for use.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/jurisdiction
    #[fhir_binding(strength="extensible", valueset="http://hl7.org/fhir/ValueSet/jurisdiction")]
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.jurisdiction")]
    pub jurisdiction: Option<Vec<CodeableConcept>>,
    /// The purpose of the example, e.g. to illustrate a scenario
    /// 
    /// What the example scenario resource is created for. This should not be used to
    /// show the business purpose of the scenario itself, but the purpose of
    /// documenting a scenario.
    /// 
    /// ## Implementation Notes
    /// This element does not describe the usage of the example scenario. Instead, it
    /// provides traceability of ''why'' the resource is either needed or ''why'' it
    /// is defined as it is. This may be used to point to source materials or
    /// specifications that drove the structure of this example scenario.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.purpose")]
    pub purpose: Option<Markdown>,
    /// Use and/or publishing restrictions
    /// 
    /// A copyright statement relating to the example scenario and/or its contents.
    /// Copyright statements are generally legal restrictions on the use and
    /// publishing of the example scenario.
    /// 
    /// ## Requirements
    /// Consumers must be able to determine any legal restrictions on the use of the
    /// example scenario and/or its content.
    /// 
    /// ## Implementation Notes
    /// ...
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Aliases
    /// License, Restrictions
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.copyright")]
    pub copyright: Option<Markdown>,
    /// Copyright holder and year(s)
    /// 
    /// A short string (<50 characters), suitable for inclusion in a page footer that
    /// identifies the copyright holder, effective period, and optionally whether
    /// rights are resctricted. (e.g. 'All rights reserved', 'Some rights reserved').
    /// 
    /// ## Requirements
    /// Defines the content expected to be rendered in all representations of the
    /// artifact.
    /// 
    /// ## Implementation Notes
    /// The (c) symbol should NOT be included in this string. It will be added by
    /// software when rendering the notation. Full details about licensing,
    /// restrictions, warrantees, etc. goes in the more general 'copyright' element.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.copyrightLabel")]
    #[fhir_serde(rename = "copyrightLabel")]
    pub copyright_label: Option<String>,
    /// Individual involved in exchange
    /// 
    /// A system or person who shares or receives an instance within the scenario.
    /// 
    /// ## Requirements
    /// This is optional to allow for ExampleScenarios that are still draft
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **exs-19**: Actor should be referenced in at least one operation (warning)
    ///   Expression: `%resource.process.descendants().select(operation).where(initiator=%context.key or receiver=%context.key).exists()`
    /// - **exs-23**: actor.key canot be 'OTHER' (error)
    ///   Expression: `key != 'OTHER'`
    /// 
    /// ## Conditions
    /// Used when: exs-3, exs-6, exs-7, exs-17, exs-18
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.actor")]
    #[fhir_invariant(key="exs-19", severity="warning", human="Actor should be referenced in at least one operation", expr="%resource.process.descendants().select(operation).where(initiator=%context.key or receiver=%context.key).exists()", path="ExampleScenario.actor")]
    #[fhir_invariant(key="exs-23", severity="error", human="actor.key canot be 'OTHER'", expr="key != 'OTHER'", path="ExampleScenario.actor")]
    pub actor: Option<Vec<ExampleScenarioActor>>,
    /// Data used in the scenario
    /// 
    /// A single data collection that is shared as part of the scenario.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **exs-1**: StructureVersion is required if structureType is not FHIR (but may still be present even if FHIR) (error)
    ///   Expression: `structureType.exists() and structureType.memberOf('http://hl7.org/fhir/ValueSet/resource-types').not() implies structureVersion.exists()`
    /// - **exs-2**: instance.content is only allowed if there are no instance.versions (error)
    ///   Expression: `content.exists() implies version.empty()`
    /// - **exs-10**: Version keys must be unique within an instance (error)
    ///   Expression: `version.key.count() = version.key.distinct().count()`
    /// - **exs-11**: Version titles must be unique within an instance (error)
    ///   Expression: `version.title.count() = version.title.distinct().count()`
    /// - **exs-20**: Instance should be referenced in at least one location (warning)
    ///   Expression: `%resource.process.descendants().select(instanceReference).where($this=%context.key).exists()`
    /// - **exs-21**: Instance version should be referenced in at least one operation (warning)
    ///   Expression: `version.exists() implies version.key.intersect(%resource.process.descendants().where(instanceReference = %context.key).versionReference).exists()`
    /// 
    /// ## Conditions
    /// Used when: exs-8, exs-9, exs-14, exs-15, exs-16
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.instance")]
    #[fhir_invariant(key="exs-1", severity="error", human="StructureVersion is required if structureType is not FHIR (but may still be present even if FHIR)", expr="structureType.exists() and structureType.memberOf('http://hl7.org/fhir/ValueSet/resource-types').not() implies structureVersion.exists()", path="ExampleScenario.instance")]
    #[fhir_invariant(key="exs-2", severity="error", human="instance.content is only allowed if there are no instance.versions", expr="content.exists() implies version.empty()", path="ExampleScenario.instance")]
    #[fhir_invariant(key="exs-10", severity="error", human="Version keys must be unique within an instance", expr="version.key.count() = version.key.distinct().count()", path="ExampleScenario.instance")]
    #[fhir_invariant(key="exs-11", severity="error", human="Version titles must be unique within an instance", expr="version.title.count() = version.title.distinct().count()", path="ExampleScenario.instance")]
    #[fhir_invariant(key="exs-20", severity="warning", human="Instance should be referenced in at least one location", expr="%resource.process.descendants().select(instanceReference).where($this=%context.key).exists()", path="ExampleScenario.instance")]
    #[fhir_invariant(key="exs-21", severity="warning", human="Instance version should be referenced in at least one operation", expr="version.exists() implies version.key.intersect(%resource.process.descendants().where(instanceReference = %context.key).versionReference).exists()", path="ExampleScenario.instance")]
    pub instance: Option<Vec<ExampleScenarioInstance>>,
    /// Major process within scenario
    /// 
    /// A group of operations that represents a significant step within a scenario.
    /// 
    /// ## Implementation Notes
    /// Some scenarios might describe only one process.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **exs-5**: Processes must have steps if ExampleScenario status is active or required (error)
    ///   Expression: `%resource.status='active' or %resource.status='retired' implies step.exists()`
    /// 
    /// ## Conditions
    /// Used when: exs-4, exs-12, exs-22, exs-20, exs-21, exs-19
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.process")]
    #[fhir_invariant(key="exs-5", severity="error", human="Processes must have steps if ExampleScenario status is active or required", expr="%resource.status='active' or %resource.status='retired' implies step.exists()", path="ExampleScenario.process")]
    pub process: Option<Vec<ExampleScenarioProcess>>,
}

/// Individual involved in exchange
/// 
/// A system or person who shares or receives an instance within the scenario.
/// 
/// ## Requirements
/// This is optional to allow for ExampleScenarios that are still draft
/// 
/// ## Cardinality: Optional, Multiple (0..*)
/// 
/// ## Constraints
/// - **ele-1**: All FHIR elements must have a @value or children (error)
///   Expression: `hasValue() or (children().count() > id.count())`
/// - **exs-19**: Actor should be referenced in at least one operation (warning)
///   Expression: `%resource.process.descendants().select(operation).where(initiator=%context.key or receiver=%context.key).exists()`
/// - **exs-23**: actor.key canot be 'OTHER' (error)
///   Expression: `key != 'OTHER'`
/// 
/// ## Conditions
/// Used when: exs-3, exs-6, exs-7, exs-17, exs-18
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath, Default, FhirValidate)]
#[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.actor")]
#[fhir_invariant(key="exs-19", severity="warning", human="Actor should be referenced in at least one operation", expr="%resource.process.descendants().select(operation).where(initiator=%context.key or receiver=%context.key).exists()", path="ExampleScenario.actor")]
#[fhir_invariant(key="exs-23", severity="error", human="actor.key canot be 'OTHER'", expr="key != 'OTHER'", path="ExampleScenario.actor")]
pub struct ExampleScenarioActor {
    /// Unique id for inter-element referencing
    /// 
    /// Unique id for the element within a resource (for internal references). This
    /// may be any string value that does not contain spaces.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Conditions
    /// Used when: ele-1
    pub id: Option<String>,
    /// Additional content defined by implementations
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element. To make the use of extensions safe and managable,
    /// there is a strict set of governance applied to the definition and use of
    /// extensions. Though any implementer can define an extension, there is a set of
    /// requirements that SHALL be met as part of the definition of the extension.
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.actor.extension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="ExampleScenario.actor.extension")]
    pub extension: Option<Vec<Extension>>,
    /// Extensions that cannot be ignored even if unrecognized
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element and that modifies the understanding of the element
    /// in which it is contained and/or the understanding of the containing element's
    /// descendants. Usually modifier elements provide negation or qualification. To
    /// make the use of extensions safe and managable, there is a strict set of
    /// governance applied to the definition and use of extensions. Though any
    /// implementer can define an extension, there is a set of requirements that
    /// SHALL be met as part of the definition of the extension. Applications
    /// processing a resource are required to check for modifier extensions.
    /// 
    /// Modifier extensions SHALL NOT change the meaning of any elements on Resource
    /// or DomainResource (including cannot change the meaning of modifierExtension
    /// itself).
    /// 
    /// ## Requirements
    /// Modifier extensions allow for extensions that *cannot* be safely ignored to
    /// be clearly distinguished from the vast majority of extensions which can be
    /// safely ignored. This promotes interoperability by eliminating the need for
    /// implementers to prohibit the presence of extensions. For further information,
    /// see the [definition of modifier
    /// extensions](extensibility.html#modifierExtension).
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Modifier element - Modifier extensions are expected to modify the meaning or interpretation of the element that contains them
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content, modifiers
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.actor.modifierExtension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="ExampleScenario.actor.modifierExtension")]
    #[fhir_serde(rename = "modifierExtension")]
    pub modifier_extension: Option<Vec<Extension>>,
    /// ID or acronym of the actor
    /// 
    /// A unique string within the scenario that is used to reference the actor.
    /// 
    /// ## Cardinality: Required (1..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Conditions
    /// Used when: exs-6, exs-23, exs-17, exs-18, exs-19
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.actor.key")]
    pub key: String,
    /// person | system
    /// 
    /// The category of actor - person or system.
    /// 
    /// ## Cardinality: Required (1..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: required
    /// - **Description**: The type of actor - system or human.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/examplescenario-actor-type|5.0.0
    #[fhir_binding(strength="required", valueset="http://hl7.org/fhir/ValueSet/examplescenario-actor-type")]
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.actor.type")]
    #[fhir_serde(rename = "type")]
    pub r#type: Code,
    /// Label for actor when rendering
    /// 
    /// The human-readable name for the actor used when rendering the scenario.
    /// 
    /// ## Cardinality: Required (1..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Conditions
    /// Used when: exs-7
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.actor.title")]
    pub title: String,
    /// Details about actor
    /// 
    /// An explanation of who/what the actor is and its role in the scenario.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.actor.description")]
    pub description: Option<Markdown>,
}

/// Choice of types for the structureProfile\[x\] field in ExampleScenarioInstance
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath, FhirValidate)]
#[fhir_choice_element(base_name = "structureProfile")]
pub enum ExampleScenarioInstanceStructureProfile {
    /// Variant accepting the Canonical type.
    #[fhir_serde(rename = "structureProfileCanonical")]
    Canonical(Canonical),
    /// Variant accepting the Uri type.
    #[fhir_serde(rename = "structureProfileUri")]
    Uri(Uri),
}

/// Data used in the scenario
/// 
/// A single data collection that is shared as part of the scenario.
/// 
/// ## Cardinality: Optional, Multiple (0..*)
/// 
/// ## Constraints
/// - **ele-1**: All FHIR elements must have a @value or children (error)
///   Expression: `hasValue() or (children().count() > id.count())`
/// - **exs-1**: StructureVersion is required if structureType is not FHIR (but may still be present even if FHIR) (error)
///   Expression: `structureType.exists() and structureType.memberOf('http://hl7.org/fhir/ValueSet/resource-types').not() implies structureVersion.exists()`
/// - **exs-2**: instance.content is only allowed if there are no instance.versions (error)
///   Expression: `content.exists() implies version.empty()`
/// - **exs-10**: Version keys must be unique within an instance (error)
///   Expression: `version.key.count() = version.key.distinct().count()`
/// - **exs-11**: Version titles must be unique within an instance (error)
///   Expression: `version.title.count() = version.title.distinct().count()`
/// - **exs-20**: Instance should be referenced in at least one location (warning)
///   Expression: `%resource.process.descendants().select(instanceReference).where($this=%context.key).exists()`
/// - **exs-21**: Instance version should be referenced in at least one operation (warning)
///   Expression: `version.exists() implies version.key.intersect(%resource.process.descendants().where(instanceReference = %context.key).versionReference).exists()`
/// 
/// ## Conditions
/// Used when: exs-8, exs-9, exs-14, exs-15, exs-16
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath, Default, FhirValidate)]
#[fhir_resource(choice_elements = "structureProfile")]
#[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.instance")]
#[fhir_invariant(key="exs-1", severity="error", human="StructureVersion is required if structureType is not FHIR (but may still be present even if FHIR)", expr="structureType.exists() and structureType.memberOf('http://hl7.org/fhir/ValueSet/resource-types').not() implies structureVersion.exists()", path="ExampleScenario.instance")]
#[fhir_invariant(key="exs-2", severity="error", human="instance.content is only allowed if there are no instance.versions", expr="content.exists() implies version.empty()", path="ExampleScenario.instance")]
#[fhir_invariant(key="exs-10", severity="error", human="Version keys must be unique within an instance", expr="version.key.count() = version.key.distinct().count()", path="ExampleScenario.instance")]
#[fhir_invariant(key="exs-11", severity="error", human="Version titles must be unique within an instance", expr="version.title.count() = version.title.distinct().count()", path="ExampleScenario.instance")]
#[fhir_invariant(key="exs-20", severity="warning", human="Instance should be referenced in at least one location", expr="%resource.process.descendants().select(instanceReference).where($this=%context.key).exists()", path="ExampleScenario.instance")]
#[fhir_invariant(key="exs-21", severity="warning", human="Instance version should be referenced in at least one operation", expr="version.exists() implies version.key.intersect(%resource.process.descendants().where(instanceReference = %context.key).versionReference).exists()", path="ExampleScenario.instance")]
pub struct ExampleScenarioInstance {
    /// Unique id for inter-element referencing
    /// 
    /// Unique id for the element within a resource (for internal references). This
    /// may be any string value that does not contain spaces.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Conditions
    /// Used when: ele-1
    pub id: Option<String>,
    /// Additional content defined by implementations
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element. To make the use of extensions safe and managable,
    /// there is a strict set of governance applied to the definition and use of
    /// extensions. Though any implementer can define an extension, there is a set of
    /// requirements that SHALL be met as part of the definition of the extension.
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.instance.extension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="ExampleScenario.instance.extension")]
    pub extension: Option<Vec<Extension>>,
    /// Extensions that cannot be ignored even if unrecognized
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element and that modifies the understanding of the element
    /// in which it is contained and/or the understanding of the containing element's
    /// descendants. Usually modifier elements provide negation or qualification. To
    /// make the use of extensions safe and managable, there is a strict set of
    /// governance applied to the definition and use of extensions. Though any
    /// implementer can define an extension, there is a set of requirements that
    /// SHALL be met as part of the definition of the extension. Applications
    /// processing a resource are required to check for modifier extensions.
    /// 
    /// Modifier extensions SHALL NOT change the meaning of any elements on Resource
    /// or DomainResource (including cannot change the meaning of modifierExtension
    /// itself).
    /// 
    /// ## Requirements
    /// Modifier extensions allow for extensions that *cannot* be safely ignored to
    /// be clearly distinguished from the vast majority of extensions which can be
    /// safely ignored. This promotes interoperability by eliminating the need for
    /// implementers to prohibit the presence of extensions. For further information,
    /// see the [definition of modifier
    /// extensions](extensibility.html#modifierExtension).
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Modifier element - Modifier extensions are expected to modify the meaning or interpretation of the element that contains them
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content, modifiers
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.instance.modifierExtension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="ExampleScenario.instance.modifierExtension")]
    #[fhir_serde(rename = "modifierExtension")]
    pub modifier_extension: Option<Vec<Extension>>,
    /// ID or acronym of the instance
    /// 
    /// A unique string within the scenario that is used to reference the instance.
    /// 
    /// ## Cardinality: Required (1..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Conditions
    /// Used when: exs-8, exs-14, exs-15, exs-16, exs-20, exs-21
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.instance.key")]
    pub key: String,
    /// Data structure for example
    /// 
    /// A code indicating the kind of data structure (FHIR resource or some other
    /// standard) this is an instance of.
    /// 
    /// ## Cardinality: Required (1..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: extensible
    /// - **Description**: The structure that defines the instance
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/examplescenario-instance-type
    /// 
    /// ## Conditions
    /// Used when: exs-1
    #[fhir_binding(strength="extensible", valueset="http://hl7.org/fhir/ValueSet/examplescenario-instance-type")]
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.instance.structureType")]
    #[fhir_serde(rename = "structureType")]
    pub structure_type: Coding,
    /// E.g. 4.0.1
    /// 
    /// Conveys the version of the data structure instantiated. I.e. what release of
    /// FHIR, X12, OpenEHR, etc. is instance compliant with.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - When missing: If the structureType is a FHIR resource, then the version is the same FHIR version this ExampleScenario is expressed in.
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Conditions
    /// Used when: exs-1
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.instance.structureVersion")]
    #[fhir_serde(rename = "structureVersion")]
    pub structure_version: Option<String>,
    /// Rules instance adheres to
    /// 
    /// Refers to a profile, template or other ruleset the instance adheres to.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.instance.structureProfile[x]")]
    #[fhir_serde(flatten)]
    pub structure_profile: Option<ExampleScenarioInstanceStructureProfile>,
    /// Label for instance
    /// 
    /// A short descriptive label the instance to be used in tables or diagrams.
    /// 
    /// ## Cardinality: Required (1..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Conditions
    /// Used when: exs-9
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.instance.title")]
    pub title: String,
    /// Human-friendly description of the instance
    /// 
    /// An explanation of what the instance contains and what it's for.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.instance.description")]
    pub description: Option<Markdown>,
    /// Example instance data
    /// 
    /// Points to an instance (typically an example) that shows the data that would
    /// corespond to this instance.
    /// 
    /// ## Implementation Notes
    /// If not conveying FHIR data or not using the same version of FHIR as this
    /// ExampleScenario instance, the reference must be to a Binary.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Conditions
    /// Used when: exs-2
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.instance.content")]
    pub content: Option<Reference>,
    /// Snapshot of instance that changes
    /// 
    /// Represents the instance as it was at a specific time-point.
    /// 
    /// ## Requirements
    /// Allows representing the 'same' instance as it evolves throughout the
    /// scenario.
    /// 
    /// ## Implementation Notes
    /// Not used if an instance doesn't change
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Conditions
    /// Used when: exs-10, exs-11, exs-15, exs-16, exs-2, exs-21
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.instance.version")]
    pub version: Option<Vec<ExampleScenarioInstanceVersion>>,
    /// Resources contained in the instance
    /// 
    /// References to other instances that can be found within this instance (e.g.
    /// the observations contained in a bundle).
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **exs-14**: InstanceReference must be a key of an instance defined in the ExampleScenario (error)
    ///   Expression: `%resource.instance.where(key=%context.instanceReference).exists()`
    /// - **exs-15**: versionReference must be specified if the referenced instance defines versions (error)
    ///   Expression: `versionReference.empty() implies %resource.instance.where(key=%context.instanceReference).version.empty()`
    /// - **exs-16**: versionReference must be a key of a version within the instance pointed to by instanceReference (error)
    ///   Expression: `versionReference.exists() implies %resource.instance.where(key=%context.instanceReference).version.where(key=%context.versionReference).exists()`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.instance.containedInstance")]
    #[fhir_invariant(key="exs-14", severity="error", human="InstanceReference must be a key of an instance defined in the ExampleScenario", expr="%resource.instance.where(key=%context.instanceReference).exists()", path="ExampleScenario.instance.containedInstance")]
    #[fhir_invariant(key="exs-15", severity="error", human="versionReference must be specified if the referenced instance defines versions", expr="versionReference.empty() implies %resource.instance.where(key=%context.instanceReference).version.empty()", path="ExampleScenario.instance.containedInstance")]
    #[fhir_invariant(key="exs-16", severity="error", human="versionReference must be a key of a version within the instance pointed to by instanceReference", expr="versionReference.exists() implies %resource.instance.where(key=%context.instanceReference).version.where(key=%context.versionReference).exists()", path="ExampleScenario.instance.containedInstance")]
    #[fhir_serde(rename = "containedInstance")]
    pub contained_instance: Option<Vec<ExampleScenarioInstanceContainedInstance>>,
}

/// Resources contained in the instance
/// 
/// References to other instances that can be found within this instance (e.g.
/// the observations contained in a bundle).
/// 
/// ## Cardinality: Optional, Multiple (0..*)
/// 
/// ## Constraints
/// - **ele-1**: All FHIR elements must have a @value or children (error)
///   Expression: `hasValue() or (children().count() > id.count())`
/// - **exs-14**: InstanceReference must be a key of an instance defined in the ExampleScenario (error)
///   Expression: `%resource.instance.where(key=%context.instanceReference).exists()`
/// - **exs-15**: versionReference must be specified if the referenced instance defines versions (error)
///   Expression: `versionReference.empty() implies %resource.instance.where(key=%context.instanceReference).version.empty()`
/// - **exs-16**: versionReference must be a key of a version within the instance pointed to by instanceReference (error)
///   Expression: `versionReference.exists() implies %resource.instance.where(key=%context.instanceReference).version.where(key=%context.versionReference).exists()`
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath, Default, FhirValidate)]
#[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.instance.containedInstance")]
#[fhir_invariant(key="exs-14", severity="error", human="InstanceReference must be a key of an instance defined in the ExampleScenario", expr="%resource.instance.where(key=%context.instanceReference).exists()", path="ExampleScenario.instance.containedInstance")]
#[fhir_invariant(key="exs-15", severity="error", human="versionReference must be specified if the referenced instance defines versions", expr="versionReference.empty() implies %resource.instance.where(key=%context.instanceReference).version.empty()", path="ExampleScenario.instance.containedInstance")]
#[fhir_invariant(key="exs-16", severity="error", human="versionReference must be a key of a version within the instance pointed to by instanceReference", expr="versionReference.exists() implies %resource.instance.where(key=%context.instanceReference).version.where(key=%context.versionReference).exists()", path="ExampleScenario.instance.containedInstance")]
pub struct ExampleScenarioInstanceContainedInstance {
    /// Unique id for inter-element referencing
    /// 
    /// Unique id for the element within a resource (for internal references). This
    /// may be any string value that does not contain spaces.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Conditions
    /// Used when: ele-1
    pub id: Option<String>,
    /// Additional content defined by implementations
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element. To make the use of extensions safe and managable,
    /// there is a strict set of governance applied to the definition and use of
    /// extensions. Though any implementer can define an extension, there is a set of
    /// requirements that SHALL be met as part of the definition of the extension.
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.instance.containedInstance.extension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="ExampleScenario.instance.containedInstance.extension")]
    pub extension: Option<Vec<Extension>>,
    /// Extensions that cannot be ignored even if unrecognized
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element and that modifies the understanding of the element
    /// in which it is contained and/or the understanding of the containing element's
    /// descendants. Usually modifier elements provide negation or qualification. To
    /// make the use of extensions safe and managable, there is a strict set of
    /// governance applied to the definition and use of extensions. Though any
    /// implementer can define an extension, there is a set of requirements that
    /// SHALL be met as part of the definition of the extension. Applications
    /// processing a resource are required to check for modifier extensions.
    /// 
    /// Modifier extensions SHALL NOT change the meaning of any elements on Resource
    /// or DomainResource (including cannot change the meaning of modifierExtension
    /// itself).
    /// 
    /// ## Requirements
    /// Modifier extensions allow for extensions that *cannot* be safely ignored to
    /// be clearly distinguished from the vast majority of extensions which can be
    /// safely ignored. This promotes interoperability by eliminating the need for
    /// implementers to prohibit the presence of extensions. For further information,
    /// see the [definition of modifier
    /// extensions](extensibility.html#modifierExtension).
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Modifier element - Modifier extensions are expected to modify the meaning or interpretation of the element that contains them
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content, modifiers
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.instance.containedInstance.modifierExtension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="ExampleScenario.instance.containedInstance.modifierExtension")]
    #[fhir_serde(rename = "modifierExtension")]
    pub modifier_extension: Option<Vec<Extension>>,
    /// Key of contained instance
    /// 
    /// A reference to the key of an instance found within this one.
    /// 
    /// ## Cardinality: Required (1..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Conditions
    /// Used when: exs-14, exs-15, exs-16, exs-20, exs-21
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.instance.containedInstance.instanceReference")]
    #[fhir_serde(rename = "instanceReference")]
    pub instance_reference: String,
    /// Key of contained instance version
    /// 
    /// A reference to the key of a specific version of an instance in this instance.
    /// 
    /// ## Implementation Notes
    /// Required if the referenced instance has versions
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Conditions
    /// Used when: exs-15, exs-16, exs-21
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.instance.containedInstance.versionReference")]
    #[fhir_serde(rename = "versionReference")]
    pub version_reference: Option<String>,
}

/// Snapshot of instance that changes
/// 
/// Represents the instance as it was at a specific time-point.
/// 
/// ## Requirements
/// Allows representing the 'same' instance as it evolves throughout the
/// scenario.
/// 
/// ## Implementation Notes
/// Not used if an instance doesn't change
/// 
/// ## Cardinality: Optional, Multiple (0..*)
/// 
/// ## Constraints
/// - **ele-1**: All FHIR elements must have a @value or children (error)
///   Expression: `hasValue() or (children().count() > id.count())`
/// 
/// ## Conditions
/// Used when: exs-10, exs-11, exs-15, exs-16, exs-2, exs-21
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath, Default, FhirValidate)]
#[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.instance.version")]
pub struct ExampleScenarioInstanceVersion {
    /// Unique id for inter-element referencing
    /// 
    /// Unique id for the element within a resource (for internal references). This
    /// may be any string value that does not contain spaces.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Conditions
    /// Used when: ele-1
    pub id: Option<String>,
    /// Additional content defined by implementations
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element. To make the use of extensions safe and managable,
    /// there is a strict set of governance applied to the definition and use of
    /// extensions. Though any implementer can define an extension, there is a set of
    /// requirements that SHALL be met as part of the definition of the extension.
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.instance.version.extension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="ExampleScenario.instance.version.extension")]
    pub extension: Option<Vec<Extension>>,
    /// Extensions that cannot be ignored even if unrecognized
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element and that modifies the understanding of the element
    /// in which it is contained and/or the understanding of the containing element's
    /// descendants. Usually modifier elements provide negation or qualification. To
    /// make the use of extensions safe and managable, there is a strict set of
    /// governance applied to the definition and use of extensions. Though any
    /// implementer can define an extension, there is a set of requirements that
    /// SHALL be met as part of the definition of the extension. Applications
    /// processing a resource are required to check for modifier extensions.
    /// 
    /// Modifier extensions SHALL NOT change the meaning of any elements on Resource
    /// or DomainResource (including cannot change the meaning of modifierExtension
    /// itself).
    /// 
    /// ## Requirements
    /// Modifier extensions allow for extensions that *cannot* be safely ignored to
    /// be clearly distinguished from the vast majority of extensions which can be
    /// safely ignored. This promotes interoperability by eliminating the need for
    /// implementers to prohibit the presence of extensions. For further information,
    /// see the [definition of modifier
    /// extensions](extensibility.html#modifierExtension).
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Modifier element - Modifier extensions are expected to modify the meaning or interpretation of the element that contains them
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content, modifiers
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.instance.version.modifierExtension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="ExampleScenario.instance.version.modifierExtension")]
    #[fhir_serde(rename = "modifierExtension")]
    pub modifier_extension: Option<Vec<Extension>>,
    /// ID or acronym of the version
    /// 
    /// A unique string within the instance that is used to reference the version of
    /// the instance.
    /// 
    /// ## Cardinality: Required (1..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Conditions
    /// Used when: exs-10, exs-16, exs-21
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.instance.version.key")]
    pub key: String,
    /// Label for instance version
    /// 
    /// A short descriptive label the version to be used in tables or diagrams.
    /// 
    /// ## Cardinality: Required (1..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Conditions
    /// Used when: exs-11
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.instance.version.title")]
    pub title: String,
    /// Details about version
    /// 
    /// An explanation of what this specific version of the instance contains and
    /// represents.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.instance.version.description")]
    pub description: Option<Markdown>,
    /// Example instance version data
    /// 
    /// Points to an instance (typically an example) that shows the data that would
    /// flow at this point in the scenario.
    /// 
    /// ## Implementation Notes
    /// If not conveying FHIR data or not using the same version of FHIR as this
    /// ExampleScenario instance, the reference must be to a Binary.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.instance.version.content")]
    pub content: Option<Reference>,
}

/// Major process within scenario
/// 
/// A group of operations that represents a significant step within a scenario.
/// 
/// ## Implementation Notes
/// Some scenarios might describe only one process.
/// 
/// ## Cardinality: Optional, Multiple (0..*)
/// 
/// ## Constraints
/// - **ele-1**: All FHIR elements must have a @value or children (error)
///   Expression: `hasValue() or (children().count() > id.count())`
/// - **exs-5**: Processes must have steps if ExampleScenario status is active or required (error)
///   Expression: `%resource.status='active' or %resource.status='retired' implies step.exists()`
/// 
/// ## Conditions
/// Used when: exs-4, exs-12, exs-22, exs-20, exs-21, exs-19
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath, Default, FhirValidate)]
#[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.process")]
#[fhir_invariant(key="exs-5", severity="error", human="Processes must have steps if ExampleScenario status is active or required", expr="%resource.status='active' or %resource.status='retired' implies step.exists()", path="ExampleScenario.process")]
pub struct ExampleScenarioProcess {
    /// Unique id for inter-element referencing
    /// 
    /// Unique id for the element within a resource (for internal references). This
    /// may be any string value that does not contain spaces.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Conditions
    /// Used when: ele-1
    pub id: Option<String>,
    /// Additional content defined by implementations
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element. To make the use of extensions safe and managable,
    /// there is a strict set of governance applied to the definition and use of
    /// extensions. Though any implementer can define an extension, there is a set of
    /// requirements that SHALL be met as part of the definition of the extension.
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.process.extension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="ExampleScenario.process.extension")]
    pub extension: Option<Vec<Extension>>,
    /// Extensions that cannot be ignored even if unrecognized
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element and that modifies the understanding of the element
    /// in which it is contained and/or the understanding of the containing element's
    /// descendants. Usually modifier elements provide negation or qualification. To
    /// make the use of extensions safe and managable, there is a strict set of
    /// governance applied to the definition and use of extensions. Though any
    /// implementer can define an extension, there is a set of requirements that
    /// SHALL be met as part of the definition of the extension. Applications
    /// processing a resource are required to check for modifier extensions.
    /// 
    /// Modifier extensions SHALL NOT change the meaning of any elements on Resource
    /// or DomainResource (including cannot change the meaning of modifierExtension
    /// itself).
    /// 
    /// ## Requirements
    /// Modifier extensions allow for extensions that *cannot* be safely ignored to
    /// be clearly distinguished from the vast majority of extensions which can be
    /// safely ignored. This promotes interoperability by eliminating the need for
    /// implementers to prohibit the presence of extensions. For further information,
    /// see the [definition of modifier
    /// extensions](extensibility.html#modifierExtension).
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Modifier element - Modifier extensions are expected to modify the meaning or interpretation of the element that contains them
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content, modifiers
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.process.modifierExtension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="ExampleScenario.process.modifierExtension")]
    #[fhir_serde(rename = "modifierExtension")]
    pub modifier_extension: Option<Vec<Extension>>,
    /// Label for procss
    /// 
    /// A short descriptive label the process to be used in tables or diagrams.
    /// 
    /// ## Cardinality: Required (1..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Conditions
    /// Used when: exs-12
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.process.title")]
    pub title: String,
    /// Human-friendly description of the process
    /// 
    /// An explanation of what the process represents and what it does.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.process.description")]
    pub description: Option<Markdown>,
    /// Status before process starts
    /// 
    /// Description of the initial state of the actors, environment and data before
    /// the process starts.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.process.preConditions")]
    #[fhir_serde(rename = "preConditions")]
    pub pre_conditions: Option<Markdown>,
    /// Status after successful completion
    /// 
    /// Description of the final state of the actors, environment and data after the
    /// process has been successfully completed.
    /// 
    /// ## Implementation Notes
    /// Alternate steps might not result in all post conditions holding
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.process.postConditions")]
    #[fhir_serde(rename = "postConditions")]
    pub post_conditions: Option<Markdown>,
    /// Event within of the process
    /// 
    /// A significant action that occurs as part of the process.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **exs-13**: Alternative titles must be unique within a step (error)
    ///   Expression: `alternative.title.count() = alternative.title.distinct().count()`
    /// - **exs-22**: Can have a process, a workflow, one or more operations or none of these, but cannot have a combination (error)
    ///   Expression: `(process.exists() implies workflow.empty() and operation.empty()) and (workflow.exists() implies operation.empty())`
    /// 
    /// ## Conditions
    /// Used when: exs-5
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.process.step")]
    #[fhir_invariant(key="exs-13", severity="error", human="Alternative titles must be unique within a step", expr="alternative.title.count() = alternative.title.distinct().count()", path="ExampleScenario.process.step")]
    #[fhir_invariant(key="exs-22", severity="error", human="Can have a process, a workflow, one or more operations or none of these, but cannot have a combination", expr="(process.exists() implies workflow.empty() and operation.empty()) and (workflow.exists() implies operation.empty())", path="ExampleScenario.process.step")]
    pub step: Option<Vec<ExampleScenarioProcessStep>>,
}

/// Event within of the process
/// 
/// A significant action that occurs as part of the process.
/// 
/// ## Cardinality: Optional, Multiple (0..*)
/// 
/// ## Constraints
/// - **ele-1**: All FHIR elements must have a @value or children (error)
///   Expression: `hasValue() or (children().count() > id.count())`
/// - **exs-13**: Alternative titles must be unique within a step (error)
///   Expression: `alternative.title.count() = alternative.title.distinct().count()`
/// - **exs-22**: Can have a process, a workflow, one or more operations or none of these, but cannot have a combination (error)
///   Expression: `(process.exists() implies workflow.empty() and operation.empty()) and (workflow.exists() implies operation.empty())`
/// 
/// ## Conditions
/// Used when: exs-5
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath, Default, FhirValidate)]
#[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.process.step")]
#[fhir_invariant(key="exs-13", severity="error", human="Alternative titles must be unique within a step", expr="alternative.title.count() = alternative.title.distinct().count()", path="ExampleScenario.process.step")]
#[fhir_invariant(key="exs-22", severity="error", human="Can have a process, a workflow, one or more operations or none of these, but cannot have a combination", expr="(process.exists() implies workflow.empty() and operation.empty()) and (workflow.exists() implies operation.empty())", path="ExampleScenario.process.step")]
pub struct ExampleScenarioProcessStep {
    /// Unique id for inter-element referencing
    /// 
    /// Unique id for the element within a resource (for internal references). This
    /// may be any string value that does not contain spaces.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Conditions
    /// Used when: ele-1
    pub id: Option<String>,
    /// Additional content defined by implementations
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element. To make the use of extensions safe and managable,
    /// there is a strict set of governance applied to the definition and use of
    /// extensions. Though any implementer can define an extension, there is a set of
    /// requirements that SHALL be met as part of the definition of the extension.
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.process.step.extension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="ExampleScenario.process.step.extension")]
    pub extension: Option<Vec<Extension>>,
    /// Extensions that cannot be ignored even if unrecognized
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element and that modifies the understanding of the element
    /// in which it is contained and/or the understanding of the containing element's
    /// descendants. Usually modifier elements provide negation or qualification. To
    /// make the use of extensions safe and managable, there is a strict set of
    /// governance applied to the definition and use of extensions. Though any
    /// implementer can define an extension, there is a set of requirements that
    /// SHALL be met as part of the definition of the extension. Applications
    /// processing a resource are required to check for modifier extensions.
    /// 
    /// Modifier extensions SHALL NOT change the meaning of any elements on Resource
    /// or DomainResource (including cannot change the meaning of modifierExtension
    /// itself).
    /// 
    /// ## Requirements
    /// Modifier extensions allow for extensions that *cannot* be safely ignored to
    /// be clearly distinguished from the vast majority of extensions which can be
    /// safely ignored. This promotes interoperability by eliminating the need for
    /// implementers to prohibit the presence of extensions. For further information,
    /// see the [definition of modifier
    /// extensions](extensibility.html#modifierExtension).
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Modifier element - Modifier extensions are expected to modify the meaning or interpretation of the element that contains them
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content, modifiers
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.process.step.modifierExtension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="ExampleScenario.process.step.modifierExtension")]
    #[fhir_serde(rename = "modifierExtension")]
    pub modifier_extension: Option<Vec<Extension>>,
    /// Sequential number of the step
    /// 
    /// The sequential number of the step, e.g. 1.2.5.
    /// 
    /// ## Implementation Notes
    /// If step numbers are simultaneous, they will be the same. Numbers don't have
    /// to be numeric. E.g. '2c)' is a valid step number
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.process.step.number")]
    pub number: Option<String>,
    /// Step is nested process
    /// 
    /// Indicates that the step is a complex sub-process with its own steps.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.process.step.process")]
    pub process: Option<ExampleScenarioProcess>,
    /// Step is nested workflow
    /// 
    /// Indicates that the step is defined by a seaparate scenario instance.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Conditions
    /// Used when: exs-22
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.process.step.workflow")]
    pub workflow: Option<Canonical>,
    /// Step is simple action
    /// 
    /// The step represents a single operation invoked on receiver by sender.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **exs-17**: If specified, initiator must be a key of an actor within the ExampleScenario (error)
    ///   Expression: `initiator.exists() implies initiator = 'OTHER' or %resource.actor.where(key=%context.initiator).exists()`
    /// - **exs-18**: If specified, receiver must be a key of an actor within the ExampleScenario (error)
    ///   Expression: `receiver.exists() implies receiver = 'OTHER' or %resource.actor.where(key=%context.receiver).exists()`
    /// 
    /// ## Conditions
    /// Used when: exs-19, exs-22
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.process.step.operation")]
    #[fhir_invariant(key="exs-17", severity="error", human="If specified, initiator must be a key of an actor within the ExampleScenario", expr="initiator.exists() implies initiator = 'OTHER' or %resource.actor.where(key=%context.initiator).exists()", path="ExampleScenario.process.step.operation")]
    #[fhir_invariant(key="exs-18", severity="error", human="If specified, receiver must be a key of an actor within the ExampleScenario", expr="receiver.exists() implies receiver = 'OTHER' or %resource.actor.where(key=%context.receiver).exists()", path="ExampleScenario.process.step.operation")]
    pub operation: Option<ExampleScenarioProcessStepOperation>,
    /// Alternate non-typical step action
    /// 
    /// Indicates an alternative step that can be taken instead of the sub-process,
    /// scenario or operation. E.g. to represent non-happy-path/exceptional/atypical
    /// circumstances.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Conditions
    /// Used when: exs-13
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.process.step.alternative")]
    pub alternative: Option<Vec<ExampleScenarioProcessStepAlternative>>,
    /// Pause in the flow?
    /// 
    /// If true, indicates that, following this step, there is a pause in the flow
    /// and the subsequent step will occur at some later time (triggered by some
    /// event).
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.process.step.pause")]
    pub pause: Option<Boolean>,
}

/// Alternate non-typical step action
/// 
/// Indicates an alternative step that can be taken instead of the sub-process,
/// scenario or operation. E.g. to represent non-happy-path/exceptional/atypical
/// circumstances.
/// 
/// ## Cardinality: Optional, Multiple (0..*)
/// 
/// ## Constraints
/// - **ele-1**: All FHIR elements must have a @value or children (error)
///   Expression: `hasValue() or (children().count() > id.count())`
/// 
/// ## Conditions
/// Used when: exs-13
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath, Default, FhirValidate)]
#[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.process.step.alternative")]
pub struct ExampleScenarioProcessStepAlternative {
    /// Unique id for inter-element referencing
    /// 
    /// Unique id for the element within a resource (for internal references). This
    /// may be any string value that does not contain spaces.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Conditions
    /// Used when: ele-1
    pub id: Option<String>,
    /// Additional content defined by implementations
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element. To make the use of extensions safe and managable,
    /// there is a strict set of governance applied to the definition and use of
    /// extensions. Though any implementer can define an extension, there is a set of
    /// requirements that SHALL be met as part of the definition of the extension.
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.process.step.alternative.extension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="ExampleScenario.process.step.alternative.extension")]
    pub extension: Option<Vec<Extension>>,
    /// Extensions that cannot be ignored even if unrecognized
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element and that modifies the understanding of the element
    /// in which it is contained and/or the understanding of the containing element's
    /// descendants. Usually modifier elements provide negation or qualification. To
    /// make the use of extensions safe and managable, there is a strict set of
    /// governance applied to the definition and use of extensions. Though any
    /// implementer can define an extension, there is a set of requirements that
    /// SHALL be met as part of the definition of the extension. Applications
    /// processing a resource are required to check for modifier extensions.
    /// 
    /// Modifier extensions SHALL NOT change the meaning of any elements on Resource
    /// or DomainResource (including cannot change the meaning of modifierExtension
    /// itself).
    /// 
    /// ## Requirements
    /// Modifier extensions allow for extensions that *cannot* be safely ignored to
    /// be clearly distinguished from the vast majority of extensions which can be
    /// safely ignored. This promotes interoperability by eliminating the need for
    /// implementers to prohibit the presence of extensions. For further information,
    /// see the [definition of modifier
    /// extensions](extensibility.html#modifierExtension).
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Modifier element - Modifier extensions are expected to modify the meaning or interpretation of the element that contains them
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content, modifiers
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.process.step.alternative.modifierExtension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="ExampleScenario.process.step.alternative.modifierExtension")]
    #[fhir_serde(rename = "modifierExtension")]
    pub modifier_extension: Option<Vec<Extension>>,
    /// Label for alternative
    /// 
    /// The label to display for the alternative that gives a sense of the
    /// circumstance in which the alternative should be invoked.
    /// 
    /// ## Cardinality: Required (1..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Conditions
    /// Used when: exs-13
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.process.step.alternative.title")]
    pub title: String,
    /// Human-readable description of option
    /// 
    /// A human-readable description of the alternative explaining when the
    /// alternative should occur rather than the base step.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.process.step.alternative.description")]
    pub description: Option<Markdown>,
    /// Alternative action(s)
    /// 
    /// Indicates the operation, sub-process or scenario that happens if the
    /// alternative option is selected.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.process.step.alternative.step")]
    pub step: Option<Vec<ExampleScenarioProcessStep>>,
}

/// Step is simple action
/// 
/// The step represents a single operation invoked on receiver by sender.
/// 
/// ## Cardinality: Optional (0..1)
/// 
/// ## Constraints
/// - **ele-1**: All FHIR elements must have a @value or children (error)
///   Expression: `hasValue() or (children().count() > id.count())`
/// - **exs-17**: If specified, initiator must be a key of an actor within the ExampleScenario (error)
///   Expression: `initiator.exists() implies initiator = 'OTHER' or %resource.actor.where(key=%context.initiator).exists()`
/// - **exs-18**: If specified, receiver must be a key of an actor within the ExampleScenario (error)
///   Expression: `receiver.exists() implies receiver = 'OTHER' or %resource.actor.where(key=%context.receiver).exists()`
/// 
/// ## Conditions
/// Used when: exs-19, exs-22
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath, Default, FhirValidate)]
#[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.process.step.operation")]
#[fhir_invariant(key="exs-17", severity="error", human="If specified, initiator must be a key of an actor within the ExampleScenario", expr="initiator.exists() implies initiator = 'OTHER' or %resource.actor.where(key=%context.initiator).exists()", path="ExampleScenario.process.step.operation")]
#[fhir_invariant(key="exs-18", severity="error", human="If specified, receiver must be a key of an actor within the ExampleScenario", expr="receiver.exists() implies receiver = 'OTHER' or %resource.actor.where(key=%context.receiver).exists()", path="ExampleScenario.process.step.operation")]
pub struct ExampleScenarioProcessStepOperation {
    /// Unique id for inter-element referencing
    /// 
    /// Unique id for the element within a resource (for internal references). This
    /// may be any string value that does not contain spaces.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Conditions
    /// Used when: ele-1
    pub id: Option<String>,
    /// Additional content defined by implementations
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element. To make the use of extensions safe and managable,
    /// there is a strict set of governance applied to the definition and use of
    /// extensions. Though any implementer can define an extension, there is a set of
    /// requirements that SHALL be met as part of the definition of the extension.
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.process.step.operation.extension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="ExampleScenario.process.step.operation.extension")]
    pub extension: Option<Vec<Extension>>,
    /// Extensions that cannot be ignored even if unrecognized
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element and that modifies the understanding of the element
    /// in which it is contained and/or the understanding of the containing element's
    /// descendants. Usually modifier elements provide negation or qualification. To
    /// make the use of extensions safe and managable, there is a strict set of
    /// governance applied to the definition and use of extensions. Though any
    /// implementer can define an extension, there is a set of requirements that
    /// SHALL be met as part of the definition of the extension. Applications
    /// processing a resource are required to check for modifier extensions.
    /// 
    /// Modifier extensions SHALL NOT change the meaning of any elements on Resource
    /// or DomainResource (including cannot change the meaning of modifierExtension
    /// itself).
    /// 
    /// ## Requirements
    /// Modifier extensions allow for extensions that *cannot* be safely ignored to
    /// be clearly distinguished from the vast majority of extensions which can be
    /// safely ignored. This promotes interoperability by eliminating the need for
    /// implementers to prohibit the presence of extensions. For further information,
    /// see the [definition of modifier
    /// extensions](extensibility.html#modifierExtension).
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Modifier element - Modifier extensions are expected to modify the meaning or interpretation of the element that contains them
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content, modifiers
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.process.step.operation.modifierExtension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="ExampleScenario.process.step.operation.modifierExtension")]
    #[fhir_serde(rename = "modifierExtension")]
    pub modifier_extension: Option<Vec<Extension>>,
    /// Kind of action
    /// 
    /// The standardized type of action (FHIR or otherwise).
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: extensible
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/testscript-operation-codes
    #[fhir_binding(strength="extensible", valueset="http://hl7.org/fhir/ValueSet/testscript-operation-codes")]
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.process.step.operation.type")]
    #[fhir_serde(rename = "type")]
    pub r#type: Option<Coding>,
    /// Label for step
    /// 
    /// A short descriptive label the step to be used in tables or diagrams.
    /// 
    /// ## Cardinality: Required (1..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.process.step.operation.title")]
    pub title: String,
    /// Who starts the operation
    /// 
    /// The system that invokes the action/transmits the data.
    /// 
    /// ## Implementation Notes
    /// This must either be the 'key' of one of the actors defined in this scenario
    /// or the special keyword 'OTHER' if the initiator is not one of the actors
    /// defined for the scenario. (Multiple references to 'OTHER' don't necessarily
    /// indicate the same actor.)
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Conditions
    /// Used when: exs-17, exs-19
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.process.step.operation.initiator")]
    pub initiator: Option<String>,
    /// Who receives the operation
    /// 
    /// The system on which the action is invoked/receives the data.
    /// 
    /// ## Implementation Notes
    /// This must either be the 'key' of one of the actors defined in this scenario
    /// or the special keyword 'OTHER' if the receiver is not one of the actors
    /// defined for the scenario. (Multiple references to 'OTHER' don't necessarily
    /// indicate the same actor.) In some cases, receiver could be same as sender if
    /// representing a local operation
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Conditions
    /// Used when: exs-18, exs-19
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.process.step.operation.receiver")]
    pub receiver: Option<String>,
    /// Human-friendly description of the operation
    /// 
    /// An explanation of what the operation represents and what it does.
    /// 
    /// ## Implementation Notes
    /// This should contain information not already present in the process step. It's
    /// more of a description of what the operation in general does - if not already
    /// evident from the operation.type
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.process.step.operation.description")]
    pub description: Option<Markdown>,
    /// Initiator stays active?
    /// 
    /// If false, the initiator is deactivated right after the operation.
    /// 
    /// ## Requirements
    /// The notion of 'activation' in a flow diagram is used to indicate 'who has
    /// responsibility/is still doing work'.
    /// 
    /// ## Implementation Notes
    /// De-activation of an actor means they have no further role until such time as
    /// they are the recipient of an operation.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.process.step.operation.initiatorActive")]
    #[fhir_serde(rename = "initiatorActive")]
    pub initiator_active: Option<Boolean>,
    /// Receiver stays active?
    /// 
    /// If false, the receiver is deactivated right after the operation.
    /// 
    /// ## Requirements
    /// The notion of 'activation' in a flow diagram is used to indicate 'who has
    /// responsibility/is still doing work'.
    /// 
    /// ## Implementation Notes
    /// De-activation of an actor means they have no further role until such time as
    /// they are the recipient of an operation.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.process.step.operation.receiverActive")]
    #[fhir_serde(rename = "receiverActive")]
    pub receiver_active: Option<Boolean>,
    /// Instance transmitted on invocation
    /// 
    /// A reference to the instance that is transmitted from requester to receiver as
    /// part of the invocation of the operation.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.process.step.operation.request")]
    pub request: Option<ExampleScenarioInstanceContainedInstance>,
    /// Instance transmitted on invocation response
    /// 
    /// A reference to the instance that is transmitted from receiver to requester as
    /// part of the operation's synchronous response (if any).
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExampleScenario.process.step.operation.response")]
    pub response: Option<ExampleScenarioInstanceContainedInstance>,
}

