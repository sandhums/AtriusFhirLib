// AUTO-GENERATED by atrius-fhir-generator (R5 ExplanationOfBenefit)
use crate::r5::*;

/// FHIR ExplanationOfBenefit type
/// 
/// This resource provides: the claim details; adjudication details from the
/// processing of a Claim; and optionally account balance information, for
/// informing the subscriber of the benefits provided.
/// 
/// ## Type: Resource type
/// Base type: http://hl7.org/fhir/StructureDefinition/DomainResource
/// 
/// ## Status: draft
/// FHIR Version: 5.0.0
/// 
/// See: [ExplanationOfBenefit](http://hl7.org/fhir/StructureDefinition/ExplanationOfBenefit)
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath, Default, FhirValidate)]
#[fhir_invariant(key="dom-2", severity="error", human="If the resource is contained in another resource, it SHALL NOT contain nested Resources", expr="contained.contained.empty()", path="ExplanationOfBenefit")]
#[fhir_invariant(key="dom-3", severity="error", human="If the resource is contained in another resource, it SHALL be referred to from elsewhere in the resource or SHALL refer to the containing resource", expr="contained.where((('#'+id in (%resource.descendants().reference | %resource.descendants().ofType(canonical) | %resource.descendants().ofType(uri) | %resource.descendants().ofType(url))) or descendants().where(reference = '#').exists() or descendants().where(ofType(canonical) = '#').exists() or descendants().where(ofType(canonical) = '#').exists()).not()).trace('unmatched', id).empty()", path="ExplanationOfBenefit")]
#[fhir_invariant(key="dom-4", severity="error", human="If a resource is contained in another resource, it SHALL NOT have a meta.versionId or a meta.lastUpdated", expr="contained.meta.versionId.empty() and contained.meta.lastUpdated.empty()", path="ExplanationOfBenefit")]
#[fhir_invariant(key="dom-5", severity="error", human="If a resource is contained in another resource, it SHALL NOT have a security label", expr="contained.meta.security.empty()", path="ExplanationOfBenefit")]
#[fhir_invariant(key="dom-6", severity="warning", human="A resource should have narrative for robust management", expr="text.`div`.exists()", path="ExplanationOfBenefit")]
pub struct ExplanationOfBenefit {
    /// Logical id of this artifact
    /// 
    /// The logical id of the resource, as used in the URL for the resource. Once
    /// assigned, this value never changes.
    /// 
    /// ## Implementation Notes
    /// Within the context of the FHIR RESTful interactions, the resource has an id
    /// except for cases like the create and conditional update. Otherwise, the use
    /// of the resouce id depends on the given use case.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    pub id: Option<String>,
    /// Metadata about the resource
    /// 
    /// The metadata about the resource. This is content that is maintained by the
    /// infrastructure. Changes to the content might not always be associated with
    /// version changes to the resource.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.meta")]
    pub meta: Option<Meta>,
    /// A set of rules under which this content was created
    /// 
    /// A reference to a set of rules that were followed when the resource was
    /// constructed, and which must be understood when processing the content. Often,
    /// this is a reference to an implementation guide that defines the special rules
    /// along with other profiles etc.
    /// 
    /// ## Implementation Notes
    /// Asserting this rule set restricts the content to be only understood by a
    /// limited set of trading partners. This inherently limits the usefulness of the
    /// data in the long term. However, the existing health eco-system is highly
    /// fractured, and not yet ready to define, collect, and exchange data in a
    /// generally computable sense. Wherever possible, implementers and/or
    /// specification writers should avoid using this element. Often, when used, the
    /// URL is a reference to an implementation guide that defines these special
    /// rules as part of its narrative along with other profiles, value sets, etc.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Modifier element - This element is labeled as a modifier because the implicit rules may provide additional knowledge about the resource that modifies its meaning or interpretation
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.implicitRules")]
    #[fhir_serde(rename = "implicitRules")]
    pub implicit_rules: Option<Uri>,
    /// Language of the resource content
    /// 
    /// The base language in which the resource is written.
    /// 
    /// ## Implementation Notes
    /// Language is provided to support indexing and accessibility (typically,
    /// services such as text to speech use the language tag). The html language tag
    /// in the narrative applies to the narrative. The language tag on the resource
    /// may be used to specify the language of other presentations generated from the
    /// data in the resource. Not all the content has to be in the base language. The
    /// Resource.language should not be assumed to apply to the narrative
    /// automatically. If a language is specified, it should it also be specified on
    /// the div element in the html (see rules in HTML5 for information about the
    /// relationship between xml:lang and the html lang attribute).
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: required
    /// - **Description**: IETF language tag for a human language
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/all-languages|5.0.0
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.language")]
    pub language: Option<Code>,
    /// Text summary of the resource, for human interpretation
    /// 
    /// A human-readable narrative that contains a summary of the resource and can be
    /// used to represent the content of the resource to a human. The narrative need
    /// not encode all the structured data, but is required to contain sufficient
    /// detail to make it "clinically safe" for a human to just read the narrative.
    /// Resource definitions may define what content should be represented in the
    /// narrative to ensure clinical safety.
    /// 
    /// ## Implementation Notes
    /// Contained resources do not have a narrative. Resources that are not contained
    /// SHOULD have a narrative. In some cases, a resource may only have text with
    /// little or no additional discrete data (as long as all minOccurs=1 elements
    /// are satisfied). This may be necessary for data from legacy systems where
    /// information is captured as a "text blob" or where text is additionally
    /// entered raw or narrated and encoded information is added later.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Aliases
    /// narrative, html, xhtml, display
    /// 
    /// ## Conditions
    /// Used when: dom-6
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.text")]
    pub text: Option<Narrative>,
    /// Contained, inline Resources
    /// 
    /// These resources do not have an independent existence apart from the resource
    /// that contains them - they cannot be identified independently, nor can they
    /// have their own independent transaction scope. This is allowed to be a
    /// Parameters resource if and only if it is referenced by a resource that
    /// provides context/meaning.
    /// 
    /// ## Implementation Notes
    /// This should never be done when the content can be identified properly, as
    /// once identification is lost, it is extremely difficult (and context
    /// dependent) to restore it again. Contained resources may have profiles and
    /// tags in their meta elements, but SHALL NOT have security labels.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Aliases
    /// inline resources, anonymous resources, contained resources
    /// 
    /// ## Conditions
    /// Used when: dom-2, dom-4, dom-3, dom-5
    pub contained: Option<Vec<Resource>>,
    /// Additional content defined by implementations
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the resource. To make the use of extensions safe and managable,
    /// there is a strict set of governance applied to the definition and use of
    /// extensions. Though any implementer can define an extension, there is a set of
    /// requirements that SHALL be met as part of the definition of the extension.
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.extension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="ExplanationOfBenefit.extension")]
    pub extension: Option<Vec<Extension>>,
    /// Extensions that cannot be ignored
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the resource and that modifies the understanding of the element
    /// that contains it and/or the understanding of the containing element's
    /// descendants. Usually modifier elements provide negation or qualification. To
    /// make the use of extensions safe and managable, there is a strict set of
    /// governance applied to the definition and use of extensions. Though any
    /// implementer is allowed to define an extension, there is a set of requirements
    /// that SHALL be met as part of the definition of the extension. Applications
    /// processing a resource are required to check for modifier extensions.
    /// 
    /// Modifier extensions SHALL NOT change the meaning of any elements on Resource
    /// or DomainResource (including cannot change the meaning of modifierExtension
    /// itself).
    /// 
    /// ## Requirements
    /// Modifier extensions allow for extensions that *cannot* be safely ignored to
    /// be clearly distinguished from the vast majority of extensions which can be
    /// safely ignored. This promotes interoperability by eliminating the need for
    /// implementers to prohibit the presence of extensions. For further information,
    /// see the [definition of modifier
    /// extensions](extensibility.html#modifierExtension).
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Modifier element - Modifier extensions are expected to modify the meaning or interpretation of the resource that contains them
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.modifierExtension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="ExplanationOfBenefit.modifierExtension")]
    #[fhir_serde(rename = "modifierExtension")]
    pub modifier_extension: Option<Vec<Extension>>,
    /// Business Identifier for the resource
    /// 
    /// A unique identifier assigned to this explanation of benefit.
    /// 
    /// ## Requirements
    /// Allows EOBs to be distinguished and referenced.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.identifier")]
    pub identifier: Option<Vec<Identifier>>,
    /// Number for tracking
    /// 
    /// Trace number for tracking purposes. May be defined at the jurisdiction level
    /// or between trading partners.
    /// 
    /// ## Requirements
    /// Allows partners to uniquely identify components for tracking.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.traceNumber")]
    #[fhir_serde(rename = "traceNumber")]
    pub trace_number: Option<Vec<Identifier>>,
    /// active | cancelled | draft | entered-in-error
    /// 
    /// The status of the resource instance.
    /// 
    /// ## Requirements
    /// Need to track the status of the resource as 'draft' resources may undergo
    /// further edits while 'active' resources are immutable and may only have their
    /// status changed to 'cancelled'.
    /// 
    /// ## Implementation Notes
    /// This element is labeled as a modifier because the status contains codes that
    /// mark the resource as not currently valid.
    /// 
    /// ## Cardinality: Required (1..1)
    /// 
    /// ## Special Semantics
    /// - Modifier element - This element is labeled as a modifier because it is a status element that contains status entered-in-error which means that the resource should not be treated as valid
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: required
    /// - **Description**: A code specifying the state of the resource instance.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/explanationofbenefit-status|5.0.0
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.status")]
    pub status: Code,
    /// Category or discipline
    /// 
    /// The category of claim, e.g. oral, pharmacy, vision, institutional,
    /// professional.
    /// 
    /// ## Requirements
    /// Claim type determine the general sets of business rules applied for
    /// information requirements and adjudication.
    /// 
    /// ## Implementation Notes
    /// The majority of jurisdictions use: oral, pharmacy, vision, professional and
    /// institutional, or variants on those terms, as the general styles of claims.
    /// The valueset is extensible to accommodate other jurisdictional requirements.
    /// 
    /// ## Cardinality: Required (1..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: extensible
    /// - **Description**: The type or discipline-style of the claim.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/claim-type
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.type")]
    #[fhir_serde(rename = "type")]
    pub r#type: CodeableConcept,
    /// More granular claim type
    /// 
    /// A finer grained suite of claim type codes which may convey additional
    /// information such as Inpatient vs Outpatient and/or a specialty service.
    /// 
    /// ## Requirements
    /// Some jurisdictions need a finer grained claim type for routing and
    /// adjudication.
    /// 
    /// ## Implementation Notes
    /// This may contain the local bill type codes such as the US UB-04 bill type
    /// code.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: A more granular claim typecode.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/claim-subtype
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.subType")]
    #[fhir_serde(rename = "subType")]
    pub sub_type: Option<CodeableConcept>,
    /// claim | preauthorization | predetermination
    /// 
    /// A code to indicate whether the nature of the request is: Claim - A request to
    /// an Insurer to adjudicate the supplied charges for health care goods and
    /// services under the identified policy and to pay the determined Benefit
    /// amount, if any; Preauthorization - A request to an Insurer to adjudicate the
    /// supplied proposed future charges for health care goods and services under the
    /// identified policy and to approve the services and provide the expected
    /// benefit amounts and potentially to reserve funds to pay the benefits when
    /// Claims for the indicated services are later submitted; or, Pre-determination
    /// - A request to an Insurer to adjudicate the supplied 'what if' charges for
    /// health care goods and services under the identified policy and report back
    /// what the Benefit payable would be had the services actually been provided.
    /// 
    /// ## Requirements
    /// This element is required to understand the nature of the request for
    /// adjudication.
    /// 
    /// ## Cardinality: Required (1..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: required
    /// - **Description**: Complete, proposed, exploratory, other.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/claim-use|5.0.0
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.use")]
    #[fhir_serde(rename = "use")]
    pub r#use: Code,
    /// The recipient of the products and services
    /// 
    /// The party to whom the professional services and/or products have been
    /// supplied or are being considered and for whom actual for forecast
    /// reimbursement is sought.
    /// 
    /// ## Requirements
    /// The patient must be supplied to the insurer so that confirmation of coverage
    /// and service history may be considered as part of the authorization and/or
    /// adjudiction.
    /// 
    /// ## Cardinality: Required (1..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.patient")]
    pub patient: Reference,
    /// Relevant time frame for the claim
    /// 
    /// The period for which charges are being submitted.
    /// 
    /// ## Requirements
    /// A number jurisdictions required the submission of the billing period when
    /// submitting claims for example for hospital stays or long-term care.
    /// 
    /// ## Implementation Notes
    /// Typically this would be today or in the past for a claim, and today or in the
    /// future for preauthorizations and prodeterminations. Typically line item dates
    /// of service should fall within the billing period if one is specified.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.billablePeriod")]
    #[fhir_serde(rename = "billablePeriod")]
    pub billable_period: Option<Period>,
    /// Response creation date
    /// 
    /// The date this resource was created.
    /// 
    /// ## Requirements
    /// Need to record a timestamp for use by both the recipient and the issuer.
    /// 
    /// ## Cardinality: Required (1..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.created")]
    pub created: DateTime,
    /// Author of the claim
    /// 
    /// Individual who created the claim, predetermination or preauthorization.
    /// 
    /// ## Requirements
    /// Some jurisdictions require the contact information for personnel completing
    /// claims.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.enterer")]
    pub enterer: Option<Reference>,
    /// Party responsible for reimbursement
    /// 
    /// The party responsible for authorization, adjudication and reimbursement.
    /// 
    /// ## Requirements
    /// To be a valid claim, preauthorization or predetermination there must be a
    /// party who is responsible for adjudicating the contents against a policy which
    /// provides benefits for the patient.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.insurer")]
    pub insurer: Option<Reference>,
    /// Party responsible for the claim
    /// 
    /// The provider which is responsible for the claim, predetermination or
    /// preauthorization.
    /// 
    /// ## Implementation Notes
    /// Typically this field would be 1..1 where this party is accountable for the
    /// data content within the claim but is not necessarily the facility, provider
    /// group or practitioner who provided the products and services listed within
    /// this claim resource. This field is the Billing Provider, for example, a
    /// facility, provider group, lab or practitioner.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.provider")]
    pub provider: Option<Reference>,
    /// Desired processing urgency
    /// 
    /// The provider-required urgency of processing the request. Typical values
    /// include: stat, normal deferred.
    /// 
    /// ## Requirements
    /// The provider may need to indicate their processing requirements so that the
    /// processor can indicate if they are unable to comply.
    /// 
    /// ## Implementation Notes
    /// If a claim processor is unable to complete the processing as per the priority
    /// then they should generate an error and not process the request.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: The timeliness with which processing is required: stat, normal, deferred.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/process-priority
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.priority")]
    pub priority: Option<CodeableConcept>,
    /// For whom to reserve funds
    /// 
    /// A code to indicate whether and for whom funds are to be reserved for future
    /// claims.
    /// 
    /// ## Requirements
    /// In the case of a Pre-Determination/Pre-Authorization the provider may request
    /// that funds in the amount of the expected Benefit be reserved ('Patient' or
    /// 'Provider') to pay for the Benefits determined on the subsequent claim(s).
    /// 'None' explicitly indicates no funds reserving is requested.
    /// 
    /// ## Implementation Notes
    /// This field is only used for preauthorizations.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: For whom funds are to be reserved: (Patient, Provider, None).
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/fundsreserve
    /// 
    /// ## Aliases
    /// Fund pre-allocation
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.fundsReserveRequested")]
    #[fhir_serde(rename = "fundsReserveRequested")]
    pub funds_reserve_requested: Option<CodeableConcept>,
    /// Funds reserved status
    /// 
    /// A code, used only on a response to a preauthorization, to indicate whether
    /// the benefits payable have been reserved and for whom.
    /// 
    /// ## Requirements
    /// Needed to advise the submitting provider on whether the rquest for
    /// reservation of funds has been honored.
    /// 
    /// ## Implementation Notes
    /// Fund would be release by a future claim quoting the preAuthRef of this
    /// response. Examples of values include: provider, patient, none.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: For whom funds are to be reserved: (Patient, Provider, None).
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/fundsreserve
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.fundsReserve")]
    #[fhir_serde(rename = "fundsReserve")]
    pub funds_reserve: Option<CodeableConcept>,
    /// Prior or corollary claims
    /// 
    /// Other claims which are related to this claim such as prior submissions or
    /// claims for related services or for the same event.
    /// 
    /// ## Requirements
    /// For workplace or other accidents it is common to relate separate claims
    /// arising from the same event.
    /// 
    /// ## Implementation Notes
    /// For example,  for the original treatment and follow-up exams.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.related")]
    pub related: Option<Vec<ExplanationOfBenefitRelated>>,
    /// Prescription authorizing services or products
    /// 
    /// Prescription is the document/authorization given to the claim author for them
    /// to provide products and services for which consideration (reimbursement) is
    /// sought. Could be a RX for medications, an 'order' for oxygen or wheelchair or
    /// physiotherapy treatments.
    /// 
    /// ## Requirements
    /// Required to authorize the dispensing of controlled substances and devices.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.prescription")]
    pub prescription: Option<Reference>,
    /// Original prescription if superceded by fulfiller
    /// 
    /// Original prescription which has been superseded by this prescription to
    /// support the dispensing of pharmacy services, medications or products.
    /// 
    /// ## Requirements
    /// Often required when a fulfiller varies what is fulfilled from that authorized
    /// on the original prescription.
    /// 
    /// ## Implementation Notes
    /// For example, a physician may prescribe a medication which the pharmacy
    /// determines is contraindicated, or for which the patient has an intolerance,
    /// and therefor issues a new prescription for an alternate medication which has
    /// the same therapeutic intent. The prescription from the pharmacy becomes the
    /// 'prescription' and that from the physician becomes the 'original
    /// prescription'.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.originalPrescription")]
    #[fhir_serde(rename = "originalPrescription")]
    pub original_prescription: Option<Reference>,
    /// Event information
    /// 
    /// Information code for an event with a corresponding date or period.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.event")]
    pub event: Option<Vec<ExplanationOfBenefitEvent>>,
    /// Recipient of benefits payable
    /// 
    /// The party to be reimbursed for cost of the products and services according to
    /// the terms of the policy.
    /// 
    /// ## Requirements
    /// The provider needs to specify who they wish to be reimbursed and the claims
    /// processor needs express who they will reimburse.
    /// 
    /// ## Implementation Notes
    /// Often providers agree to receive the benefits payable to reduce the near-term
    /// costs to the patient. The insurer may decline to pay the provider and may
    /// choose to pay the subscriber instead.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.payee")]
    pub payee: Option<ExplanationOfBenefitPayee>,
    /// Treatment Referral
    /// 
    /// The referral information received by the claim author, it is not to be used
    /// when the author generates a referral for a patient. A copy of that referral
    /// may be provided as supporting information. Some insurers require proof of
    /// referral to pay for services or to pay specialist rates for services.
    /// 
    /// ## Requirements
    /// Some insurers require proof of referral to pay for services or to pay
    /// specialist rates for services.
    /// 
    /// ## Implementation Notes
    /// The referral resource which lists the date, practitioner, reason and other
    /// supporting information.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.referral")]
    pub referral: Option<Reference>,
    /// Encounters associated with the listed treatments
    /// 
    /// Healthcare encounters related to this claim.
    /// 
    /// ## Requirements
    /// Used in some jurisdictions to link clinical events to claim items.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.encounter")]
    pub encounter: Option<Vec<Reference>>,
    /// Servicing Facility
    /// 
    /// Facility where the services were provided.
    /// 
    /// ## Requirements
    /// Insurance adjudication can be dependant on where services were delivered.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.facility")]
    pub facility: Option<Reference>,
    /// Claim reference
    /// 
    /// The business identifier for the instance of the adjudication request: claim
    /// predetermination or preauthorization.
    /// 
    /// ## Requirements
    /// To provide a link to the original adjudication request.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.claim")]
    pub claim: Option<Reference>,
    /// Claim response reference
    /// 
    /// The business identifier for the instance of the adjudication response: claim,
    /// predetermination or preauthorization response.
    /// 
    /// ## Requirements
    /// To provide a link to the original adjudication response.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.claimResponse")]
    #[fhir_serde(rename = "claimResponse")]
    pub claim_response: Option<Reference>,
    /// queued | complete | error | partial
    /// 
    /// The outcome of the claim, predetermination, or preauthorization processing.
    /// 
    /// ## Requirements
    /// To advise the requestor of an overall processing outcome.
    /// 
    /// ## Implementation Notes
    /// The resource may be used to indicate that the
    /// Claim/Preauthorization/Pre-determination has been received but processing has
    /// not begun (queued); that it has been processed and one or more errors have
    /// been detected (error); no errors were detected and some of the adjudication
    /// processing has been performed (partial); or all of the adjudication
    /// processing has completed without errors (complete).
    /// 
    /// ## Cardinality: Required (1..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: required
    /// - **Description**: The result of the claim processing.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/claim-outcome|5.0.0
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.outcome")]
    pub outcome: Code,
    /// Result of the adjudication
    /// 
    /// The result of the claim, predetermination, or preauthorization adjudication.
    /// 
    /// ## Requirements
    /// To advise the requestor of the result of the adjudication process.
    /// 
    /// ## Implementation Notes
    /// The element is used to indicate the current state of the adjudication overall
    /// for the claim resource, for example: the request has been held (pended) for
    /// adjudication processing, for manual review or other reasons; that it has been
    /// processed and will be paid, or the outstanding paid, as submitted (approved);
    /// that no amount will be paid (denied); or that some amount between zero and
    /// the submitted amoutn will be paid (partial).
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/claim-decision
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.decision")]
    pub decision: Option<CodeableConcept>,
    /// Disposition Message
    /// 
    /// A human readable description of the status of the adjudication.
    /// 
    /// ## Requirements
    /// Provided for user display.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.disposition")]
    pub disposition: Option<String>,
    /// Preauthorization reference
    /// 
    /// Reference from the Insurer which is used in later communications which refers
    /// to this adjudication.
    /// 
    /// ## Requirements
    /// On subsequent claims, the insurer may require the provider to quote this
    /// value.
    /// 
    /// ## Implementation Notes
    /// This value is only present on preauthorization adjudications.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.preAuthRef")]
    #[fhir_serde(rename = "preAuthRef")]
    pub pre_auth_ref: Option<Vec<String>>,
    /// Preauthorization in-effect period
    /// 
    /// The timeframe during which the supplied preauthorization reference may be
    /// quoted on claims to obtain the adjudication as provided.
    /// 
    /// ## Requirements
    /// On subsequent claims, the insurer may require the provider to quote this
    /// value.
    /// 
    /// ## Implementation Notes
    /// This value is only present on preauthorization adjudications.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.preAuthRefPeriod")]
    #[fhir_serde(rename = "preAuthRefPeriod")]
    pub pre_auth_ref_period: Option<Vec<Period>>,
    /// Package billing code
    /// 
    /// A package billing code or bundle code used to group products and services to
    /// a particular health condition (such as heart attack) which is based on a
    /// predetermined grouping code system.
    /// 
    /// ## Requirements
    /// Required to relate the current diagnosis to a package billing code that is
    /// then referenced on the individual claim items which are specific to the
    /// health condition covered by the package code.
    /// 
    /// ## Implementation Notes
    /// For example DRG (Diagnosis Related Group) or a bundled billing code. A
    /// patient may have a diagnosis of a Myocardial Infarction and a DRG for
    /// HeartAttack would be assigned. The Claim item (and possible subsequent
    /// claims) would refer to the DRG for those line items that were for services
    /// related to the heart attack event.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/ex-diagnosisrelatedgroup
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.diagnosisRelatedGroup")]
    #[fhir_serde(rename = "diagnosisRelatedGroup")]
    pub diagnosis_related_group: Option<CodeableConcept>,
    /// Care Team members
    /// 
    /// The members of the team who provided the products and services.
    /// 
    /// ## Requirements
    /// Common to identify the responsible and supporting practitioners.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.careTeam")]
    #[fhir_serde(rename = "careTeam")]
    pub care_team: Option<Vec<ExplanationOfBenefitCareTeam>>,
    /// Supporting information
    /// 
    /// Additional information codes regarding exceptions, special considerations,
    /// the condition, situation, prior or concurrent issues.
    /// 
    /// ## Requirements
    /// Typically these information codes are required to support the services
    /// rendered or the adjudication of the services rendered.
    /// 
    /// ## Implementation Notes
    /// Often there are multiple jurisdiction specific valuesets which are required.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.supportingInfo")]
    #[fhir_serde(rename = "supportingInfo")]
    pub supporting_info: Option<Vec<ExplanationOfBenefitSupportingInfo>>,
    /// Pertinent diagnosis information
    /// 
    /// Information about diagnoses relevant to the claim items.
    /// 
    /// ## Requirements
    /// Required for the adjudication by provided context for the services and
    /// product listed.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.diagnosis")]
    pub diagnosis: Option<Vec<ExplanationOfBenefitDiagnosis>>,
    /// Clinical procedures performed
    /// 
    /// Procedures performed on the patient relevant to the billing items with the
    /// claim.
    /// 
    /// ## Requirements
    /// The specific clinical invention are sometimes required to be provided to
    /// justify billing a greater than customary amount for a service.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.procedure")]
    pub procedure: Option<Vec<ExplanationOfBenefitProcedure>>,
    /// Precedence (primary, secondary, etc.)
    /// 
    /// This indicates the relative order of a series of EOBs related to different
    /// coverages for the same suite of services.
    /// 
    /// ## Requirements
    /// Needed to coordinate between multiple EOBs for the same suite of services.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.precedence")]
    pub precedence: Option<PositiveInt>,
    /// Patient insurance information
    /// 
    /// Financial instruments for reimbursement for the health care products and
    /// services specified on the claim.
    /// 
    /// ## Requirements
    /// At least one insurer is required for a claim to be a claim.
    /// 
    /// ## Implementation Notes
    /// All insurance coverages for the patient which may be applicable for
    /// reimbursement, of the products and services listed in the claim, are
    /// typically provided in the claim to allow insurers to confirm the ordering of
    /// the insurance coverages relative to local 'coordination of benefit' rules.
    /// One coverage (and only one) with 'focal=true' is to be used in the
    /// adjudication of this claim. Coverages appearing before the focal Coverage in
    /// the list, and where 'Coverage.subrogation=false', should provide a reference
    /// to the ClaimResponse containing the adjudication results of the prior claim.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.insurance")]
    pub insurance: Option<Vec<ExplanationOfBenefitInsurance>>,
    /// Details of the event
    /// 
    /// Details of a accident which resulted in injuries which required the products
    /// and services listed in the claim.
    /// 
    /// ## Requirements
    /// When healthcare products and services are accident related, benefits may be
    /// payable under accident provisions of policies, such as automotive, etc before
    /// they are payable under normal health insurance.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.accident")]
    pub accident: Option<ExplanationOfBenefitAccident>,
    /// Paid by the patient
    /// 
    /// The amount paid by the patient, in total at the claim claim level or
    /// specifically for the item and detail level, to the provider for goods and
    /// services.
    /// 
    /// ## Requirements
    /// Necessary to demonstrate that copayments, co-insurance and similar patient
    /// payments have been made or accounted for.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.patientPaid")]
    #[fhir_serde(rename = "patientPaid")]
    pub patient_paid: Option<Money>,
    /// Product or service provided
    /// 
    /// A claim line. Either a simple (a product or service) or a 'group' of details
    /// which can also be a simple items or groups of sub-details.
    /// 
    /// ## Requirements
    /// The items to be processed for adjudication.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item")]
    pub item: Option<Vec<ExplanationOfBenefitItem>>,
    /// Insurer added line items
    /// 
    /// The first-tier service adjudications for payor added product or service
    /// lines.
    /// 
    /// ## Requirements
    /// Insurers may redefine the provided product or service or may package and/or
    /// decompose groups of products and services. The addItems allows the insurer to
    /// provide their line item list with linkage to the submitted
    /// items/details/sub-details. In a preauthorization the insurer may use the
    /// addItem structure to provide additional information on authorized products
    /// and services.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.addItem")]
    #[fhir_serde(rename = "addItem")]
    pub add_item: Option<Vec<ExplanationOfBenefitAddItem>>,
    /// Header-level adjudication
    /// 
    /// The adjudication results which are presented at the header level rather than
    /// at the line-item or add-item levels.
    /// 
    /// ## Requirements
    /// Some insurers will receive line-items but provide the adjudication only at a
    /// summary or header-level.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.adjudication")]
    pub adjudication: Option<Vec<ExplanationOfBenefitItemAdjudication>>,
    /// Adjudication totals
    /// 
    /// Categorized monetary totals for the adjudication.
    /// 
    /// ## Requirements
    /// To provide the requestor with financial totals by category for the
    /// adjudication.
    /// 
    /// ## Implementation Notes
    /// Totals for amounts submitted, co-pays, benefits payable etc.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.total")]
    pub total: Option<Vec<ExplanationOfBenefitTotal>>,
    /// Payment Details
    /// 
    /// Payment details for the adjudication of the claim.
    /// 
    /// ## Requirements
    /// Needed to convey references to the financial instrument that has been used if
    /// payment has been made.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.payment")]
    pub payment: Option<ExplanationOfBenefitPayment>,
    /// Printed form identifier
    /// 
    /// A code for the form to be used for printing the content.
    /// 
    /// ## Requirements
    /// Needed to specify the specific form used for producing output for this
    /// response.
    /// 
    /// ## Implementation Notes
    /// May be needed to identify specific jurisdictional forms.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: The forms codes.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/forms
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.formCode")]
    #[fhir_serde(rename = "formCode")]
    pub form_code: Option<CodeableConcept>,
    /// Printed reference or actual form
    /// 
    /// The actual form, by reference or inclusion, for printing the content or an
    /// EOB.
    /// 
    /// ## Requirements
    /// Needed to include the specific form used for producing output for this
    /// response.
    /// 
    /// ## Implementation Notes
    /// Needed to permit insurers to include the actual form.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.form")]
    pub form: Option<Attachment>,
    /// Note concerning adjudication
    /// 
    /// A note that describes or explains adjudication results in a human readable
    /// form.
    /// 
    /// ## Requirements
    /// Provides the insurer specific textual explanations associated with the
    /// processing.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.processNote")]
    #[fhir_serde(rename = "processNote")]
    pub process_note: Option<Vec<ExplanationOfBenefitProcessNote>>,
    /// When the benefits are applicable
    /// 
    /// The term of the benefits documented in this response.
    /// 
    /// ## Requirements
    /// Needed as coverages may be multi-year while benefits tend to be annual
    /// therefore a separate expression of the benefit period is needed.
    /// 
    /// ## Implementation Notes
    /// Not applicable when use=claim.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.benefitPeriod")]
    #[fhir_serde(rename = "benefitPeriod")]
    pub benefit_period: Option<Period>,
    /// Balance by Benefit Category
    /// 
    /// Balance by Benefit Category.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.benefitBalance")]
    #[fhir_serde(rename = "benefitBalance")]
    pub benefit_balance: Option<Vec<ExplanationOfBenefitBenefitBalance>>,
}

/// Choice of types for the location\[x\] field in ExplanationOfBenefitAccident
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath)]
#[fhir_choice_element(base_name = "location")]
pub enum ExplanationOfBenefitAccidentLocation {
    /// Variant accepting the Address type.
    #[fhir_serde(rename = "locationAddress")]
    Address(Address),
    /// Variant accepting the Reference type.
    #[fhir_serde(rename = "locationReference")]
    Reference(Reference),
}

/// Details of the event
/// 
/// Details of a accident which resulted in injuries which required the products
/// and services listed in the claim.
/// 
/// ## Requirements
/// When healthcare products and services are accident related, benefits may be
/// payable under accident provisions of policies, such as automotive, etc before
/// they are payable under normal health insurance.
/// 
/// ## Cardinality: Optional (0..1)
/// 
/// ## Constraints
/// - **ele-1**: All FHIR elements must have a @value or children (error)
///   Expression: `hasValue() or (children().count() > id.count())`
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath, Default, FhirValidate)]
#[fhir_resource(choice_elements = "location")]
#[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.accident")]
pub struct ExplanationOfBenefitAccident {
    /// Unique id for inter-element referencing
    /// 
    /// Unique id for the element within a resource (for internal references). This
    /// may be any string value that does not contain spaces.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Conditions
    /// Used when: ele-1
    pub id: Option<String>,
    /// Additional content defined by implementations
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element. To make the use of extensions safe and managable,
    /// there is a strict set of governance applied to the definition and use of
    /// extensions. Though any implementer can define an extension, there is a set of
    /// requirements that SHALL be met as part of the definition of the extension.
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.accident.extension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="ExplanationOfBenefit.accident.extension")]
    pub extension: Option<Vec<Extension>>,
    /// Extensions that cannot be ignored even if unrecognized
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element and that modifies the understanding of the element
    /// in which it is contained and/or the understanding of the containing element's
    /// descendants. Usually modifier elements provide negation or qualification. To
    /// make the use of extensions safe and managable, there is a strict set of
    /// governance applied to the definition and use of extensions. Though any
    /// implementer can define an extension, there is a set of requirements that
    /// SHALL be met as part of the definition of the extension. Applications
    /// processing a resource are required to check for modifier extensions.
    /// 
    /// Modifier extensions SHALL NOT change the meaning of any elements on Resource
    /// or DomainResource (including cannot change the meaning of modifierExtension
    /// itself).
    /// 
    /// ## Requirements
    /// Modifier extensions allow for extensions that *cannot* be safely ignored to
    /// be clearly distinguished from the vast majority of extensions which can be
    /// safely ignored. This promotes interoperability by eliminating the need for
    /// implementers to prohibit the presence of extensions. For further information,
    /// see the [definition of modifier
    /// extensions](extensibility.html#modifierExtension).
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Modifier element - Modifier extensions are expected to modify the meaning or interpretation of the element that contains them
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content, modifiers
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.accident.modifierExtension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="ExplanationOfBenefit.accident.modifierExtension")]
    #[fhir_serde(rename = "modifierExtension")]
    pub modifier_extension: Option<Vec<Extension>>,
    /// When the incident occurred
    /// 
    /// Date of an accident event related to the products and services contained in
    /// the claim.
    /// 
    /// ## Requirements
    /// Required for audit purposes and adjudication.
    /// 
    /// ## Implementation Notes
    /// The date of the accident has to precede the dates of the products and
    /// services but within a reasonable timeframe.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.accident.date")]
    pub date: Option<Date>,
    /// The nature of the accident
    /// 
    /// The type or context of the accident event for the purposes of selection of
    /// potential insurance coverages and determination of coordination between
    /// insurers.
    /// 
    /// ## Requirements
    /// Coverage may be dependant on the type of accident.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: extensible
    /// - **Description**: Type of accident: work place, auto, etc.
    /// - **ValueSet**: http://terminology.hl7.org/ValueSet/v3-ActIncidentCode
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.accident.type")]
    #[fhir_serde(rename = "type")]
    pub r#type: Option<CodeableConcept>,
    /// Where the event occurred
    /// 
    /// The physical location of the accident event.
    /// 
    /// ## Requirements
    /// Required for audit purposes and determination of applicable insurance
    /// liability.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.accident.location[x]")]
    #[fhir_serde(flatten)]
    pub location: Option<ExplanationOfBenefitAccidentLocation>,
}

/// Choice of types for the serviced\[x\] field in ExplanationOfBenefitAddItem
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath)]
#[fhir_choice_element(base_name = "serviced")]
pub enum ExplanationOfBenefitAddItemServiced {
    /// Variant accepting the Date type.
    #[fhir_serde(rename = "servicedDate")]
    Date(Date),
    /// Variant accepting the Period type.
    #[fhir_serde(rename = "servicedPeriod")]
    Period(Period),
}

/// Choice of types for the location\[x\] field in ExplanationOfBenefitAddItem
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath)]
#[fhir_choice_element(base_name = "location")]
pub enum ExplanationOfBenefitAddItemLocation {
    /// Variant accepting the CodeableConcept type.
    #[fhir_serde(rename = "locationCodeableConcept")]
    CodeableConcept(CodeableConcept),
    /// Variant accepting the Address type.
    #[fhir_serde(rename = "locationAddress")]
    Address(Address),
    /// Variant accepting the Reference type.
    #[fhir_serde(rename = "locationReference")]
    Reference(Reference),
}

/// Insurer added line items
/// 
/// The first-tier service adjudications for payor added product or service
/// lines.
/// 
/// ## Requirements
/// Insurers may redefine the provided product or service or may package and/or
/// decompose groups of products and services. The addItems allows the insurer to
/// provide their line item list with linkage to the submitted
/// items/details/sub-details. In a preauthorization the insurer may use the
/// addItem structure to provide additional information on authorized products
/// and services.
/// 
/// ## Cardinality: Optional, Multiple (0..*)
/// 
/// ## Constraints
/// - **ele-1**: All FHIR elements must have a @value or children (error)
///   Expression: `hasValue() or (children().count() > id.count())`
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath, Default, FhirValidate)]
#[fhir_resource(choice_elements = "serviced,location")]
#[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.addItem")]
pub struct ExplanationOfBenefitAddItem {
    /// Unique id for inter-element referencing
    /// 
    /// Unique id for the element within a resource (for internal references). This
    /// may be any string value that does not contain spaces.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Conditions
    /// Used when: ele-1
    pub id: Option<String>,
    /// Additional content defined by implementations
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element. To make the use of extensions safe and managable,
    /// there is a strict set of governance applied to the definition and use of
    /// extensions. Though any implementer can define an extension, there is a set of
    /// requirements that SHALL be met as part of the definition of the extension.
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.addItem.extension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="ExplanationOfBenefit.addItem.extension")]
    pub extension: Option<Vec<Extension>>,
    /// Extensions that cannot be ignored even if unrecognized
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element and that modifies the understanding of the element
    /// in which it is contained and/or the understanding of the containing element's
    /// descendants. Usually modifier elements provide negation or qualification. To
    /// make the use of extensions safe and managable, there is a strict set of
    /// governance applied to the definition and use of extensions. Though any
    /// implementer can define an extension, there is a set of requirements that
    /// SHALL be met as part of the definition of the extension. Applications
    /// processing a resource are required to check for modifier extensions.
    /// 
    /// Modifier extensions SHALL NOT change the meaning of any elements on Resource
    /// or DomainResource (including cannot change the meaning of modifierExtension
    /// itself).
    /// 
    /// ## Requirements
    /// Modifier extensions allow for extensions that *cannot* be safely ignored to
    /// be clearly distinguished from the vast majority of extensions which can be
    /// safely ignored. This promotes interoperability by eliminating the need for
    /// implementers to prohibit the presence of extensions. For further information,
    /// see the [definition of modifier
    /// extensions](extensibility.html#modifierExtension).
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Modifier element - Modifier extensions are expected to modify the meaning or interpretation of the element that contains them
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content, modifiers
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.addItem.modifierExtension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="ExplanationOfBenefit.addItem.modifierExtension")]
    #[fhir_serde(rename = "modifierExtension")]
    pub modifier_extension: Option<Vec<Extension>>,
    /// Item sequence number
    /// 
    /// Claim items which this service line is intended to replace.
    /// 
    /// ## Requirements
    /// Provides references to the claim items.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.addItem.itemSequence")]
    #[fhir_serde(rename = "itemSequence")]
    pub item_sequence: Option<Vec<PositiveInt>>,
    /// Detail sequence number
    /// 
    /// The sequence number of the details within the claim item which this line is
    /// intended to replace.
    /// 
    /// ## Requirements
    /// Provides references to the claim details within the claim item.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.addItem.detailSequence")]
    #[fhir_serde(rename = "detailSequence")]
    pub detail_sequence: Option<Vec<PositiveInt>>,
    /// Subdetail sequence number
    /// 
    /// The sequence number of the sub-details woithin the details within the claim
    /// item which this line is intended to replace.
    /// 
    /// ## Requirements
    /// Provides references to the claim sub-details within the claim detail.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.addItem.subDetailSequence")]
    #[fhir_serde(rename = "subDetailSequence")]
    pub sub_detail_sequence: Option<Vec<PositiveInt>>,
    /// Number for tracking
    /// 
    /// Trace number for tracking purposes. May be defined at the jurisdiction level
    /// or between trading partners.
    /// 
    /// ## Requirements
    /// Allows partners to uniquely identify components for tracking.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.addItem.traceNumber")]
    #[fhir_serde(rename = "traceNumber")]
    pub trace_number: Option<Vec<Identifier>>,
    /// Authorized providers
    /// 
    /// The providers who are authorized for the services rendered to the patient.
    /// 
    /// ## Requirements
    /// Insurer may provide authorization specifically to a restricted set of
    /// providers rather than an open authorization.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.addItem.provider")]
    pub provider: Option<Vec<Reference>>,
    /// Revenue or cost center code
    /// 
    /// The type of revenue or cost center providing the product and/or service.
    /// 
    /// ## Requirements
    /// Needed in the processing of institutional claims.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: Codes for the revenue or cost centers supplying the service and/or products.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/ex-revenue-center
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.addItem.revenue")]
    pub revenue: Option<CodeableConcept>,
    /// Billing, service, product, or drug code
    /// 
    /// When the value is a group code then this item collects a set of related item
    /// details, otherwise this contains the product, service, drug or other billing
    /// code for the item. This element may be the start of a range of
    /// .productOrService codes used in conjunction with .productOrServiceEnd or it
    /// may be a solo element where .productOrServiceEnd is not used.
    /// 
    /// ## Requirements
    /// Necessary to state what was provided or done.
    /// 
    /// ## Implementation Notes
    /// If this is an actual service or product line, i.e. not a Group, then use code
    /// to indicate the Professional Service or Product supplied (e.g. CTP, HCPCS,
    /// USCLS, ICD10, NCPDP, DIN, RxNorm, ACHI, CCI). If a grouping item then use a
    /// group code to indicate the type of thing being grouped e.g. 'glasses' or
    /// 'compound'.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: Allowable service and product codes.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/service-uscls
    /// 
    /// ## Aliases
    /// Drug Code, Bill Code, Service Code
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.addItem.productOrService")]
    #[fhir_serde(rename = "productOrService")]
    pub product_or_service: Option<CodeableConcept>,
    /// End of a range of codes
    /// 
    /// This contains the end of a range of product, service, drug or other billing
    /// codes for the item. This element is not used when the .productOrService is a
    /// group code. This value may only be present when a .productOfService code has
    /// been provided to convey the start of the range. Typically this value may be
    /// used only with preauthorizations and not with claims.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/service-uscls
    /// 
    /// ## Aliases
    /// End of a range of Drug Code; Bill Code; Service Cod
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.addItem.productOrServiceEnd")]
    #[fhir_serde(rename = "productOrServiceEnd")]
    pub product_or_service_end: Option<CodeableConcept>,
    /// Request or Referral for Service
    /// 
    /// Request or Referral for Goods or Service to be rendered.
    /// 
    /// ## Requirements
    /// May identify the service to be provided or provider authorization for the
    /// service.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.addItem.request")]
    pub request: Option<Vec<Reference>>,
    /// Service/Product billing modifiers
    /// 
    /// Item typification or modifiers codes to convey additional context for the
    /// product or service.
    /// 
    /// ## Requirements
    /// To support inclusion of the item for adjudication or to charge an elevated
    /// fee.
    /// 
    /// ## Implementation Notes
    /// For example, in Oral whether the treatment is cosmetic or associated with
    /// TMJ, or for Medical whether the treatment was outside the clinic or out of
    /// office hours.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: Item type or modifiers codes, eg for Oral whether the treatment is cosmetic or associated with TMJ, or an appliance was lost or stolen.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/claim-modifiers
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.addItem.modifier")]
    pub modifier: Option<Vec<CodeableConcept>>,
    /// Program the product or service is provided under
    /// 
    /// Identifies the program under which this may be recovered.
    /// 
    /// ## Requirements
    /// Commonly used in in the identification of publicly provided program focused
    /// on population segments or disease classifications.
    /// 
    /// ## Implementation Notes
    /// For example: Neonatal program, child dental program or drug users recovery
    /// program.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: Program specific reason codes.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/ex-program-code
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.addItem.programCode")]
    #[fhir_serde(rename = "programCode")]
    pub program_code: Option<Vec<CodeableConcept>>,
    /// Date or dates of service or product delivery
    /// 
    /// The date or dates when the service or product was supplied, performed or
    /// completed.
    /// 
    /// ## Requirements
    /// Needed to determine whether the service or product was provided during the
    /// term of the insurance coverage.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.addItem.serviced[x]")]
    #[fhir_serde(flatten)]
    pub serviced: Option<ExplanationOfBenefitAddItemServiced>,
    /// Place of service or where product was supplied
    /// 
    /// Where the product or service was provided.
    /// 
    /// ## Requirements
    /// The location can alter whether the item was acceptable for insurance purposes
    /// or impact the determination of the benefit amount.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: Place where the service is rendered.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/service-place
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.addItem.location[x]")]
    #[fhir_serde(flatten)]
    pub location: Option<ExplanationOfBenefitAddItemLocation>,
    /// Paid by the patient
    /// 
    /// The amount paid by the patient, in total at the claim claim level or
    /// specifically for the item and detail level, to the provider for goods and
    /// services.
    /// 
    /// ## Requirements
    /// Necessary to demonstrate that copayments, co-insurance and similar patient
    /// payments have been made or accounted for.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.addItem.patientPaid")]
    #[fhir_serde(rename = "patientPaid")]
    pub patient_paid: Option<Money>,
    /// Count of products or services
    /// 
    /// The number of repetitions of a service or product.
    /// 
    /// ## Requirements
    /// Required when the product or service code does not convey the quantity
    /// provided.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.addItem.quantity")]
    pub quantity: Option<Quantity>,
    /// Fee, charge or cost per item
    /// 
    /// If the item is not a group then this is the fee for the product or service,
    /// otherwise this is the total of the fees for the details of the group.
    /// 
    /// ## Requirements
    /// The amount charged to the patient by the provider for a single unit.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.addItem.unitPrice")]
    #[fhir_serde(rename = "unitPrice")]
    pub unit_price: Option<Money>,
    /// Price scaling factor
    /// 
    /// A real number that represents a multiplier used in determining the overall
    /// value of services delivered and/or goods received. The concept of a Factor
    /// allows for a discount or surcharge multiplier to be applied to a monetary
    /// amount.
    /// 
    /// ## Requirements
    /// When discounts are provided to a patient (example: Senior's discount) then
    /// this must be documented for adjudication.
    /// 
    /// ## Implementation Notes
    /// To show a 10% senior's discount, the value entered is: 0.90 (1.00 - 0.10).
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.addItem.factor")]
    pub factor: Option<Decimal>,
    /// Total tax
    /// 
    /// The total of taxes applicable for this product or service.
    /// 
    /// ## Requirements
    /// Required when taxes are not embedded in the unit price or provided as a
    /// separate service.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.addItem.tax")]
    pub tax: Option<Money>,
    /// Total item cost
    /// 
    /// The total amount claimed for the group (if a grouper) or the addItem. Net =
    /// unit price * quantity * factor.
    /// 
    /// ## Requirements
    /// Provides the total amount claimed for the group (if a grouper) or the line
    /// item.
    /// 
    /// ## Implementation Notes
    /// For example, the formula: quantity * unitPrice * factor = net. Quantity and
    /// factor are assumed to be 1 if not supplied.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.addItem.net")]
    pub net: Option<Money>,
    /// Anatomical location
    /// 
    /// Physical location where the service is performed or applies.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.addItem.bodySite")]
    #[fhir_serde(rename = "bodySite")]
    pub body_site: Option<Vec<ExplanationOfBenefitAddItemBodySite>>,
    /// Applicable note numbers
    /// 
    /// The numbers associated with notes below which apply to the adjudication of
    /// this item.
    /// 
    /// ## Requirements
    /// Provides a condensed manner for associating human readable descriptive
    /// explanations for adjudications on the line item.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.addItem.noteNumber")]
    #[fhir_serde(rename = "noteNumber")]
    pub note_number: Option<Vec<PositiveInt>>,
    /// Additem level adjudication results
    /// 
    /// The high-level results of the adjudication if adjudication has been
    /// performed.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.addItem.reviewOutcome")]
    #[fhir_serde(rename = "reviewOutcome")]
    pub review_outcome: Option<ExplanationOfBenefitItemReviewOutcome>,
    /// Added items adjudication
    /// 
    /// The adjudication results.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.addItem.adjudication")]
    pub adjudication: Option<Vec<ExplanationOfBenefitItemAdjudication>>,
    /// Insurer added line items
    /// 
    /// The second-tier service adjudications for payor added services.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.addItem.detail")]
    pub detail: Option<Vec<ExplanationOfBenefitAddItemDetail>>,
}

/// Anatomical location
/// 
/// Physical location where the service is performed or applies.
/// 
/// ## Cardinality: Optional, Multiple (0..*)
/// 
/// ## Constraints
/// - **ele-1**: All FHIR elements must have a @value or children (error)
///   Expression: `hasValue() or (children().count() > id.count())`
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath, Default, FhirValidate)]
#[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.addItem.bodySite")]
pub struct ExplanationOfBenefitAddItemBodySite {
    /// Unique id for inter-element referencing
    /// 
    /// Unique id for the element within a resource (for internal references). This
    /// may be any string value that does not contain spaces.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Conditions
    /// Used when: ele-1
    pub id: Option<String>,
    /// Additional content defined by implementations
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element. To make the use of extensions safe and managable,
    /// there is a strict set of governance applied to the definition and use of
    /// extensions. Though any implementer can define an extension, there is a set of
    /// requirements that SHALL be met as part of the definition of the extension.
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.addItem.bodySite.extension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="ExplanationOfBenefit.addItem.bodySite.extension")]
    pub extension: Option<Vec<Extension>>,
    /// Extensions that cannot be ignored even if unrecognized
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element and that modifies the understanding of the element
    /// in which it is contained and/or the understanding of the containing element's
    /// descendants. Usually modifier elements provide negation or qualification. To
    /// make the use of extensions safe and managable, there is a strict set of
    /// governance applied to the definition and use of extensions. Though any
    /// implementer can define an extension, there is a set of requirements that
    /// SHALL be met as part of the definition of the extension. Applications
    /// processing a resource are required to check for modifier extensions.
    /// 
    /// Modifier extensions SHALL NOT change the meaning of any elements on Resource
    /// or DomainResource (including cannot change the meaning of modifierExtension
    /// itself).
    /// 
    /// ## Requirements
    /// Modifier extensions allow for extensions that *cannot* be safely ignored to
    /// be clearly distinguished from the vast majority of extensions which can be
    /// safely ignored. This promotes interoperability by eliminating the need for
    /// implementers to prohibit the presence of extensions. For further information,
    /// see the [definition of modifier
    /// extensions](extensibility.html#modifierExtension).
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Modifier element - Modifier extensions are expected to modify the meaning or interpretation of the element that contains them
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content, modifiers
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.addItem.bodySite.modifierExtension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="ExplanationOfBenefit.addItem.bodySite.modifierExtension")]
    #[fhir_serde(rename = "modifierExtension")]
    pub modifier_extension: Option<Vec<Extension>>,
    /// Location
    /// 
    /// Physical service site on the patient (limb, tooth, etc.).
    /// 
    /// ## Requirements
    /// Allows insurer to validate specific procedures.
    /// 
    /// ## Implementation Notes
    /// For example, providing a tooth code allows an insurer to identify a provider
    /// performing a filling on a tooth that was previously removed.
    /// 
    /// ## Cardinality: Required, Multiple (1..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/tooth
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.addItem.bodySite.site")]
    pub site: Option<Vec<CodeableReference>>,
    /// Sub-location
    /// 
    /// A region or surface of the bodySite, e.g. limb region or tooth surface(s).
    /// 
    /// ## Requirements
    /// Allows insurer to validate specific procedures.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/surface
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.addItem.bodySite.subSite")]
    #[fhir_serde(rename = "subSite")]
    pub sub_site: Option<Vec<CodeableConcept>>,
}

/// Insurer added line items
/// 
/// The second-tier service adjudications for payor added services.
/// 
/// ## Cardinality: Optional, Multiple (0..*)
/// 
/// ## Constraints
/// - **ele-1**: All FHIR elements must have a @value or children (error)
///   Expression: `hasValue() or (children().count() > id.count())`
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath, Default, FhirValidate)]
#[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.addItem.detail")]
pub struct ExplanationOfBenefitAddItemDetail {
    /// Unique id for inter-element referencing
    /// 
    /// Unique id for the element within a resource (for internal references). This
    /// may be any string value that does not contain spaces.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Conditions
    /// Used when: ele-1
    pub id: Option<String>,
    /// Additional content defined by implementations
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element. To make the use of extensions safe and managable,
    /// there is a strict set of governance applied to the definition and use of
    /// extensions. Though any implementer can define an extension, there is a set of
    /// requirements that SHALL be met as part of the definition of the extension.
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.addItem.detail.extension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="ExplanationOfBenefit.addItem.detail.extension")]
    pub extension: Option<Vec<Extension>>,
    /// Extensions that cannot be ignored even if unrecognized
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element and that modifies the understanding of the element
    /// in which it is contained and/or the understanding of the containing element's
    /// descendants. Usually modifier elements provide negation or qualification. To
    /// make the use of extensions safe and managable, there is a strict set of
    /// governance applied to the definition and use of extensions. Though any
    /// implementer can define an extension, there is a set of requirements that
    /// SHALL be met as part of the definition of the extension. Applications
    /// processing a resource are required to check for modifier extensions.
    /// 
    /// Modifier extensions SHALL NOT change the meaning of any elements on Resource
    /// or DomainResource (including cannot change the meaning of modifierExtension
    /// itself).
    /// 
    /// ## Requirements
    /// Modifier extensions allow for extensions that *cannot* be safely ignored to
    /// be clearly distinguished from the vast majority of extensions which can be
    /// safely ignored. This promotes interoperability by eliminating the need for
    /// implementers to prohibit the presence of extensions. For further information,
    /// see the [definition of modifier
    /// extensions](extensibility.html#modifierExtension).
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Modifier element - Modifier extensions are expected to modify the meaning or interpretation of the element that contains them
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content, modifiers
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.addItem.detail.modifierExtension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="ExplanationOfBenefit.addItem.detail.modifierExtension")]
    #[fhir_serde(rename = "modifierExtension")]
    pub modifier_extension: Option<Vec<Extension>>,
    /// Number for tracking
    /// 
    /// Trace number for tracking purposes. May be defined at the jurisdiction level
    /// or between trading partners.
    /// 
    /// ## Requirements
    /// Allows partners to uniquely identify components for tracking.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.addItem.detail.traceNumber")]
    #[fhir_serde(rename = "traceNumber")]
    pub trace_number: Option<Vec<Identifier>>,
    /// Revenue or cost center code
    /// 
    /// The type of revenue or cost center providing the product and/or service.
    /// 
    /// ## Requirements
    /// Needed in the processing of institutional claims.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: Codes for the revenue or cost centers supplying the service and/or products.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/ex-revenue-center
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.addItem.detail.revenue")]
    pub revenue: Option<CodeableConcept>,
    /// Billing, service, product, or drug code
    /// 
    /// When the value is a group code then this item collects a set of related item
    /// details, otherwise this contains the product, service, drug or other billing
    /// code for the item. This element may be the start of a range of
    /// .productOrService codes used in conjunction with .productOrServiceEnd or it
    /// may be a solo element where .productOrServiceEnd is not used.
    /// 
    /// ## Requirements
    /// Necessary to state what was provided or done.
    /// 
    /// ## Implementation Notes
    /// If this is an actual service or product line, i.e. not a Group, then use code
    /// to indicate the Professional Service or Product supplied (e.g. CTP, HCPCS,
    /// USCLS, ICD10, NCPDP, DIN, RxNorm, ACHI, CCI). If a grouping item then use a
    /// group code to indicate the type of thing being grouped e.g. 'glasses' or
    /// 'compound'.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: Allowable service and product codes.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/service-uscls
    /// 
    /// ## Aliases
    /// Drug Code, Bill Code, Service Code
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.addItem.detail.productOrService")]
    #[fhir_serde(rename = "productOrService")]
    pub product_or_service: Option<CodeableConcept>,
    /// End of a range of codes
    /// 
    /// This contains the end of a range of product, service, drug or other billing
    /// codes for the item. This element is not used when the .productOrService is a
    /// group code. This value may only be present when a .productOfService code has
    /// been provided to convey the start of the range. Typically this value may be
    /// used only with preauthorizations and not with claims.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/service-uscls
    /// 
    /// ## Aliases
    /// End of a range of Drug Code; Bill Code; Service Cod
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.addItem.detail.productOrServiceEnd")]
    #[fhir_serde(rename = "productOrServiceEnd")]
    pub product_or_service_end: Option<CodeableConcept>,
    /// Service/Product billing modifiers
    /// 
    /// Item typification or modifiers codes to convey additional context for the
    /// product or service.
    /// 
    /// ## Requirements
    /// To support inclusion of the item for adjudication or to charge an elevated
    /// fee.
    /// 
    /// ## Implementation Notes
    /// For example, in Oral whether the treatment is cosmetic or associated with
    /// TMJ, or for Medical whether the treatment was outside the clinic or out of
    /// office hours.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: Item type or modifiers codes, eg for Oral whether the treatment is cosmetic or associated with TMJ, or an appliance was lost or stolen.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/claim-modifiers
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.addItem.detail.modifier")]
    pub modifier: Option<Vec<CodeableConcept>>,
    /// Paid by the patient
    /// 
    /// The amount paid by the patient, in total at the claim claim level or
    /// specifically for the item and detail level, to the provider for goods and
    /// services.
    /// 
    /// ## Requirements
    /// Necessary to demonstrate that copayments, co-insurance and similar patient
    /// payments have been made or accounted for.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.addItem.detail.patientPaid")]
    #[fhir_serde(rename = "patientPaid")]
    pub patient_paid: Option<Money>,
    /// Count of products or services
    /// 
    /// The number of repetitions of a service or product.
    /// 
    /// ## Requirements
    /// Required when the product or service code does not convey the quantity
    /// provided.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.addItem.detail.quantity")]
    pub quantity: Option<Quantity>,
    /// Fee, charge or cost per item
    /// 
    /// If the item is not a group then this is the fee for the product or service,
    /// otherwise this is the total of the fees for the details of the group.
    /// 
    /// ## Requirements
    /// The amount charged to the patient by the provider for a single unit.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.addItem.detail.unitPrice")]
    #[fhir_serde(rename = "unitPrice")]
    pub unit_price: Option<Money>,
    /// Price scaling factor
    /// 
    /// A real number that represents a multiplier used in determining the overall
    /// value of services delivered and/or goods received. The concept of a Factor
    /// allows for a discount or surcharge multiplier to be applied to a monetary
    /// amount.
    /// 
    /// ## Requirements
    /// When discounts are provided to a patient (example: Senior's discount) then
    /// this must be documented for adjudication.
    /// 
    /// ## Implementation Notes
    /// To show a 10% senior's discount, the value entered is: 0.90 (1.00 - 0.10).
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.addItem.detail.factor")]
    pub factor: Option<Decimal>,
    /// Total tax
    /// 
    /// The total of taxes applicable for this product or service.
    /// 
    /// ## Requirements
    /// Required when taxes are not embedded in the unit price or provided as a
    /// separate service.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.addItem.detail.tax")]
    pub tax: Option<Money>,
    /// Total item cost
    /// 
    /// The total amount claimed for the group (if a grouper) or the addItem.detail.
    /// Net = unit price * quantity * factor.
    /// 
    /// ## Requirements
    /// Provides the total amount claimed for the group (if a grouper) or the line
    /// item.
    /// 
    /// ## Implementation Notes
    /// For example, the formula: quantity * unitPrice * factor = net. Quantity and
    /// factor are assumed to be 1 if not supplied.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.addItem.detail.net")]
    pub net: Option<Money>,
    /// Applicable note numbers
    /// 
    /// The numbers associated with notes below which apply to the adjudication of
    /// this item.
    /// 
    /// ## Requirements
    /// Provides a condensed manner for associating human readable descriptive
    /// explanations for adjudications on the line item.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.addItem.detail.noteNumber")]
    #[fhir_serde(rename = "noteNumber")]
    pub note_number: Option<Vec<PositiveInt>>,
    /// Additem detail level adjudication results
    /// 
    /// The high-level results of the adjudication if adjudication has been
    /// performed.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.addItem.detail.reviewOutcome")]
    #[fhir_serde(rename = "reviewOutcome")]
    pub review_outcome: Option<ExplanationOfBenefitItemReviewOutcome>,
    /// Added items adjudication
    /// 
    /// The adjudication results.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.addItem.detail.adjudication")]
    pub adjudication: Option<Vec<ExplanationOfBenefitItemAdjudication>>,
    /// Insurer added line items
    /// 
    /// The third-tier service adjudications for payor added services.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.addItem.detail.subDetail")]
    #[fhir_serde(rename = "subDetail")]
    pub sub_detail: Option<Vec<ExplanationOfBenefitAddItemDetailSubDetail>>,
}

/// Insurer added line items
/// 
/// The third-tier service adjudications for payor added services.
/// 
/// ## Cardinality: Optional, Multiple (0..*)
/// 
/// ## Constraints
/// - **ele-1**: All FHIR elements must have a @value or children (error)
///   Expression: `hasValue() or (children().count() > id.count())`
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath, Default, FhirValidate)]
#[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.addItem.detail.subDetail")]
pub struct ExplanationOfBenefitAddItemDetailSubDetail {
    /// Unique id for inter-element referencing
    /// 
    /// Unique id for the element within a resource (for internal references). This
    /// may be any string value that does not contain spaces.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Conditions
    /// Used when: ele-1
    pub id: Option<String>,
    /// Additional content defined by implementations
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element. To make the use of extensions safe and managable,
    /// there is a strict set of governance applied to the definition and use of
    /// extensions. Though any implementer can define an extension, there is a set of
    /// requirements that SHALL be met as part of the definition of the extension.
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.addItem.detail.subDetail.extension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="ExplanationOfBenefit.addItem.detail.subDetail.extension")]
    pub extension: Option<Vec<Extension>>,
    /// Extensions that cannot be ignored even if unrecognized
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element and that modifies the understanding of the element
    /// in which it is contained and/or the understanding of the containing element's
    /// descendants. Usually modifier elements provide negation or qualification. To
    /// make the use of extensions safe and managable, there is a strict set of
    /// governance applied to the definition and use of extensions. Though any
    /// implementer can define an extension, there is a set of requirements that
    /// SHALL be met as part of the definition of the extension. Applications
    /// processing a resource are required to check for modifier extensions.
    /// 
    /// Modifier extensions SHALL NOT change the meaning of any elements on Resource
    /// or DomainResource (including cannot change the meaning of modifierExtension
    /// itself).
    /// 
    /// ## Requirements
    /// Modifier extensions allow for extensions that *cannot* be safely ignored to
    /// be clearly distinguished from the vast majority of extensions which can be
    /// safely ignored. This promotes interoperability by eliminating the need for
    /// implementers to prohibit the presence of extensions. For further information,
    /// see the [definition of modifier
    /// extensions](extensibility.html#modifierExtension).
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Modifier element - Modifier extensions are expected to modify the meaning or interpretation of the element that contains them
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content, modifiers
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.addItem.detail.subDetail.modifierExtension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="ExplanationOfBenefit.addItem.detail.subDetail.modifierExtension")]
    #[fhir_serde(rename = "modifierExtension")]
    pub modifier_extension: Option<Vec<Extension>>,
    /// Number for tracking
    /// 
    /// Trace number for tracking purposes. May be defined at the jurisdiction level
    /// or between trading partners.
    /// 
    /// ## Requirements
    /// Allows partners to uniquely identify components for tracking.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.addItem.detail.subDetail.traceNumber")]
    #[fhir_serde(rename = "traceNumber")]
    pub trace_number: Option<Vec<Identifier>>,
    /// Revenue or cost center code
    /// 
    /// The type of revenue or cost center providing the product and/or service.
    /// 
    /// ## Requirements
    /// Needed in the processing of institutional claims.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: Codes for the revenue or cost centers supplying the service and/or products.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/ex-revenue-center
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.addItem.detail.subDetail.revenue")]
    pub revenue: Option<CodeableConcept>,
    /// Billing, service, product, or drug code
    /// 
    /// When the value is a group code then this item collects a set of related item
    /// details, otherwise this contains the product, service, drug or other billing
    /// code for the item. This element may be the start of a range of
    /// .productOrService codes used in conjunction with .productOrServiceEnd or it
    /// may be a solo element where .productOrServiceEnd is not used.
    /// 
    /// ## Requirements
    /// Necessary to state what was provided or done.
    /// 
    /// ## Implementation Notes
    /// If this is an actual service or product line, i.e. not a Group, then use code
    /// to indicate the Professional Service or Product supplied (e.g. CTP, HCPCS,
    /// USCLS, ICD10, NCPDP, DIN, RxNorm, ACHI, CCI). If a grouping item then use a
    /// group code to indicate the type of thing being grouped e.g. 'glasses' or
    /// 'compound'.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: Allowable service and product codes.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/service-uscls
    /// 
    /// ## Aliases
    /// Drug Code, Bill Code, Service Code
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.addItem.detail.subDetail.productOrService")]
    #[fhir_serde(rename = "productOrService")]
    pub product_or_service: Option<CodeableConcept>,
    /// End of a range of codes
    /// 
    /// This contains the end of a range of product, service, drug or other billing
    /// codes for the item. This element is not used when the .productOrService is a
    /// group code. This value may only be present when a .productOfService code has
    /// been provided to convey the start of the range. Typically this value may be
    /// used only with preauthorizations and not with claims.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/service-uscls
    /// 
    /// ## Aliases
    /// End of a range of Drug Code; Bill Code; Service Cod
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.addItem.detail.subDetail.productOrServiceEnd")]
    #[fhir_serde(rename = "productOrServiceEnd")]
    pub product_or_service_end: Option<CodeableConcept>,
    /// Service/Product billing modifiers
    /// 
    /// Item typification or modifiers codes to convey additional context for the
    /// product or service.
    /// 
    /// ## Requirements
    /// To support inclusion of the item for adjudication or to charge an elevated
    /// fee.
    /// 
    /// ## Implementation Notes
    /// For example, in Oral whether the treatment is cosmetic or associated with
    /// TMJ, or for Medical whether the treatment was outside the clinic or out of
    /// office hours.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: Item type or modifiers codes, eg for Oral whether the treatment is cosmetic or associated with TMJ, or an appliance was lost or stolen.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/claim-modifiers
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.addItem.detail.subDetail.modifier")]
    pub modifier: Option<Vec<CodeableConcept>>,
    /// Paid by the patient
    /// 
    /// The amount paid by the patient, in total at the claim claim level or
    /// specifically for the item and detail level, to the provider for goods and
    /// services.
    /// 
    /// ## Requirements
    /// Necessary to demonstrate that copayments, co-insurance and similar patient
    /// payments have been made or accounted for.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.addItem.detail.subDetail.patientPaid")]
    #[fhir_serde(rename = "patientPaid")]
    pub patient_paid: Option<Money>,
    /// Count of products or services
    /// 
    /// The number of repetitions of a service or product.
    /// 
    /// ## Requirements
    /// Required when the product or service code does not convey the quantity
    /// provided.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.addItem.detail.subDetail.quantity")]
    pub quantity: Option<Quantity>,
    /// Fee, charge or cost per item
    /// 
    /// If the item is not a group then this is the fee for the product or service,
    /// otherwise this is the total of the fees for the details of the group.
    /// 
    /// ## Requirements
    /// The amount charged to the patient by the provider for a single unit.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.addItem.detail.subDetail.unitPrice")]
    #[fhir_serde(rename = "unitPrice")]
    pub unit_price: Option<Money>,
    /// Price scaling factor
    /// 
    /// A real number that represents a multiplier used in determining the overall
    /// value of services delivered and/or goods received. The concept of a Factor
    /// allows for a discount or surcharge multiplier to be applied to a monetary
    /// amount.
    /// 
    /// ## Requirements
    /// When discounts are provided to a patient (example: Senior's discount) then
    /// this must be documented for adjudication.
    /// 
    /// ## Implementation Notes
    /// To show a 10% senior's discount, the value entered is: 0.90 (1.00 - 0.10).
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.addItem.detail.subDetail.factor")]
    pub factor: Option<Decimal>,
    /// Total tax
    /// 
    /// The total of taxes applicable for this product or service.
    /// 
    /// ## Requirements
    /// Required when taxes are not embedded in the unit price or provided as a
    /// separate service.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.addItem.detail.subDetail.tax")]
    pub tax: Option<Money>,
    /// Total item cost
    /// 
    /// The total amount claimed for the addItem.detail.subDetail. Net = unit price *
    /// quantity * factor.
    /// 
    /// ## Requirements
    /// Provides the total amount claimed for the group (if a grouper) or the line
    /// item.
    /// 
    /// ## Implementation Notes
    /// For example, the formula: quantity * unitPrice * factor = net. Quantity and
    /// factor are assumed to be 1 if not supplied.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.addItem.detail.subDetail.net")]
    pub net: Option<Money>,
    /// Applicable note numbers
    /// 
    /// The numbers associated with notes below which apply to the adjudication of
    /// this item.
    /// 
    /// ## Requirements
    /// Provides a condensed manner for associating human readable descriptive
    /// explanations for adjudications on the line item.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.addItem.detail.subDetail.noteNumber")]
    #[fhir_serde(rename = "noteNumber")]
    pub note_number: Option<Vec<PositiveInt>>,
    /// Additem subdetail level adjudication results
    /// 
    /// The high-level results of the adjudication if adjudication has been
    /// performed.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.addItem.detail.subDetail.reviewOutcome")]
    #[fhir_serde(rename = "reviewOutcome")]
    pub review_outcome: Option<ExplanationOfBenefitItemReviewOutcome>,
    /// Added items adjudication
    /// 
    /// The adjudication results.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.addItem.detail.subDetail.adjudication")]
    pub adjudication: Option<Vec<ExplanationOfBenefitItemAdjudication>>,
}

/// Balance by Benefit Category
/// 
/// Balance by Benefit Category.
/// 
/// ## Cardinality: Optional, Multiple (0..*)
/// 
/// ## Constraints
/// - **ele-1**: All FHIR elements must have a @value or children (error)
///   Expression: `hasValue() or (children().count() > id.count())`
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath, Default, FhirValidate)]
#[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.benefitBalance")]
pub struct ExplanationOfBenefitBenefitBalance {
    /// Unique id for inter-element referencing
    /// 
    /// Unique id for the element within a resource (for internal references). This
    /// may be any string value that does not contain spaces.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Conditions
    /// Used when: ele-1
    pub id: Option<String>,
    /// Additional content defined by implementations
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element. To make the use of extensions safe and managable,
    /// there is a strict set of governance applied to the definition and use of
    /// extensions. Though any implementer can define an extension, there is a set of
    /// requirements that SHALL be met as part of the definition of the extension.
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.benefitBalance.extension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="ExplanationOfBenefit.benefitBalance.extension")]
    pub extension: Option<Vec<Extension>>,
    /// Extensions that cannot be ignored even if unrecognized
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element and that modifies the understanding of the element
    /// in which it is contained and/or the understanding of the containing element's
    /// descendants. Usually modifier elements provide negation or qualification. To
    /// make the use of extensions safe and managable, there is a strict set of
    /// governance applied to the definition and use of extensions. Though any
    /// implementer can define an extension, there is a set of requirements that
    /// SHALL be met as part of the definition of the extension. Applications
    /// processing a resource are required to check for modifier extensions.
    /// 
    /// Modifier extensions SHALL NOT change the meaning of any elements on Resource
    /// or DomainResource (including cannot change the meaning of modifierExtension
    /// itself).
    /// 
    /// ## Requirements
    /// Modifier extensions allow for extensions that *cannot* be safely ignored to
    /// be clearly distinguished from the vast majority of extensions which can be
    /// safely ignored. This promotes interoperability by eliminating the need for
    /// implementers to prohibit the presence of extensions. For further information,
    /// see the [definition of modifier
    /// extensions](extensibility.html#modifierExtension).
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Modifier element - Modifier extensions are expected to modify the meaning or interpretation of the element that contains them
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content, modifiers
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.benefitBalance.modifierExtension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="ExplanationOfBenefit.benefitBalance.modifierExtension")]
    #[fhir_serde(rename = "modifierExtension")]
    pub modifier_extension: Option<Vec<Extension>>,
    /// Benefit classification
    /// 
    /// Code to identify the general type of benefits under which products and
    /// services are provided.
    /// 
    /// ## Requirements
    /// Needed to convey the category of service or product for which eligibility is
    /// sought.
    /// 
    /// ## Implementation Notes
    /// Examples include Medical Care, Periodontics, Renal Dialysis, Vision Coverage.
    /// 
    /// ## Cardinality: Required (1..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: Benefit categories such as: oral, medical, vision, oral-basic etc.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/ex-benefitcategory
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.benefitBalance.category")]
    pub category: CodeableConcept,
    /// Excluded from the plan
    /// 
    /// True if the indicated class of service is excluded from the plan, missing or
    /// False indicates the product or service is included in the coverage.
    /// 
    /// ## Requirements
    /// Needed to identify items that are specifically excluded from the coverage.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.benefitBalance.excluded")]
    pub excluded: Option<Boolean>,
    /// Short name for the benefit
    /// 
    /// A short name or tag for the benefit.
    /// 
    /// ## Requirements
    /// Required to align with other plan names.
    /// 
    /// ## Implementation Notes
    /// For example: MED01, or DENT2.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.benefitBalance.name")]
    pub name: Option<String>,
    /// Description of the benefit or services covered
    /// 
    /// A richer description of the benefit or services covered.
    /// 
    /// ## Requirements
    /// Needed for human readable reference.
    /// 
    /// ## Implementation Notes
    /// For example, 'DENT2 covers 100% of basic, 50% of major but excludes Ortho,
    /// Implants and Cosmetic services'.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.benefitBalance.description")]
    pub description: Option<String>,
    /// In or out of network
    /// 
    /// Is a flag to indicate whether the benefits refer to in-network providers or
    /// out-of-network providers.
    /// 
    /// ## Requirements
    /// Needed as in or out of network providers are treated differently under the
    /// coverage.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: Code to classify in or out of network services.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/benefit-network
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.benefitBalance.network")]
    pub network: Option<CodeableConcept>,
    /// Individual or family
    /// 
    /// Indicates if the benefits apply to an individual or to the family.
    /// 
    /// ## Requirements
    /// Needed for the understanding of the benefits.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: Unit covered/serviced - individual or family.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/benefit-unit
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.benefitBalance.unit")]
    pub unit: Option<CodeableConcept>,
    /// Annual or lifetime
    /// 
    /// The term or period of the values such as 'maximum lifetime benefit' or
    /// 'maximum annual visits'.
    /// 
    /// ## Requirements
    /// Needed for the understanding of the benefits.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: Coverage unit - annual, lifetime.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/benefit-term
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.benefitBalance.term")]
    pub term: Option<CodeableConcept>,
    /// Benefit Summary
    /// 
    /// Benefits Used to date.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.benefitBalance.financial")]
    pub financial: Option<Vec<ExplanationOfBenefitBenefitBalanceFinancial>>,
}

/// Choice of types for the allowed\[x\] field in ExplanationOfBenefitBenefitBalanceFinancial
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath)]
#[fhir_choice_element(base_name = "allowed")]
pub enum ExplanationOfBenefitBenefitBalanceFinancialAllowed {
    /// Variant accepting the UnsignedInt type.
    #[fhir_serde(rename = "allowedUnsignedInt")]
    UnsignedInt(UnsignedInt),
    /// Variant accepting the String type.
    #[fhir_serde(rename = "allowedString")]
    String(String),
    /// Variant accepting the Money type.
    #[fhir_serde(rename = "allowedMoney")]
    Money(Money),
}

/// Choice of types for the used\[x\] field in ExplanationOfBenefitBenefitBalanceFinancial
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath)]
#[fhir_choice_element(base_name = "used")]
pub enum ExplanationOfBenefitBenefitBalanceFinancialUsed {
    /// Variant accepting the UnsignedInt type.
    #[fhir_serde(rename = "usedUnsignedInt")]
    UnsignedInt(UnsignedInt),
    /// Variant accepting the Money type.
    #[fhir_serde(rename = "usedMoney")]
    Money(Money),
}

/// Benefit Summary
/// 
/// Benefits Used to date.
/// 
/// ## Cardinality: Optional, Multiple (0..*)
/// 
/// ## Constraints
/// - **ele-1**: All FHIR elements must have a @value or children (error)
///   Expression: `hasValue() or (children().count() > id.count())`
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath, Default, FhirValidate)]
#[fhir_resource(choice_elements = "allowed,used")]
#[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.benefitBalance.financial")]
pub struct ExplanationOfBenefitBenefitBalanceFinancial {
    /// Unique id for inter-element referencing
    /// 
    /// Unique id for the element within a resource (for internal references). This
    /// may be any string value that does not contain spaces.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Conditions
    /// Used when: ele-1
    pub id: Option<String>,
    /// Additional content defined by implementations
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element. To make the use of extensions safe and managable,
    /// there is a strict set of governance applied to the definition and use of
    /// extensions. Though any implementer can define an extension, there is a set of
    /// requirements that SHALL be met as part of the definition of the extension.
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.benefitBalance.financial.extension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="ExplanationOfBenefit.benefitBalance.financial.extension")]
    pub extension: Option<Vec<Extension>>,
    /// Extensions that cannot be ignored even if unrecognized
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element and that modifies the understanding of the element
    /// in which it is contained and/or the understanding of the containing element's
    /// descendants. Usually modifier elements provide negation or qualification. To
    /// make the use of extensions safe and managable, there is a strict set of
    /// governance applied to the definition and use of extensions. Though any
    /// implementer can define an extension, there is a set of requirements that
    /// SHALL be met as part of the definition of the extension. Applications
    /// processing a resource are required to check for modifier extensions.
    /// 
    /// Modifier extensions SHALL NOT change the meaning of any elements on Resource
    /// or DomainResource (including cannot change the meaning of modifierExtension
    /// itself).
    /// 
    /// ## Requirements
    /// Modifier extensions allow for extensions that *cannot* be safely ignored to
    /// be clearly distinguished from the vast majority of extensions which can be
    /// safely ignored. This promotes interoperability by eliminating the need for
    /// implementers to prohibit the presence of extensions. For further information,
    /// see the [definition of modifier
    /// extensions](extensibility.html#modifierExtension).
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Modifier element - Modifier extensions are expected to modify the meaning or interpretation of the element that contains them
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content, modifiers
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.benefitBalance.financial.modifierExtension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="ExplanationOfBenefit.benefitBalance.financial.modifierExtension")]
    #[fhir_serde(rename = "modifierExtension")]
    pub modifier_extension: Option<Vec<Extension>>,
    /// Benefit classification
    /// 
    /// Classification of benefit being provided.
    /// 
    /// ## Requirements
    /// Needed to convey the nature of the benefit.
    /// 
    /// ## Implementation Notes
    /// For example: deductible, visits, benefit amount.
    /// 
    /// ## Cardinality: Required (1..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: Deductable, visits, co-pay, etc.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/benefit-type
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.benefitBalance.financial.type")]
    #[fhir_serde(rename = "type")]
    pub r#type: CodeableConcept,
    /// Benefits allowed
    /// 
    /// The quantity of the benefit which is permitted under the coverage.
    /// 
    /// ## Requirements
    /// Needed to convey the benefits offered under the coverage.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.benefitBalance.financial.allowed[x]")]
    #[fhir_serde(flatten)]
    pub allowed: Option<ExplanationOfBenefitBenefitBalanceFinancialAllowed>,
    /// Benefits used
    /// 
    /// The quantity of the benefit which have been consumed to date.
    /// 
    /// ## Requirements
    /// Needed to convey the benefits consumed to date.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.benefitBalance.financial.used[x]")]
    #[fhir_serde(flatten)]
    pub used: Option<ExplanationOfBenefitBenefitBalanceFinancialUsed>,
}

/// Care Team members
/// 
/// The members of the team who provided the products and services.
/// 
/// ## Requirements
/// Common to identify the responsible and supporting practitioners.
/// 
/// ## Cardinality: Optional, Multiple (0..*)
/// 
/// ## Constraints
/// - **ele-1**: All FHIR elements must have a @value or children (error)
///   Expression: `hasValue() or (children().count() > id.count())`
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath, Default, FhirValidate)]
#[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.careTeam")]
pub struct ExplanationOfBenefitCareTeam {
    /// Unique id for inter-element referencing
    /// 
    /// Unique id for the element within a resource (for internal references). This
    /// may be any string value that does not contain spaces.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Conditions
    /// Used when: ele-1
    pub id: Option<String>,
    /// Additional content defined by implementations
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element. To make the use of extensions safe and managable,
    /// there is a strict set of governance applied to the definition and use of
    /// extensions. Though any implementer can define an extension, there is a set of
    /// requirements that SHALL be met as part of the definition of the extension.
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.careTeam.extension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="ExplanationOfBenefit.careTeam.extension")]
    pub extension: Option<Vec<Extension>>,
    /// Extensions that cannot be ignored even if unrecognized
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element and that modifies the understanding of the element
    /// in which it is contained and/or the understanding of the containing element's
    /// descendants. Usually modifier elements provide negation or qualification. To
    /// make the use of extensions safe and managable, there is a strict set of
    /// governance applied to the definition and use of extensions. Though any
    /// implementer can define an extension, there is a set of requirements that
    /// SHALL be met as part of the definition of the extension. Applications
    /// processing a resource are required to check for modifier extensions.
    /// 
    /// Modifier extensions SHALL NOT change the meaning of any elements on Resource
    /// or DomainResource (including cannot change the meaning of modifierExtension
    /// itself).
    /// 
    /// ## Requirements
    /// Modifier extensions allow for extensions that *cannot* be safely ignored to
    /// be clearly distinguished from the vast majority of extensions which can be
    /// safely ignored. This promotes interoperability by eliminating the need for
    /// implementers to prohibit the presence of extensions. For further information,
    /// see the [definition of modifier
    /// extensions](extensibility.html#modifierExtension).
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Modifier element - Modifier extensions are expected to modify the meaning or interpretation of the element that contains them
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content, modifiers
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.careTeam.modifierExtension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="ExplanationOfBenefit.careTeam.modifierExtension")]
    #[fhir_serde(rename = "modifierExtension")]
    pub modifier_extension: Option<Vec<Extension>>,
    /// Order of care team
    /// 
    /// A number to uniquely identify care team entries.
    /// 
    /// ## Requirements
    /// Necessary to maintain the order of the care team and provide a mechanism to
    /// link individuals to claim details.
    /// 
    /// ## Cardinality: Required (1..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.careTeam.sequence")]
    pub sequence: PositiveInt,
    /// Practitioner or organization
    /// 
    /// Member of the team who provided the product or service.
    /// 
    /// ## Requirements
    /// Often a regulatory requirement to specify the responsible provider.
    /// 
    /// ## Cardinality: Required (1..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.careTeam.provider")]
    pub provider: Reference,
    /// Indicator of the lead practitioner
    /// 
    /// The party who is billing and/or responsible for the claimed products or
    /// services.
    /// 
    /// ## Requirements
    /// When multiple parties are present it is required to distinguish the lead or
    /// responsible individual.
    /// 
    /// ## Implementation Notes
    /// Responsible might not be required when there is only a single provider
    /// listed.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.careTeam.responsible")]
    pub responsible: Option<Boolean>,
    /// Function within the team
    /// 
    /// The lead, assisting or supervising practitioner and their discipline if a
    /// multidisciplinary team.
    /// 
    /// ## Requirements
    /// When multiple parties are present it is required to distinguish the roles
    /// performed by each member.
    /// 
    /// ## Implementation Notes
    /// Role might not be required when there is only a single provider listed.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: The role codes for the care team members.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/claim-careteamrole
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.careTeam.role")]
    pub role: Option<CodeableConcept>,
    /// Practitioner or provider specialization
    /// 
    /// The specialization of the practitioner or provider which is applicable for
    /// this service.
    /// 
    /// ## Requirements
    /// Need to specify which specialization a practitioner or provider acting under
    /// when delivering the product or service.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/provider-qualification
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.careTeam.specialty")]
    pub specialty: Option<CodeableConcept>,
}

/// Choice of types for the diagnosis\[x\] field in ExplanationOfBenefitDiagnosis
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath)]
#[fhir_choice_element(base_name = "diagnosis")]
pub enum ExplanationOfBenefitDiagnosisDiagnosis {
    /// Variant accepting the CodeableConcept type.
    #[fhir_serde(rename = "diagnosisCodeableConcept")]
    CodeableConcept(CodeableConcept),
    /// Variant accepting the Reference type.
    #[fhir_serde(rename = "diagnosisReference")]
    Reference(Reference),
}

/// Pertinent diagnosis information
/// 
/// Information about diagnoses relevant to the claim items.
/// 
/// ## Requirements
/// Required for the adjudication by provided context for the services and
/// product listed.
/// 
/// ## Cardinality: Optional, Multiple (0..*)
/// 
/// ## Constraints
/// - **ele-1**: All FHIR elements must have a @value or children (error)
///   Expression: `hasValue() or (children().count() > id.count())`
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath, Default, FhirValidate)]
#[fhir_resource(choice_elements = "diagnosis")]
#[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.diagnosis")]
pub struct ExplanationOfBenefitDiagnosis {
    /// Unique id for inter-element referencing
    /// 
    /// Unique id for the element within a resource (for internal references). This
    /// may be any string value that does not contain spaces.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Conditions
    /// Used when: ele-1
    pub id: Option<String>,
    /// Additional content defined by implementations
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element. To make the use of extensions safe and managable,
    /// there is a strict set of governance applied to the definition and use of
    /// extensions. Though any implementer can define an extension, there is a set of
    /// requirements that SHALL be met as part of the definition of the extension.
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.diagnosis.extension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="ExplanationOfBenefit.diagnosis.extension")]
    pub extension: Option<Vec<Extension>>,
    /// Extensions that cannot be ignored even if unrecognized
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element and that modifies the understanding of the element
    /// in which it is contained and/or the understanding of the containing element's
    /// descendants. Usually modifier elements provide negation or qualification. To
    /// make the use of extensions safe and managable, there is a strict set of
    /// governance applied to the definition and use of extensions. Though any
    /// implementer can define an extension, there is a set of requirements that
    /// SHALL be met as part of the definition of the extension. Applications
    /// processing a resource are required to check for modifier extensions.
    /// 
    /// Modifier extensions SHALL NOT change the meaning of any elements on Resource
    /// or DomainResource (including cannot change the meaning of modifierExtension
    /// itself).
    /// 
    /// ## Requirements
    /// Modifier extensions allow for extensions that *cannot* be safely ignored to
    /// be clearly distinguished from the vast majority of extensions which can be
    /// safely ignored. This promotes interoperability by eliminating the need for
    /// implementers to prohibit the presence of extensions. For further information,
    /// see the [definition of modifier
    /// extensions](extensibility.html#modifierExtension).
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Modifier element - Modifier extensions are expected to modify the meaning or interpretation of the element that contains them
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content, modifiers
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.diagnosis.modifierExtension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="ExplanationOfBenefit.diagnosis.modifierExtension")]
    #[fhir_serde(rename = "modifierExtension")]
    pub modifier_extension: Option<Vec<Extension>>,
    /// Diagnosis instance identifier
    /// 
    /// A number to uniquely identify diagnosis entries.
    /// 
    /// ## Requirements
    /// Necessary to maintain the order of the diagnosis items and provide a
    /// mechanism to link to claim details.
    /// 
    /// ## Implementation Notes
    /// Diagnosis are presented in list order to their expected importance: primary,
    /// secondary, etc.
    /// 
    /// ## Cardinality: Required (1..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.diagnosis.sequence")]
    pub sequence: PositiveInt,
    /// Nature of illness or problem
    /// 
    /// The nature of illness or problem in a coded form or as a reference to an
    /// external defined Condition.
    /// 
    /// ## Requirements
    /// Provides health context for the evaluation of the products and/or services.
    /// 
    /// ## Cardinality: Required (1..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: ICD10 Diagnostic codes.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/icd-10
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.diagnosis.diagnosis[x]")]
    #[fhir_serde(flatten)]
    pub diagnosis: Option<ExplanationOfBenefitDiagnosisDiagnosis>,
    /// Timing or nature of the diagnosis
    /// 
    /// When the condition was observed or the relative ranking.
    /// 
    /// ## Requirements
    /// Often required to capture a particular diagnosis, for example: primary or
    /// discharge.
    /// 
    /// ## Implementation Notes
    /// For example: admitting, primary, secondary, discharge.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: The type of the diagnosis: admitting, principal, discharge.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/ex-diagnosistype
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.diagnosis.type")]
    #[fhir_serde(rename = "type")]
    pub r#type: Option<Vec<CodeableConcept>>,
    /// Present on admission
    /// 
    /// Indication of whether the diagnosis was present on admission to a facility.
    /// 
    /// ## Requirements
    /// Many systems need to understand for adjudication if the diagnosis was present
    /// a time of admission.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: Present on admission.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/ex-diagnosis-on-admission
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.diagnosis.onAdmission")]
    #[fhir_serde(rename = "onAdmission")]
    pub on_admission: Option<CodeableConcept>,
}

/// Choice of types for the when\[x\] field in ExplanationOfBenefitEvent
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath)]
#[fhir_choice_element(base_name = "when")]
pub enum ExplanationOfBenefitEventWhen {
    /// Variant accepting the DateTime type.
    #[fhir_serde(rename = "whenDateTime")]
    DateTime(DateTime),
    /// Variant accepting the Period type.
    #[fhir_serde(rename = "whenPeriod")]
    Period(Period),
}

/// Event information
/// 
/// Information code for an event with a corresponding date or period.
/// 
/// ## Cardinality: Optional, Multiple (0..*)
/// 
/// ## Constraints
/// - **ele-1**: All FHIR elements must have a @value or children (error)
///   Expression: `hasValue() or (children().count() > id.count())`
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath, Default, FhirValidate)]
#[fhir_resource(choice_elements = "when")]
#[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.event")]
pub struct ExplanationOfBenefitEvent {
    /// Unique id for inter-element referencing
    /// 
    /// Unique id for the element within a resource (for internal references). This
    /// may be any string value that does not contain spaces.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Conditions
    /// Used when: ele-1
    pub id: Option<String>,
    /// Additional content defined by implementations
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element. To make the use of extensions safe and managable,
    /// there is a strict set of governance applied to the definition and use of
    /// extensions. Though any implementer can define an extension, there is a set of
    /// requirements that SHALL be met as part of the definition of the extension.
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.event.extension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="ExplanationOfBenefit.event.extension")]
    pub extension: Option<Vec<Extension>>,
    /// Extensions that cannot be ignored even if unrecognized
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element and that modifies the understanding of the element
    /// in which it is contained and/or the understanding of the containing element's
    /// descendants. Usually modifier elements provide negation or qualification. To
    /// make the use of extensions safe and managable, there is a strict set of
    /// governance applied to the definition and use of extensions. Though any
    /// implementer can define an extension, there is a set of requirements that
    /// SHALL be met as part of the definition of the extension. Applications
    /// processing a resource are required to check for modifier extensions.
    /// 
    /// Modifier extensions SHALL NOT change the meaning of any elements on Resource
    /// or DomainResource (including cannot change the meaning of modifierExtension
    /// itself).
    /// 
    /// ## Requirements
    /// Modifier extensions allow for extensions that *cannot* be safely ignored to
    /// be clearly distinguished from the vast majority of extensions which can be
    /// safely ignored. This promotes interoperability by eliminating the need for
    /// implementers to prohibit the presence of extensions. For further information,
    /// see the [definition of modifier
    /// extensions](extensibility.html#modifierExtension).
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Modifier element - Modifier extensions are expected to modify the meaning or interpretation of the element that contains them
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content, modifiers
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.event.modifierExtension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="ExplanationOfBenefit.event.modifierExtension")]
    #[fhir_serde(rename = "modifierExtension")]
    pub modifier_extension: Option<Vec<Extension>>,
    /// Specific event
    /// 
    /// A coded event such as when a service is expected or a card printed.
    /// 
    /// ## Cardinality: Required (1..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/datestype
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.event.type")]
    #[fhir_serde(rename = "type")]
    pub r#type: CodeableConcept,
    /// Occurance date or period
    /// 
    /// A date or period in the past or future indicating when the event occurred or
    /// is expectd to occur.
    /// 
    /// ## Cardinality: Required (1..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.event.when[x]")]
    #[fhir_serde(flatten)]
    pub when: Option<ExplanationOfBenefitEventWhen>,
}

/// Patient insurance information
/// 
/// Financial instruments for reimbursement for the health care products and
/// services specified on the claim.
/// 
/// ## Requirements
/// At least one insurer is required for a claim to be a claim.
/// 
/// ## Implementation Notes
/// All insurance coverages for the patient which may be applicable for
/// reimbursement, of the products and services listed in the claim, are
/// typically provided in the claim to allow insurers to confirm the ordering of
/// the insurance coverages relative to local 'coordination of benefit' rules.
/// One coverage (and only one) with 'focal=true' is to be used in the
/// adjudication of this claim. Coverages appearing before the focal Coverage in
/// the list, and where 'Coverage.subrogation=false', should provide a reference
/// to the ClaimResponse containing the adjudication results of the prior claim.
/// 
/// ## Cardinality: Optional, Multiple (0..*)
/// 
/// ## Special Semantics
/// - Included in summary
/// 
/// ## Constraints
/// - **ele-1**: All FHIR elements must have a @value or children (error)
///   Expression: `hasValue() or (children().count() > id.count())`
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath, Default, FhirValidate)]
#[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.insurance")]
pub struct ExplanationOfBenefitInsurance {
    /// Unique id for inter-element referencing
    /// 
    /// Unique id for the element within a resource (for internal references). This
    /// may be any string value that does not contain spaces.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Conditions
    /// Used when: ele-1
    pub id: Option<String>,
    /// Additional content defined by implementations
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element. To make the use of extensions safe and managable,
    /// there is a strict set of governance applied to the definition and use of
    /// extensions. Though any implementer can define an extension, there is a set of
    /// requirements that SHALL be met as part of the definition of the extension.
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.insurance.extension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="ExplanationOfBenefit.insurance.extension")]
    pub extension: Option<Vec<Extension>>,
    /// Extensions that cannot be ignored even if unrecognized
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element and that modifies the understanding of the element
    /// in which it is contained and/or the understanding of the containing element's
    /// descendants. Usually modifier elements provide negation or qualification. To
    /// make the use of extensions safe and managable, there is a strict set of
    /// governance applied to the definition and use of extensions. Though any
    /// implementer can define an extension, there is a set of requirements that
    /// SHALL be met as part of the definition of the extension. Applications
    /// processing a resource are required to check for modifier extensions.
    /// 
    /// Modifier extensions SHALL NOT change the meaning of any elements on Resource
    /// or DomainResource (including cannot change the meaning of modifierExtension
    /// itself).
    /// 
    /// ## Requirements
    /// Modifier extensions allow for extensions that *cannot* be safely ignored to
    /// be clearly distinguished from the vast majority of extensions which can be
    /// safely ignored. This promotes interoperability by eliminating the need for
    /// implementers to prohibit the presence of extensions. For further information,
    /// see the [definition of modifier
    /// extensions](extensibility.html#modifierExtension).
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Modifier element - Modifier extensions are expected to modify the meaning or interpretation of the element that contains them
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content, modifiers
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.insurance.modifierExtension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="ExplanationOfBenefit.insurance.modifierExtension")]
    #[fhir_serde(rename = "modifierExtension")]
    pub modifier_extension: Option<Vec<Extension>>,
    /// Coverage to be used for adjudication
    /// 
    /// A flag to indicate that this Coverage is to be used for adjudication of this
    /// claim when set to true.
    /// 
    /// ## Requirements
    /// To identify which coverage in the list is being used to adjudicate this
    /// claim.
    /// 
    /// ## Implementation Notes
    /// A patient may (will) have multiple insurance policies which provide
    /// reimbursement for healthcare services and products. For example, a person may
    /// also be covered by their spouse's policy and both appear in the list (and may
    /// be from the same insurer). This flag will be set to true for only one of the
    /// listed policies and that policy will be used for adjudicating this claim.
    /// Other claims would be created to request adjudication against the other
    /// listed policies.
    /// 
    /// ## Cardinality: Required (1..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.insurance.focal")]
    pub focal: Boolean,
    /// Insurance information
    /// 
    /// Reference to the insurance card level information contained in the Coverage
    /// resource. The coverage issuing insurer will use these details to locate the
    /// patient's actual coverage within the insurer's information system.
    /// 
    /// ## Requirements
    /// Required to allow the adjudicator to locate the correct policy and history
    /// within their information system.
    /// 
    /// ## Cardinality: Required (1..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.insurance.coverage")]
    pub coverage: Reference,
    /// Prior authorization reference number
    /// 
    /// Reference numbers previously provided by the insurer to the provider to be
    /// quoted on subsequent claims containing services or products related to the
    /// prior authorization.
    /// 
    /// ## Requirements
    /// Providers must quote previously issued authorization reference numbers in
    /// order to obtain adjudication as previously advised on the Preauthorization.
    /// 
    /// ## Implementation Notes
    /// This value is an alphanumeric string that may be provided over the phone, via
    /// text, via paper, or within a ClaimResponse resource and is not a FHIR
    /// Identifier.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.insurance.preAuthRef")]
    #[fhir_serde(rename = "preAuthRef")]
    pub pre_auth_ref: Option<Vec<String>>,
}

/// Choice of types for the serviced\[x\] field in ExplanationOfBenefitItem
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath)]
#[fhir_choice_element(base_name = "serviced")]
pub enum ExplanationOfBenefitItemServiced {
    /// Variant accepting the Date type.
    #[fhir_serde(rename = "servicedDate")]
    Date(Date),
    /// Variant accepting the Period type.
    #[fhir_serde(rename = "servicedPeriod")]
    Period(Period),
}

/// Choice of types for the location\[x\] field in ExplanationOfBenefitItem
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath)]
#[fhir_choice_element(base_name = "location")]
pub enum ExplanationOfBenefitItemLocation {
    /// Variant accepting the CodeableConcept type.
    #[fhir_serde(rename = "locationCodeableConcept")]
    CodeableConcept(CodeableConcept),
    /// Variant accepting the Address type.
    #[fhir_serde(rename = "locationAddress")]
    Address(Address),
    /// Variant accepting the Reference type.
    #[fhir_serde(rename = "locationReference")]
    Reference(Reference),
}

/// Product or service provided
/// 
/// A claim line. Either a simple (a product or service) or a 'group' of details
/// which can also be a simple items or groups of sub-details.
/// 
/// ## Requirements
/// The items to be processed for adjudication.
/// 
/// ## Cardinality: Optional, Multiple (0..*)
/// 
/// ## Constraints
/// - **ele-1**: All FHIR elements must have a @value or children (error)
///   Expression: `hasValue() or (children().count() > id.count())`
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath, Default, FhirValidate)]
#[fhir_resource(choice_elements = "serviced,location")]
#[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item")]
pub struct ExplanationOfBenefitItem {
    /// Unique id for inter-element referencing
    /// 
    /// Unique id for the element within a resource (for internal references). This
    /// may be any string value that does not contain spaces.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Conditions
    /// Used when: ele-1
    pub id: Option<String>,
    /// Additional content defined by implementations
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element. To make the use of extensions safe and managable,
    /// there is a strict set of governance applied to the definition and use of
    /// extensions. Though any implementer can define an extension, there is a set of
    /// requirements that SHALL be met as part of the definition of the extension.
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.extension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="ExplanationOfBenefit.item.extension")]
    pub extension: Option<Vec<Extension>>,
    /// Extensions that cannot be ignored even if unrecognized
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element and that modifies the understanding of the element
    /// in which it is contained and/or the understanding of the containing element's
    /// descendants. Usually modifier elements provide negation or qualification. To
    /// make the use of extensions safe and managable, there is a strict set of
    /// governance applied to the definition and use of extensions. Though any
    /// implementer can define an extension, there is a set of requirements that
    /// SHALL be met as part of the definition of the extension. Applications
    /// processing a resource are required to check for modifier extensions.
    /// 
    /// Modifier extensions SHALL NOT change the meaning of any elements on Resource
    /// or DomainResource (including cannot change the meaning of modifierExtension
    /// itself).
    /// 
    /// ## Requirements
    /// Modifier extensions allow for extensions that *cannot* be safely ignored to
    /// be clearly distinguished from the vast majority of extensions which can be
    /// safely ignored. This promotes interoperability by eliminating the need for
    /// implementers to prohibit the presence of extensions. For further information,
    /// see the [definition of modifier
    /// extensions](extensibility.html#modifierExtension).
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Modifier element - Modifier extensions are expected to modify the meaning or interpretation of the element that contains them
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content, modifiers
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.modifierExtension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="ExplanationOfBenefit.item.modifierExtension")]
    #[fhir_serde(rename = "modifierExtension")]
    pub modifier_extension: Option<Vec<Extension>>,
    /// Item instance identifier
    /// 
    /// A number to uniquely identify item entries.
    /// 
    /// ## Requirements
    /// Necessary to provide a mechanism to link to items from within the claim and
    /// within the adjudication details of the ClaimResponse.
    /// 
    /// ## Cardinality: Required (1..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.sequence")]
    pub sequence: PositiveInt,
    /// Applicable care team members
    /// 
    /// Care team members related to this service or product.
    /// 
    /// ## Requirements
    /// Need to identify the individuals and their roles in the provision of the
    /// product or service.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.careTeamSequence")]
    #[fhir_serde(rename = "careTeamSequence")]
    pub care_team_sequence: Option<Vec<PositiveInt>>,
    /// Applicable diagnoses
    /// 
    /// Diagnoses applicable for this service or product.
    /// 
    /// ## Requirements
    /// Need to related the product or service to the associated diagnoses.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.diagnosisSequence")]
    #[fhir_serde(rename = "diagnosisSequence")]
    pub diagnosis_sequence: Option<Vec<PositiveInt>>,
    /// Applicable procedures
    /// 
    /// Procedures applicable for this service or product.
    /// 
    /// ## Requirements
    /// Need to provide any listed specific procedures to support the product or
    /// service being claimed.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.procedureSequence")]
    #[fhir_serde(rename = "procedureSequence")]
    pub procedure_sequence: Option<Vec<PositiveInt>>,
    /// Applicable exception and supporting information
    /// 
    /// Exceptions, special conditions and supporting information applicable for this
    /// service or product.
    /// 
    /// ## Requirements
    /// Need to reference the supporting information items that relate directly to
    /// this product or service.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.informationSequence")]
    #[fhir_serde(rename = "informationSequence")]
    pub information_sequence: Option<Vec<PositiveInt>>,
    /// Number for tracking
    /// 
    /// Trace number for tracking purposes. May be defined at the jurisdiction level
    /// or between trading partners.
    /// 
    /// ## Requirements
    /// Allows partners to uniquely identify components for tracking.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.traceNumber")]
    #[fhir_serde(rename = "traceNumber")]
    pub trace_number: Option<Vec<Identifier>>,
    /// Revenue or cost center code
    /// 
    /// The type of revenue or cost center providing the product and/or service.
    /// 
    /// ## Requirements
    /// Needed in the processing of institutional claims.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: Codes for the revenue or cost centers supplying the service and/or products.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/ex-revenue-center
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.revenue")]
    pub revenue: Option<CodeableConcept>,
    /// Benefit classification
    /// 
    /// Code to identify the general type of benefits under which products and
    /// services are provided.
    /// 
    /// ## Requirements
    /// Needed in the processing of institutional claims as this allows the insurer
    /// to determine whether a facial X-Ray is for dental, orthopedic, or facial
    /// surgery purposes.
    /// 
    /// ## Implementation Notes
    /// Examples include Medical Care, Periodontics, Renal Dialysis, Vision Coverage.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: Benefit categories such as: oral, medical, vision, oral-basic etc.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/ex-benefitcategory
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.category")]
    pub category: Option<CodeableConcept>,
    /// Billing, service, product, or drug code
    /// 
    /// When the value is a group code then this item collects a set of related item
    /// details, otherwise this contains the product, service, drug or other billing
    /// code for the item. This element may be the start of a range of
    /// .productOrService codes used in conjunction with .productOrServiceEnd or it
    /// may be a solo element where .productOrServiceEnd is not used.
    /// 
    /// ## Requirements
    /// Necessary to state what was provided or done.
    /// 
    /// ## Implementation Notes
    /// If this is an actual service or product line, i.e. not a Group, then use code
    /// to indicate the Professional Service or Product supplied (e.g. CTP, HCPCS,
    /// USCLS, ICD10, NCPDP, DIN, RxNorm, ACHI, CCI). If a grouping item then use a
    /// group code to indicate the type of thing being grouped e.g. 'glasses' or
    /// 'compound'.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: Allowable service and product codes.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/service-uscls
    /// 
    /// ## Aliases
    /// Drug Code, Bill Code, Service Code
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.productOrService")]
    #[fhir_serde(rename = "productOrService")]
    pub product_or_service: Option<CodeableConcept>,
    /// End of a range of codes
    /// 
    /// This contains the end of a range of product, service, drug or other billing
    /// codes for the item. This element is not used when the .productOrService is a
    /// group code. This value may only be present when a .productOfService code has
    /// been provided to convey the start of the range. Typically this value may be
    /// used only with preauthorizations and not with claims.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/service-uscls
    /// 
    /// ## Aliases
    /// End of a range of Drug Code; Bill Code; Service Cod
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.productOrServiceEnd")]
    #[fhir_serde(rename = "productOrServiceEnd")]
    pub product_or_service_end: Option<CodeableConcept>,
    /// Request or Referral for Service
    /// 
    /// Request or Referral for Goods or Service to be rendered.
    /// 
    /// ## Requirements
    /// May identify the service to be provided or provider authorization for the
    /// service.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.request")]
    pub request: Option<Vec<Reference>>,
    /// Product or service billing modifiers
    /// 
    /// Item typification or modifiers codes to convey additional context for the
    /// product or service.
    /// 
    /// ## Requirements
    /// To support inclusion of the item for adjudication or to charge an elevated
    /// fee.
    /// 
    /// ## Implementation Notes
    /// For example, in Oral whether the treatment is cosmetic or associated with
    /// TMJ, or for Medical whether the treatment was outside the clinic or out of
    /// office hours.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: Item type or modifiers codes, eg for Oral whether the treatment is cosmetic or associated with TMJ, or an appliance was lost or stolen.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/claim-modifiers
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.modifier")]
    pub modifier: Option<Vec<CodeableConcept>>,
    /// Program the product or service is provided under
    /// 
    /// Identifies the program under which this may be recovered.
    /// 
    /// ## Requirements
    /// Commonly used in in the identification of publicly provided program focused
    /// on population segments or disease classifications.
    /// 
    /// ## Implementation Notes
    /// For example: Neonatal program, child dental program or drug users recovery
    /// program.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: Program specific reason codes.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/ex-program-code
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.programCode")]
    #[fhir_serde(rename = "programCode")]
    pub program_code: Option<Vec<CodeableConcept>>,
    /// Date or dates of service or product delivery
    /// 
    /// The date or dates when the service or product was supplied, performed or
    /// completed.
    /// 
    /// ## Requirements
    /// Needed to determine whether the service or product was provided during the
    /// term of the insurance coverage.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.serviced[x]")]
    #[fhir_serde(flatten)]
    pub serviced: Option<ExplanationOfBenefitItemServiced>,
    /// Place of service or where product was supplied
    /// 
    /// Where the product or service was provided.
    /// 
    /// ## Requirements
    /// The location can alter whether the item was acceptable for insurance purposes
    /// or impact the determination of the benefit amount.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: Place where the service is rendered.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/service-place
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.location[x]")]
    #[fhir_serde(flatten)]
    pub location: Option<ExplanationOfBenefitItemLocation>,
    /// Paid by the patient
    /// 
    /// The amount paid by the patient, in total at the claim claim level or
    /// specifically for the item and detail level, to the provider for goods and
    /// services.
    /// 
    /// ## Requirements
    /// Necessary to demonstrate that copayments, co-insurance and similar patient
    /// payments have been made or accounted for.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.patientPaid")]
    #[fhir_serde(rename = "patientPaid")]
    pub patient_paid: Option<Money>,
    /// Count of products or services
    /// 
    /// The number of repetitions of a service or product.
    /// 
    /// ## Requirements
    /// Required when the product or service code does not convey the quantity
    /// provided.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.quantity")]
    pub quantity: Option<Quantity>,
    /// Fee, charge or cost per item
    /// 
    /// If the item is not a group then this is the fee for the product or service,
    /// otherwise this is the total of the fees for the details of the group.
    /// 
    /// ## Requirements
    /// The amount charged to the patient by the provider for a single unit.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.unitPrice")]
    #[fhir_serde(rename = "unitPrice")]
    pub unit_price: Option<Money>,
    /// Price scaling factor
    /// 
    /// A real number that represents a multiplier used in determining the overall
    /// value of services delivered and/or goods received. The concept of a Factor
    /// allows for a discount or surcharge multiplier to be applied to a monetary
    /// amount.
    /// 
    /// ## Requirements
    /// When discounts are provided to a patient (example: Senior's discount) then
    /// this must be documented for adjudication.
    /// 
    /// ## Implementation Notes
    /// To show a 10% senior's discount, the value entered is: 0.90 (1.00 - 0.10).
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.factor")]
    pub factor: Option<Decimal>,
    /// Total tax
    /// 
    /// The total of taxes applicable for this product or service.
    /// 
    /// ## Requirements
    /// Required when taxes are not embedded in the unit price or provided as a
    /// separate service.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.tax")]
    pub tax: Option<Money>,
    /// Total item cost
    /// 
    /// The total amount claimed for the group (if a grouper) or the line item. Net =
    /// unit price * quantity * factor.
    /// 
    /// ## Requirements
    /// Provides the total amount claimed for the group (if a grouper) or the line
    /// item.
    /// 
    /// ## Implementation Notes
    /// For example, the formula: quantity * unitPrice * factor = net. Quantity and
    /// factor are assumed to be 1 if not supplied.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.net")]
    pub net: Option<Money>,
    /// Unique device identifier
    /// 
    /// Unique Device Identifiers associated with this line item.
    /// 
    /// ## Requirements
    /// The UDI code allows the insurer to obtain device level information on the
    /// product supplied.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.udi")]
    pub udi: Option<Vec<Reference>>,
    /// Anatomical location
    /// 
    /// Physical location where the service is performed or applies.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.bodySite")]
    #[fhir_serde(rename = "bodySite")]
    pub body_site: Option<Vec<ExplanationOfBenefitItemBodySite>>,
    /// Encounters associated with the listed treatments
    /// 
    /// Healthcare encounters related to this claim.
    /// 
    /// ## Requirements
    /// Used in some jurisdictions to link clinical events to claim items.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.encounter")]
    pub encounter: Option<Vec<Reference>>,
    /// Applicable note numbers
    /// 
    /// The numbers associated with notes below which apply to the adjudication of
    /// this item.
    /// 
    /// ## Requirements
    /// Provides a condensed manner for associating human readable descriptive
    /// explanations for adjudications on the line item.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.noteNumber")]
    #[fhir_serde(rename = "noteNumber")]
    pub note_number: Option<Vec<PositiveInt>>,
    /// Adjudication results
    /// 
    /// The high-level results of the adjudication if adjudication has been
    /// performed.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.reviewOutcome")]
    #[fhir_serde(rename = "reviewOutcome")]
    pub review_outcome: Option<ExplanationOfBenefitItemReviewOutcome>,
    /// Adjudication details
    /// 
    /// If this item is a group then the values here are a summary of the
    /// adjudication of the detail items. If this item is a simple product or service
    /// then this is the result of the adjudication of this item.
    /// 
    /// ## Requirements
    /// The adjudication results conveys the insurer's assessment of the item
    /// provided in the claim under the terms of the patient's insurance coverage.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.adjudication")]
    pub adjudication: Option<Vec<ExplanationOfBenefitItemAdjudication>>,
    /// Additional items
    /// 
    /// Second-tier of goods and services.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.detail")]
    pub detail: Option<Vec<ExplanationOfBenefitItemDetail>>,
}

/// Adjudication details
/// 
/// If this item is a group then the values here are a summary of the
/// adjudication of the detail items. If this item is a simple product or service
/// then this is the result of the adjudication of this item.
/// 
/// ## Requirements
/// The adjudication results conveys the insurer's assessment of the item
/// provided in the claim under the terms of the patient's insurance coverage.
/// 
/// ## Cardinality: Optional, Multiple (0..*)
/// 
/// ## Constraints
/// - **ele-1**: All FHIR elements must have a @value or children (error)
///   Expression: `hasValue() or (children().count() > id.count())`
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath, Default, FhirValidate)]
#[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.adjudication")]
pub struct ExplanationOfBenefitItemAdjudication {
    /// Unique id for inter-element referencing
    /// 
    /// Unique id for the element within a resource (for internal references). This
    /// may be any string value that does not contain spaces.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Conditions
    /// Used when: ele-1
    pub id: Option<String>,
    /// Additional content defined by implementations
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element. To make the use of extensions safe and managable,
    /// there is a strict set of governance applied to the definition and use of
    /// extensions. Though any implementer can define an extension, there is a set of
    /// requirements that SHALL be met as part of the definition of the extension.
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.adjudication.extension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="ExplanationOfBenefit.item.adjudication.extension")]
    pub extension: Option<Vec<Extension>>,
    /// Extensions that cannot be ignored even if unrecognized
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element and that modifies the understanding of the element
    /// in which it is contained and/or the understanding of the containing element's
    /// descendants. Usually modifier elements provide negation or qualification. To
    /// make the use of extensions safe and managable, there is a strict set of
    /// governance applied to the definition and use of extensions. Though any
    /// implementer can define an extension, there is a set of requirements that
    /// SHALL be met as part of the definition of the extension. Applications
    /// processing a resource are required to check for modifier extensions.
    /// 
    /// Modifier extensions SHALL NOT change the meaning of any elements on Resource
    /// or DomainResource (including cannot change the meaning of modifierExtension
    /// itself).
    /// 
    /// ## Requirements
    /// Modifier extensions allow for extensions that *cannot* be safely ignored to
    /// be clearly distinguished from the vast majority of extensions which can be
    /// safely ignored. This promotes interoperability by eliminating the need for
    /// implementers to prohibit the presence of extensions. For further information,
    /// see the [definition of modifier
    /// extensions](extensibility.html#modifierExtension).
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Modifier element - Modifier extensions are expected to modify the meaning or interpretation of the element that contains them
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content, modifiers
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.adjudication.modifierExtension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="ExplanationOfBenefit.item.adjudication.modifierExtension")]
    #[fhir_serde(rename = "modifierExtension")]
    pub modifier_extension: Option<Vec<Extension>>,
    /// Type of adjudication information
    /// 
    /// A code to indicate the information type of this adjudication record.
    /// Information types may include: the value submitted, maximum values or
    /// percentages allowed or payable under the plan, amounts that the patient is
    /// responsible for in-aggregate or pertaining to this item, amounts paid by
    /// other coverages, and the benefit payable for this item.
    /// 
    /// ## Requirements
    /// Needed to enable understanding of the context of the other information in the
    /// adjudication.
    /// 
    /// ## Implementation Notes
    /// For example, codes indicating: Co-Pay, deductible, eligible, benefit, tax,
    /// etc.
    /// 
    /// ## Cardinality: Required (1..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: The adjudication codes.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/adjudication
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.adjudication.category")]
    pub category: CodeableConcept,
    /// Explanation of adjudication outcome
    /// 
    /// A code supporting the understanding of the adjudication result and explaining
    /// variance from expected amount.
    /// 
    /// ## Requirements
    /// To support understanding of variance from adjudication expectations.
    /// 
    /// ## Implementation Notes
    /// For example, may indicate that the funds for this benefit type have been
    /// exhausted.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: Adjudication reason codes.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/adjudication-reason
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.adjudication.reason")]
    pub reason: Option<CodeableConcept>,
    /// Monetary amount
    /// 
    /// Monetary amount associated with the category.
    /// 
    /// ## Requirements
    /// Most adjudication categories convey a monetary amount.
    /// 
    /// ## Implementation Notes
    /// For example, amount submitted, eligible amount, co-payment, and benefit
    /// payable.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.adjudication.amount")]
    pub amount: Option<Money>,
    /// Non-monitary value
    /// 
    /// A non-monetary value associated with the category. Mutually exclusive to the
    /// amount element above.
    /// 
    /// ## Requirements
    /// Some adjudication categories convey a percentage or a fixed value.
    /// 
    /// ## Implementation Notes
    /// For example: eligible percentage or co-payment percentage.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.adjudication.quantity")]
    pub quantity: Option<Quantity>,
}

/// Anatomical location
/// 
/// Physical location where the service is performed or applies.
/// 
/// ## Cardinality: Optional, Multiple (0..*)
/// 
/// ## Constraints
/// - **ele-1**: All FHIR elements must have a @value or children (error)
///   Expression: `hasValue() or (children().count() > id.count())`
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath, Default, FhirValidate)]
#[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.bodySite")]
pub struct ExplanationOfBenefitItemBodySite {
    /// Unique id for inter-element referencing
    /// 
    /// Unique id for the element within a resource (for internal references). This
    /// may be any string value that does not contain spaces.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Conditions
    /// Used when: ele-1
    pub id: Option<String>,
    /// Additional content defined by implementations
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element. To make the use of extensions safe and managable,
    /// there is a strict set of governance applied to the definition and use of
    /// extensions. Though any implementer can define an extension, there is a set of
    /// requirements that SHALL be met as part of the definition of the extension.
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.bodySite.extension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="ExplanationOfBenefit.item.bodySite.extension")]
    pub extension: Option<Vec<Extension>>,
    /// Extensions that cannot be ignored even if unrecognized
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element and that modifies the understanding of the element
    /// in which it is contained and/or the understanding of the containing element's
    /// descendants. Usually modifier elements provide negation or qualification. To
    /// make the use of extensions safe and managable, there is a strict set of
    /// governance applied to the definition and use of extensions. Though any
    /// implementer can define an extension, there is a set of requirements that
    /// SHALL be met as part of the definition of the extension. Applications
    /// processing a resource are required to check for modifier extensions.
    /// 
    /// Modifier extensions SHALL NOT change the meaning of any elements on Resource
    /// or DomainResource (including cannot change the meaning of modifierExtension
    /// itself).
    /// 
    /// ## Requirements
    /// Modifier extensions allow for extensions that *cannot* be safely ignored to
    /// be clearly distinguished from the vast majority of extensions which can be
    /// safely ignored. This promotes interoperability by eliminating the need for
    /// implementers to prohibit the presence of extensions. For further information,
    /// see the [definition of modifier
    /// extensions](extensibility.html#modifierExtension).
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Modifier element - Modifier extensions are expected to modify the meaning or interpretation of the element that contains them
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content, modifiers
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.bodySite.modifierExtension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="ExplanationOfBenefit.item.bodySite.modifierExtension")]
    #[fhir_serde(rename = "modifierExtension")]
    pub modifier_extension: Option<Vec<Extension>>,
    /// Location
    /// 
    /// Physical service site on the patient (limb, tooth, etc.).
    /// 
    /// ## Requirements
    /// Allows insurer to validate specific procedures.
    /// 
    /// ## Implementation Notes
    /// For example: Providing a tooth code, allows an insurer to identify a provider
    /// performing a filling on a tooth that was previously removed.
    /// 
    /// ## Cardinality: Required, Multiple (1..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/tooth
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.bodySite.site")]
    pub site: Option<Vec<CodeableReference>>,
    /// Sub-location
    /// 
    /// A region or surface of the bodySite, e.g. limb region or tooth surface(s).
    /// 
    /// ## Requirements
    /// Allows insurer to validate specific procedures.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/surface
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.bodySite.subSite")]
    #[fhir_serde(rename = "subSite")]
    pub sub_site: Option<Vec<CodeableConcept>>,
}

/// Additional items
/// 
/// Second-tier of goods and services.
/// 
/// ## Cardinality: Optional, Multiple (0..*)
/// 
/// ## Constraints
/// - **ele-1**: All FHIR elements must have a @value or children (error)
///   Expression: `hasValue() or (children().count() > id.count())`
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath, Default, FhirValidate)]
#[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.detail")]
pub struct ExplanationOfBenefitItemDetail {
    /// Unique id for inter-element referencing
    /// 
    /// Unique id for the element within a resource (for internal references). This
    /// may be any string value that does not contain spaces.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Conditions
    /// Used when: ele-1
    pub id: Option<String>,
    /// Additional content defined by implementations
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element. To make the use of extensions safe and managable,
    /// there is a strict set of governance applied to the definition and use of
    /// extensions. Though any implementer can define an extension, there is a set of
    /// requirements that SHALL be met as part of the definition of the extension.
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.detail.extension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="ExplanationOfBenefit.item.detail.extension")]
    pub extension: Option<Vec<Extension>>,
    /// Extensions that cannot be ignored even if unrecognized
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element and that modifies the understanding of the element
    /// in which it is contained and/or the understanding of the containing element's
    /// descendants. Usually modifier elements provide negation or qualification. To
    /// make the use of extensions safe and managable, there is a strict set of
    /// governance applied to the definition and use of extensions. Though any
    /// implementer can define an extension, there is a set of requirements that
    /// SHALL be met as part of the definition of the extension. Applications
    /// processing a resource are required to check for modifier extensions.
    /// 
    /// Modifier extensions SHALL NOT change the meaning of any elements on Resource
    /// or DomainResource (including cannot change the meaning of modifierExtension
    /// itself).
    /// 
    /// ## Requirements
    /// Modifier extensions allow for extensions that *cannot* be safely ignored to
    /// be clearly distinguished from the vast majority of extensions which can be
    /// safely ignored. This promotes interoperability by eliminating the need for
    /// implementers to prohibit the presence of extensions. For further information,
    /// see the [definition of modifier
    /// extensions](extensibility.html#modifierExtension).
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Modifier element - Modifier extensions are expected to modify the meaning or interpretation of the element that contains them
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content, modifiers
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.detail.modifierExtension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="ExplanationOfBenefit.item.detail.modifierExtension")]
    #[fhir_serde(rename = "modifierExtension")]
    pub modifier_extension: Option<Vec<Extension>>,
    /// Product or service provided
    /// 
    /// A claim detail line. Either a simple (a product or service) or a 'group' of
    /// sub-details which are simple items.
    /// 
    /// ## Requirements
    /// The items to be processed for adjudication.
    /// 
    /// ## Cardinality: Required (1..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.detail.sequence")]
    pub sequence: PositiveInt,
    /// Number for tracking
    /// 
    /// Trace number for tracking purposes. May be defined at the jurisdiction level
    /// or between trading partners.
    /// 
    /// ## Requirements
    /// Allows partners to uniquely identify components for tracking.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.detail.traceNumber")]
    #[fhir_serde(rename = "traceNumber")]
    pub trace_number: Option<Vec<Identifier>>,
    /// Revenue or cost center code
    /// 
    /// The type of revenue or cost center providing the product and/or service.
    /// 
    /// ## Requirements
    /// Needed in the processing of institutional claims.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: Codes for the revenue or cost centers supplying the service and/or products.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/ex-revenue-center
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.detail.revenue")]
    pub revenue: Option<CodeableConcept>,
    /// Benefit classification
    /// 
    /// Code to identify the general type of benefits under which products and
    /// services are provided.
    /// 
    /// ## Requirements
    /// Needed in the processing of institutional claims as this allows the insurer
    /// to determine whether a facial X-Ray is for dental, orthopedic, or facial
    /// surgery purposes.
    /// 
    /// ## Implementation Notes
    /// Examples include: Medical Care, Periodontics, Renal Dialysis, Vision
    /// Coverage.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: Benefit categories such as: oral, medical, vision, oral-basic etc.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/ex-benefitcategory
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.detail.category")]
    pub category: Option<CodeableConcept>,
    /// Billing, service, product, or drug code
    /// 
    /// When the value is a group code then this item collects a set of related item
    /// details, otherwise this contains the product, service, drug or other billing
    /// code for the item. This element may be the start of a range of
    /// .productOrService codes used in conjunction with .productOrServiceEnd or it
    /// may be a solo element where .productOrServiceEnd is not used.
    /// 
    /// ## Requirements
    /// Necessary to state what was provided or done.
    /// 
    /// ## Implementation Notes
    /// If this is an actual service or product line, i.e. not a Group, then use code
    /// to indicate the Professional Service or Product supplied (e.g. CTP, HCPCS,
    /// USCLS, ICD10, NCPDP, DIN, RxNorm, ACHI, CCI). If a grouping item then use a
    /// group code to indicate the type of thing being grouped e.g. 'glasses' or
    /// 'compound'.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: Allowable service and product codes.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/service-uscls
    /// 
    /// ## Aliases
    /// Drug Code, Bill Code, Service Code
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.detail.productOrService")]
    #[fhir_serde(rename = "productOrService")]
    pub product_or_service: Option<CodeableConcept>,
    /// End of a range of codes
    /// 
    /// This contains the end of a range of product, service, drug or other billing
    /// codes for the item. This element is not used when the .productOrService is a
    /// group code. This value may only be present when a .productOfService code has
    /// been provided to convey the start of the range. Typically this value may be
    /// used only with preauthorizations and not with claims.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/service-uscls
    /// 
    /// ## Aliases
    /// End of a range of Drug Code; Bill Code; Service Cod
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.detail.productOrServiceEnd")]
    #[fhir_serde(rename = "productOrServiceEnd")]
    pub product_or_service_end: Option<CodeableConcept>,
    /// Service/Product billing modifiers
    /// 
    /// Item typification or modifiers codes to convey additional context for the
    /// product or service.
    /// 
    /// ## Requirements
    /// To support inclusion of the item for adjudication or to charge an elevated
    /// fee.
    /// 
    /// ## Implementation Notes
    /// For example, in Oral whether the treatment is cosmetic or associated with
    /// TMJ, or for Medical whether the treatment was outside the clinic or out of
    /// office hours.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: Item type or modifiers codes, eg for Oral whether the treatment is cosmetic or associated with TMJ, or an appliance was lost or stolen.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/claim-modifiers
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.detail.modifier")]
    pub modifier: Option<Vec<CodeableConcept>>,
    /// Program the product or service is provided under
    /// 
    /// Identifies the program under which this may be recovered.
    /// 
    /// ## Requirements
    /// Commonly used in in the identification of publicly provided program focused
    /// on population segments or disease classifications.
    /// 
    /// ## Implementation Notes
    /// For example: Neonatal program, child dental program or drug users recovery
    /// program.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: Program specific reason codes.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/ex-program-code
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.detail.programCode")]
    #[fhir_serde(rename = "programCode")]
    pub program_code: Option<Vec<CodeableConcept>>,
    /// Paid by the patient
    /// 
    /// The amount paid by the patient, in total at the claim claim level or
    /// specifically for the item and detail level, to the provider for goods and
    /// services.
    /// 
    /// ## Requirements
    /// Necessary to demonstrate that copayments, co-insurance and similar patient
    /// payments have been made or accounted for.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.detail.patientPaid")]
    #[fhir_serde(rename = "patientPaid")]
    pub patient_paid: Option<Money>,
    /// Count of products or services
    /// 
    /// The number of repetitions of a service or product.
    /// 
    /// ## Requirements
    /// Required when the product or service code does not convey the quantity
    /// provided.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.detail.quantity")]
    pub quantity: Option<Quantity>,
    /// Fee, charge or cost per item
    /// 
    /// If the item is not a group then this is the fee for the product or service,
    /// otherwise this is the total of the fees for the details of the group.
    /// 
    /// ## Requirements
    /// The amount charged to the patient by the provider for a single unit.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.detail.unitPrice")]
    #[fhir_serde(rename = "unitPrice")]
    pub unit_price: Option<Money>,
    /// Price scaling factor
    /// 
    /// A real number that represents a multiplier used in determining the overall
    /// value of services delivered and/or goods received. The concept of a Factor
    /// allows for a discount or surcharge multiplier to be applied to a monetary
    /// amount.
    /// 
    /// ## Requirements
    /// When discounts are provided to a patient (example: Senior's discount) then
    /// this must be documented for adjudication.
    /// 
    /// ## Implementation Notes
    /// To show a 10% senior's discount, the value entered is: 0.90 (1.00 - 0.10).
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.detail.factor")]
    pub factor: Option<Decimal>,
    /// Total tax
    /// 
    /// The total of taxes applicable for this product or service.
    /// 
    /// ## Requirements
    /// Required when taxes are not embedded in the unit price or provided as a
    /// separate service.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.detail.tax")]
    pub tax: Option<Money>,
    /// Total item cost
    /// 
    /// The total amount claimed for the group (if a grouper) or the line
    /// item.detail. Net = unit price * quantity * factor.
    /// 
    /// ## Requirements
    /// Provides the total amount claimed for the group (if a grouper) or the line
    /// item.
    /// 
    /// ## Implementation Notes
    /// For example, the formula: quantity * unitPrice * factor = net. Quantity and
    /// factor are assumed to be 1 if not supplied.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.detail.net")]
    pub net: Option<Money>,
    /// Unique device identifier
    /// 
    /// Unique Device Identifiers associated with this line item.
    /// 
    /// ## Requirements
    /// The UDI code allows the insurer to obtain device level information on the
    /// product supplied.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.detail.udi")]
    pub udi: Option<Vec<Reference>>,
    /// Applicable note numbers
    /// 
    /// The numbers associated with notes below which apply to the adjudication of
    /// this item.
    /// 
    /// ## Requirements
    /// Provides a condensed manner for associating human readable descriptive
    /// explanations for adjudications on the line item.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.detail.noteNumber")]
    #[fhir_serde(rename = "noteNumber")]
    pub note_number: Option<Vec<PositiveInt>>,
    /// Detail level adjudication results
    /// 
    /// The high-level results of the adjudication if adjudication has been
    /// performed.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.detail.reviewOutcome")]
    #[fhir_serde(rename = "reviewOutcome")]
    pub review_outcome: Option<ExplanationOfBenefitItemReviewOutcome>,
    /// Detail level adjudication details
    /// 
    /// The adjudication results.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.detail.adjudication")]
    pub adjudication: Option<Vec<ExplanationOfBenefitItemAdjudication>>,
    /// Additional items
    /// 
    /// Third-tier of goods and services.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.detail.subDetail")]
    #[fhir_serde(rename = "subDetail")]
    pub sub_detail: Option<Vec<ExplanationOfBenefitItemDetailSubDetail>>,
}

/// Additional items
/// 
/// Third-tier of goods and services.
/// 
/// ## Cardinality: Optional, Multiple (0..*)
/// 
/// ## Constraints
/// - **ele-1**: All FHIR elements must have a @value or children (error)
///   Expression: `hasValue() or (children().count() > id.count())`
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath, Default, FhirValidate)]
#[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.detail.subDetail")]
pub struct ExplanationOfBenefitItemDetailSubDetail {
    /// Unique id for inter-element referencing
    /// 
    /// Unique id for the element within a resource (for internal references). This
    /// may be any string value that does not contain spaces.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Conditions
    /// Used when: ele-1
    pub id: Option<String>,
    /// Additional content defined by implementations
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element. To make the use of extensions safe and managable,
    /// there is a strict set of governance applied to the definition and use of
    /// extensions. Though any implementer can define an extension, there is a set of
    /// requirements that SHALL be met as part of the definition of the extension.
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.detail.subDetail.extension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="ExplanationOfBenefit.item.detail.subDetail.extension")]
    pub extension: Option<Vec<Extension>>,
    /// Extensions that cannot be ignored even if unrecognized
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element and that modifies the understanding of the element
    /// in which it is contained and/or the understanding of the containing element's
    /// descendants. Usually modifier elements provide negation or qualification. To
    /// make the use of extensions safe and managable, there is a strict set of
    /// governance applied to the definition and use of extensions. Though any
    /// implementer can define an extension, there is a set of requirements that
    /// SHALL be met as part of the definition of the extension. Applications
    /// processing a resource are required to check for modifier extensions.
    /// 
    /// Modifier extensions SHALL NOT change the meaning of any elements on Resource
    /// or DomainResource (including cannot change the meaning of modifierExtension
    /// itself).
    /// 
    /// ## Requirements
    /// Modifier extensions allow for extensions that *cannot* be safely ignored to
    /// be clearly distinguished from the vast majority of extensions which can be
    /// safely ignored. This promotes interoperability by eliminating the need for
    /// implementers to prohibit the presence of extensions. For further information,
    /// see the [definition of modifier
    /// extensions](extensibility.html#modifierExtension).
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Modifier element - Modifier extensions are expected to modify the meaning or interpretation of the element that contains them
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content, modifiers
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.detail.subDetail.modifierExtension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="ExplanationOfBenefit.item.detail.subDetail.modifierExtension")]
    #[fhir_serde(rename = "modifierExtension")]
    pub modifier_extension: Option<Vec<Extension>>,
    /// Product or service provided
    /// 
    /// A claim detail line. Either a simple (a product or service) or a 'group' of
    /// sub-details which are simple items.
    /// 
    /// ## Requirements
    /// The items to be processed for adjudication.
    /// 
    /// ## Cardinality: Required (1..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.detail.subDetail.sequence")]
    pub sequence: PositiveInt,
    /// Number for tracking
    /// 
    /// Trace number for tracking purposes. May be defined at the jurisdiction level
    /// or between trading partners.
    /// 
    /// ## Requirements
    /// Allows partners to uniquely identify components for tracking.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.detail.subDetail.traceNumber")]
    #[fhir_serde(rename = "traceNumber")]
    pub trace_number: Option<Vec<Identifier>>,
    /// Revenue or cost center code
    /// 
    /// The type of revenue or cost center providing the product and/or service.
    /// 
    /// ## Requirements
    /// Needed in the processing of institutional claims.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: Codes for the revenue or cost centers supplying the service and/or products.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/ex-revenue-center
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.detail.subDetail.revenue")]
    pub revenue: Option<CodeableConcept>,
    /// Benefit classification
    /// 
    /// Code to identify the general type of benefits under which products and
    /// services are provided.
    /// 
    /// ## Requirements
    /// Needed in the processing of institutional claims as this allows the insurer
    /// to determine whether a facial X-Ray is for dental, orthopedic, or facial
    /// surgery purposes.
    /// 
    /// ## Implementation Notes
    /// Examples include Medical Care, Periodontics, Renal Dialysis, Vision Coverage.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: Benefit categories such as: oral, medical, vision, oral-basic etc.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/ex-benefitcategory
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.detail.subDetail.category")]
    pub category: Option<CodeableConcept>,
    /// Billing, service, product, or drug code
    /// 
    /// When the value is a group code then this item collects a set of related item
    /// details, otherwise this contains the product, service, drug or other billing
    /// code for the item. This element may be the start of a range of
    /// .productOrService codes used in conjunction with .productOrServiceEnd or it
    /// may be a solo element where .productOrServiceEnd is not used.
    /// 
    /// ## Requirements
    /// Necessary to state what was provided or done.
    /// 
    /// ## Implementation Notes
    /// If this is an actual service or product line, i.e. not a Group, then use code
    /// to indicate the Professional Service or Product supplied (e.g. CTP, HCPCS,
    /// USCLS, ICD10, NCPDP, DIN, RxNorm, ACHI, CCI). If a grouping item then use a
    /// group code to indicate the type of thing being grouped e.g. 'glasses' or
    /// 'compound'.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: Allowable service and product codes.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/service-uscls
    /// 
    /// ## Aliases
    /// Drug Code, Bill Code, Service Code
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.detail.subDetail.productOrService")]
    #[fhir_serde(rename = "productOrService")]
    pub product_or_service: Option<CodeableConcept>,
    /// End of a range of codes
    /// 
    /// This contains the end of a range of product, service, drug or other billing
    /// codes for the item. This element is not used when the .productOrService is a
    /// group code. This value may only be present when a .productOfService code has
    /// been provided to convey the start of the range. Typically this value may be
    /// used only with preauthorizations and not with claims.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/service-uscls
    /// 
    /// ## Aliases
    /// End of a range of Drug Code; Bill Code; Service Cod
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.detail.subDetail.productOrServiceEnd")]
    #[fhir_serde(rename = "productOrServiceEnd")]
    pub product_or_service_end: Option<CodeableConcept>,
    /// Service/Product billing modifiers
    /// 
    /// Item typification or modifiers codes to convey additional context for the
    /// product or service.
    /// 
    /// ## Requirements
    /// To support inclusion of the item for adjudication or to charge an elevated
    /// fee.
    /// 
    /// ## Implementation Notes
    /// For example, in Oral whether the treatment is cosmetic or associated with
    /// TMJ, or for Medical whether the treatment was outside the clinic or outside
    /// of office hours.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: Item type or modifiers codes, eg for Oral whether the treatment is cosmetic or associated with TMJ, or an appliance was lost or stolen.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/claim-modifiers
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.detail.subDetail.modifier")]
    pub modifier: Option<Vec<CodeableConcept>>,
    /// Program the product or service is provided under
    /// 
    /// Identifies the program under which this may be recovered.
    /// 
    /// ## Requirements
    /// Commonly used in in the identification of publicly provided program focused
    /// on population segments or disease classifications.
    /// 
    /// ## Implementation Notes
    /// For example: Neonatal program, child dental program or drug users recovery
    /// program.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: Program specific reason codes.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/ex-program-code
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.detail.subDetail.programCode")]
    #[fhir_serde(rename = "programCode")]
    pub program_code: Option<Vec<CodeableConcept>>,
    /// Paid by the patient
    /// 
    /// The amount paid by the patient, in total at the claim claim level or
    /// specifically for the item and detail level, to the provider for goods and
    /// services.
    /// 
    /// ## Requirements
    /// Necessary to demonstrate that copayments, co-insurance and similar patient
    /// payments have been made or accounted for.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.detail.subDetail.patientPaid")]
    #[fhir_serde(rename = "patientPaid")]
    pub patient_paid: Option<Money>,
    /// Count of products or services
    /// 
    /// The number of repetitions of a service or product.
    /// 
    /// ## Requirements
    /// Required when the product or service code does not convey the quantity
    /// provided.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.detail.subDetail.quantity")]
    pub quantity: Option<Quantity>,
    /// Fee, charge or cost per item
    /// 
    /// If the item is not a group then this is the fee for the product or service,
    /// otherwise this is the total of the fees for the details of the group.
    /// 
    /// ## Requirements
    /// The amount charged to the patient by the provider for a single unit.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.detail.subDetail.unitPrice")]
    #[fhir_serde(rename = "unitPrice")]
    pub unit_price: Option<Money>,
    /// Price scaling factor
    /// 
    /// A real number that represents a multiplier used in determining the overall
    /// value of services delivered and/or goods received. The concept of a Factor
    /// allows for a discount or surcharge multiplier to be applied to a monetary
    /// amount.
    /// 
    /// ## Requirements
    /// When discounts are provided to a patient (example: Senior's discount) then
    /// this must be documented for adjudication.
    /// 
    /// ## Implementation Notes
    /// To show a 10% senior's discount, the value entered is: 0.90 (1.00 - 0.10).
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.detail.subDetail.factor")]
    pub factor: Option<Decimal>,
    /// Total tax
    /// 
    /// The total of taxes applicable for this product or service.
    /// 
    /// ## Requirements
    /// Required when taxes are not embedded in the unit price or provided as a
    /// separate service.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.detail.subDetail.tax")]
    pub tax: Option<Money>,
    /// Total item cost
    /// 
    /// The total amount claimed for the line item.detail.subDetail. Net = unit price
    /// * quantity * factor.
    /// 
    /// ## Requirements
    /// Provides the total amount claimed for the group (if a grouper) or the line
    /// item.
    /// 
    /// ## Implementation Notes
    /// For example, the formula: quantity * unitPrice * factor = net. Quantity and
    /// factor are assumed to be 1 if not supplied.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.detail.subDetail.net")]
    pub net: Option<Money>,
    /// Unique device identifier
    /// 
    /// Unique Device Identifiers associated with this line item.
    /// 
    /// ## Requirements
    /// The UDI code allows the insurer to obtain device level information on the
    /// product supplied.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.detail.subDetail.udi")]
    pub udi: Option<Vec<Reference>>,
    /// Applicable note numbers
    /// 
    /// The numbers associated with notes below which apply to the adjudication of
    /// this item.
    /// 
    /// ## Requirements
    /// Provides a condensed manner for associating human readable descriptive
    /// explanations for adjudications on the line item.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.detail.subDetail.noteNumber")]
    #[fhir_serde(rename = "noteNumber")]
    pub note_number: Option<Vec<PositiveInt>>,
    /// Subdetail level adjudication results
    /// 
    /// The high-level results of the adjudication if adjudication has been
    /// performed.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.detail.subDetail.reviewOutcome")]
    #[fhir_serde(rename = "reviewOutcome")]
    pub review_outcome: Option<ExplanationOfBenefitItemReviewOutcome>,
    /// Subdetail level adjudication details
    /// 
    /// The adjudication results.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.detail.subDetail.adjudication")]
    pub adjudication: Option<Vec<ExplanationOfBenefitItemAdjudication>>,
}

/// Adjudication results
/// 
/// The high-level results of the adjudication if adjudication has been
/// performed.
/// 
/// ## Cardinality: Optional (0..1)
/// 
/// ## Constraints
/// - **ele-1**: All FHIR elements must have a @value or children (error)
///   Expression: `hasValue() or (children().count() > id.count())`
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath, Default, FhirValidate)]
#[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.reviewOutcome")]
pub struct ExplanationOfBenefitItemReviewOutcome {
    /// Unique id for inter-element referencing
    /// 
    /// Unique id for the element within a resource (for internal references). This
    /// may be any string value that does not contain spaces.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Conditions
    /// Used when: ele-1
    pub id: Option<String>,
    /// Additional content defined by implementations
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element. To make the use of extensions safe and managable,
    /// there is a strict set of governance applied to the definition and use of
    /// extensions. Though any implementer can define an extension, there is a set of
    /// requirements that SHALL be met as part of the definition of the extension.
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.reviewOutcome.extension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="ExplanationOfBenefit.item.reviewOutcome.extension")]
    pub extension: Option<Vec<Extension>>,
    /// Extensions that cannot be ignored even if unrecognized
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element and that modifies the understanding of the element
    /// in which it is contained and/or the understanding of the containing element's
    /// descendants. Usually modifier elements provide negation or qualification. To
    /// make the use of extensions safe and managable, there is a strict set of
    /// governance applied to the definition and use of extensions. Though any
    /// implementer can define an extension, there is a set of requirements that
    /// SHALL be met as part of the definition of the extension. Applications
    /// processing a resource are required to check for modifier extensions.
    /// 
    /// Modifier extensions SHALL NOT change the meaning of any elements on Resource
    /// or DomainResource (including cannot change the meaning of modifierExtension
    /// itself).
    /// 
    /// ## Requirements
    /// Modifier extensions allow for extensions that *cannot* be safely ignored to
    /// be clearly distinguished from the vast majority of extensions which can be
    /// safely ignored. This promotes interoperability by eliminating the need for
    /// implementers to prohibit the presence of extensions. For further information,
    /// see the [definition of modifier
    /// extensions](extensibility.html#modifierExtension).
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Modifier element - Modifier extensions are expected to modify the meaning or interpretation of the element that contains them
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content, modifiers
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.reviewOutcome.modifierExtension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="ExplanationOfBenefit.item.reviewOutcome.modifierExtension")]
    #[fhir_serde(rename = "modifierExtension")]
    pub modifier_extension: Option<Vec<Extension>>,
    /// Result of the adjudication
    /// 
    /// The result of the claim, predetermination, or preauthorization adjudication.
    /// 
    /// ## Requirements
    /// To advise the requestor of the result of the adjudication process.
    /// 
    /// ## Implementation Notes
    /// The element is used to indicate the current state of the adjudication overall
    /// for the claim resource, for example: the request has been held (pended) for
    /// adjudication processing, for manual review or other reasons; that it has been
    /// processed and will be paid, or the outstanding paid, as submitted (approved);
    /// that no amount will be paid (denied); or that some amount between zero and
    /// the submitted amount will be paid (partial).
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/claim-decision
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.reviewOutcome.decision")]
    pub decision: Option<CodeableConcept>,
    /// Reason for result of the adjudication
    /// 
    /// The reasons for the result of the claim, predetermination, or
    /// preauthorization adjudication.
    /// 
    /// ## Requirements
    /// To advise the requestor of the contributors to the result of the adjudication
    /// process.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/claim-decision-reason
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.reviewOutcome.reason")]
    pub reason: Option<Vec<CodeableConcept>>,
    /// Preauthorization reference
    /// 
    /// Reference from the Insurer which is used in later communications which refers
    /// to this adjudication.
    /// 
    /// ## Requirements
    /// On subsequent claims, the insurer may require the provider to quote this
    /// value.
    /// 
    /// ## Implementation Notes
    /// This value is only present on preauthorization adjudications.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.reviewOutcome.preAuthRef")]
    #[fhir_serde(rename = "preAuthRef")]
    pub pre_auth_ref: Option<String>,
    /// Preauthorization reference effective period
    /// 
    /// The time frame during which this authorization is effective.
    /// 
    /// ## Requirements
    /// To convey to the provider when the authorized products and services must be
    /// supplied for the authorized adjudication to apply.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.item.reviewOutcome.preAuthPeriod")]
    #[fhir_serde(rename = "preAuthPeriod")]
    pub pre_auth_period: Option<Period>,
}

/// Recipient of benefits payable
/// 
/// The party to be reimbursed for cost of the products and services according to
/// the terms of the policy.
/// 
/// ## Requirements
/// The provider needs to specify who they wish to be reimbursed and the claims
/// processor needs express who they will reimburse.
/// 
/// ## Implementation Notes
/// Often providers agree to receive the benefits payable to reduce the near-term
/// costs to the patient. The insurer may decline to pay the provider and may
/// choose to pay the subscriber instead.
/// 
/// ## Cardinality: Optional (0..1)
/// 
/// ## Constraints
/// - **ele-1**: All FHIR elements must have a @value or children (error)
///   Expression: `hasValue() or (children().count() > id.count())`
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath, Default, FhirValidate)]
#[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.payee")]
pub struct ExplanationOfBenefitPayee {
    /// Unique id for inter-element referencing
    /// 
    /// Unique id for the element within a resource (for internal references). This
    /// may be any string value that does not contain spaces.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Conditions
    /// Used when: ele-1
    pub id: Option<String>,
    /// Additional content defined by implementations
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element. To make the use of extensions safe and managable,
    /// there is a strict set of governance applied to the definition and use of
    /// extensions. Though any implementer can define an extension, there is a set of
    /// requirements that SHALL be met as part of the definition of the extension.
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.payee.extension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="ExplanationOfBenefit.payee.extension")]
    pub extension: Option<Vec<Extension>>,
    /// Extensions that cannot be ignored even if unrecognized
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element and that modifies the understanding of the element
    /// in which it is contained and/or the understanding of the containing element's
    /// descendants. Usually modifier elements provide negation or qualification. To
    /// make the use of extensions safe and managable, there is a strict set of
    /// governance applied to the definition and use of extensions. Though any
    /// implementer can define an extension, there is a set of requirements that
    /// SHALL be met as part of the definition of the extension. Applications
    /// processing a resource are required to check for modifier extensions.
    /// 
    /// Modifier extensions SHALL NOT change the meaning of any elements on Resource
    /// or DomainResource (including cannot change the meaning of modifierExtension
    /// itself).
    /// 
    /// ## Requirements
    /// Modifier extensions allow for extensions that *cannot* be safely ignored to
    /// be clearly distinguished from the vast majority of extensions which can be
    /// safely ignored. This promotes interoperability by eliminating the need for
    /// implementers to prohibit the presence of extensions. For further information,
    /// see the [definition of modifier
    /// extensions](extensibility.html#modifierExtension).
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Modifier element - Modifier extensions are expected to modify the meaning or interpretation of the element that contains them
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content, modifiers
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.payee.modifierExtension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="ExplanationOfBenefit.payee.modifierExtension")]
    #[fhir_serde(rename = "modifierExtension")]
    pub modifier_extension: Option<Vec<Extension>>,
    /// Category of recipient
    /// 
    /// Type of Party to be reimbursed: Subscriber, provider, other.
    /// 
    /// ## Requirements
    /// Need to know who should receive payment with the most common situations being
    /// the Provider (assignment of benefits) or the Subscriber.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: A code for the party to be reimbursed.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/payeetype
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.payee.type")]
    #[fhir_serde(rename = "type")]
    pub r#type: Option<CodeableConcept>,
    /// Recipient reference
    /// 
    /// Reference to the individual or organization to whom any payment will be made.
    /// 
    /// ## Requirements
    /// Need to provide demographics if the payee is not 'subscriber' nor 'provider'.
    /// 
    /// ## Implementation Notes
    /// Not required if the payee is 'subscriber' or 'provider'.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.payee.party")]
    pub party: Option<Reference>,
}

/// Payment Details
/// 
/// Payment details for the adjudication of the claim.
/// 
/// ## Requirements
/// Needed to convey references to the financial instrument that has been used if
/// payment has been made.
/// 
/// ## Cardinality: Optional (0..1)
/// 
/// ## Constraints
/// - **ele-1**: All FHIR elements must have a @value or children (error)
///   Expression: `hasValue() or (children().count() > id.count())`
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath, Default, FhirValidate)]
#[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.payment")]
pub struct ExplanationOfBenefitPayment {
    /// Unique id for inter-element referencing
    /// 
    /// Unique id for the element within a resource (for internal references). This
    /// may be any string value that does not contain spaces.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Conditions
    /// Used when: ele-1
    pub id: Option<String>,
    /// Additional content defined by implementations
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element. To make the use of extensions safe and managable,
    /// there is a strict set of governance applied to the definition and use of
    /// extensions. Though any implementer can define an extension, there is a set of
    /// requirements that SHALL be met as part of the definition of the extension.
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.payment.extension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="ExplanationOfBenefit.payment.extension")]
    pub extension: Option<Vec<Extension>>,
    /// Extensions that cannot be ignored even if unrecognized
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element and that modifies the understanding of the element
    /// in which it is contained and/or the understanding of the containing element's
    /// descendants. Usually modifier elements provide negation or qualification. To
    /// make the use of extensions safe and managable, there is a strict set of
    /// governance applied to the definition and use of extensions. Though any
    /// implementer can define an extension, there is a set of requirements that
    /// SHALL be met as part of the definition of the extension. Applications
    /// processing a resource are required to check for modifier extensions.
    /// 
    /// Modifier extensions SHALL NOT change the meaning of any elements on Resource
    /// or DomainResource (including cannot change the meaning of modifierExtension
    /// itself).
    /// 
    /// ## Requirements
    /// Modifier extensions allow for extensions that *cannot* be safely ignored to
    /// be clearly distinguished from the vast majority of extensions which can be
    /// safely ignored. This promotes interoperability by eliminating the need for
    /// implementers to prohibit the presence of extensions. For further information,
    /// see the [definition of modifier
    /// extensions](extensibility.html#modifierExtension).
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Modifier element - Modifier extensions are expected to modify the meaning or interpretation of the element that contains them
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content, modifiers
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.payment.modifierExtension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="ExplanationOfBenefit.payment.modifierExtension")]
    #[fhir_serde(rename = "modifierExtension")]
    pub modifier_extension: Option<Vec<Extension>>,
    /// Partial or complete payment
    /// 
    /// Whether this represents partial or complete payment of the benefits payable.
    /// 
    /// ## Requirements
    /// To advise the requestor when the insurer believes all payments to have been
    /// completed.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: The type (partial, complete) of the payment.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/ex-paymenttype
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.payment.type")]
    #[fhir_serde(rename = "type")]
    pub r#type: Option<CodeableConcept>,
    /// Payment adjustment for non-claim issues
    /// 
    /// Total amount of all adjustments to this payment included in this transaction
    /// which are not related to this claim's adjudication.
    /// 
    /// ## Requirements
    /// To advise the requestor of adjustments applied to the payment.
    /// 
    /// ## Implementation Notes
    /// Insurers will deduct amounts owing from the provider (adjustment), such as a
    /// prior overpayment, from the amount owing to the provider (benefits payable)
    /// when payment is made to the provider.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.payment.adjustment")]
    pub adjustment: Option<Money>,
    /// Explanation for the variance
    /// 
    /// Reason for the payment adjustment.
    /// 
    /// ## Requirements
    /// Needed to clarify the monetary adjustment.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: Payment Adjustment reason codes.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/payment-adjustment-reason
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.payment.adjustmentReason")]
    #[fhir_serde(rename = "adjustmentReason")]
    pub adjustment_reason: Option<CodeableConcept>,
    /// Expected date of payment
    /// 
    /// Estimated date the payment will be issued or the actual issue date of
    /// payment.
    /// 
    /// ## Requirements
    /// To advise the payee when payment can be expected.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.payment.date")]
    pub date: Option<Date>,
    /// Payable amount after adjustment
    /// 
    /// Benefits payable less any payment adjustment.
    /// 
    /// ## Requirements
    /// Needed to provide the actual payment amount.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.payment.amount")]
    pub amount: Option<Money>,
    /// Business identifier for the payment
    /// 
    /// Issuer's unique identifier for the payment instrument.
    /// 
    /// ## Requirements
    /// Enable the receiver to reconcile when payment received.
    /// 
    /// ## Implementation Notes
    /// For example: EFT number or check number.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.payment.identifier")]
    pub identifier: Option<Identifier>,
}

/// Choice of types for the procedure\[x\] field in ExplanationOfBenefitProcedure
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath)]
#[fhir_choice_element(base_name = "procedure")]
pub enum ExplanationOfBenefitProcedureProcedure {
    /// Variant accepting the CodeableConcept type.
    #[fhir_serde(rename = "procedureCodeableConcept")]
    CodeableConcept(CodeableConcept),
    /// Variant accepting the Reference type.
    #[fhir_serde(rename = "procedureReference")]
    Reference(Reference),
}

/// Clinical procedures performed
/// 
/// Procedures performed on the patient relevant to the billing items with the
/// claim.
/// 
/// ## Requirements
/// The specific clinical invention are sometimes required to be provided to
/// justify billing a greater than customary amount for a service.
/// 
/// ## Cardinality: Optional, Multiple (0..*)
/// 
/// ## Constraints
/// - **ele-1**: All FHIR elements must have a @value or children (error)
///   Expression: `hasValue() or (children().count() > id.count())`
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath, Default, FhirValidate)]
#[fhir_resource(choice_elements = "procedure")]
#[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.procedure")]
pub struct ExplanationOfBenefitProcedure {
    /// Unique id for inter-element referencing
    /// 
    /// Unique id for the element within a resource (for internal references). This
    /// may be any string value that does not contain spaces.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Conditions
    /// Used when: ele-1
    pub id: Option<String>,
    /// Additional content defined by implementations
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element. To make the use of extensions safe and managable,
    /// there is a strict set of governance applied to the definition and use of
    /// extensions. Though any implementer can define an extension, there is a set of
    /// requirements that SHALL be met as part of the definition of the extension.
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.procedure.extension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="ExplanationOfBenefit.procedure.extension")]
    pub extension: Option<Vec<Extension>>,
    /// Extensions that cannot be ignored even if unrecognized
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element and that modifies the understanding of the element
    /// in which it is contained and/or the understanding of the containing element's
    /// descendants. Usually modifier elements provide negation or qualification. To
    /// make the use of extensions safe and managable, there is a strict set of
    /// governance applied to the definition and use of extensions. Though any
    /// implementer can define an extension, there is a set of requirements that
    /// SHALL be met as part of the definition of the extension. Applications
    /// processing a resource are required to check for modifier extensions.
    /// 
    /// Modifier extensions SHALL NOT change the meaning of any elements on Resource
    /// or DomainResource (including cannot change the meaning of modifierExtension
    /// itself).
    /// 
    /// ## Requirements
    /// Modifier extensions allow for extensions that *cannot* be safely ignored to
    /// be clearly distinguished from the vast majority of extensions which can be
    /// safely ignored. This promotes interoperability by eliminating the need for
    /// implementers to prohibit the presence of extensions. For further information,
    /// see the [definition of modifier
    /// extensions](extensibility.html#modifierExtension).
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Modifier element - Modifier extensions are expected to modify the meaning or interpretation of the element that contains them
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content, modifiers
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.procedure.modifierExtension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="ExplanationOfBenefit.procedure.modifierExtension")]
    #[fhir_serde(rename = "modifierExtension")]
    pub modifier_extension: Option<Vec<Extension>>,
    /// Procedure instance identifier
    /// 
    /// A number to uniquely identify procedure entries.
    /// 
    /// ## Requirements
    /// Necessary to provide a mechanism to link to claim details.
    /// 
    /// ## Cardinality: Required (1..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.procedure.sequence")]
    pub sequence: PositiveInt,
    /// Category of Procedure
    /// 
    /// When the condition was observed or the relative ranking.
    /// 
    /// ## Requirements
    /// Often required to capture a particular diagnosis, for example: primary or
    /// discharge.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: Example procedure type codes.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/ex-procedure-type
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.procedure.type")]
    #[fhir_serde(rename = "type")]
    pub r#type: Option<Vec<CodeableConcept>>,
    /// When the procedure was performed
    /// 
    /// Date and optionally time the procedure was performed.
    /// 
    /// ## Requirements
    /// Required for auditing purposes.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.procedure.date")]
    pub date: Option<DateTime>,
    /// Specific clinical procedure
    /// 
    /// The code or reference to a Procedure resource which identifies the clinical
    /// intervention performed.
    /// 
    /// ## Requirements
    /// This identifies the actual clinical procedure.
    /// 
    /// ## Cardinality: Required (1..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: ICD10 Procedure codes.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/icd-10-procedures
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.procedure.procedure[x]")]
    #[fhir_serde(flatten)]
    pub procedure: Option<ExplanationOfBenefitProcedureProcedure>,
    /// Unique device identifier
    /// 
    /// Unique Device Identifiers associated with this line item.
    /// 
    /// ## Requirements
    /// The UDI code allows the insurer to obtain device level information on the
    /// product supplied.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.procedure.udi")]
    pub udi: Option<Vec<Reference>>,
}

/// Note concerning adjudication
/// 
/// A note that describes or explains adjudication results in a human readable
/// form.
/// 
/// ## Requirements
/// Provides the insurer specific textual explanations associated with the
/// processing.
/// 
/// ## Cardinality: Optional, Multiple (0..*)
/// 
/// ## Constraints
/// - **ele-1**: All FHIR elements must have a @value or children (error)
///   Expression: `hasValue() or (children().count() > id.count())`
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath, Default, FhirValidate)]
#[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.processNote")]
pub struct ExplanationOfBenefitProcessNote {
    /// Unique id for inter-element referencing
    /// 
    /// Unique id for the element within a resource (for internal references). This
    /// may be any string value that does not contain spaces.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Conditions
    /// Used when: ele-1
    pub id: Option<String>,
    /// Additional content defined by implementations
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element. To make the use of extensions safe and managable,
    /// there is a strict set of governance applied to the definition and use of
    /// extensions. Though any implementer can define an extension, there is a set of
    /// requirements that SHALL be met as part of the definition of the extension.
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.processNote.extension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="ExplanationOfBenefit.processNote.extension")]
    pub extension: Option<Vec<Extension>>,
    /// Extensions that cannot be ignored even if unrecognized
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element and that modifies the understanding of the element
    /// in which it is contained and/or the understanding of the containing element's
    /// descendants. Usually modifier elements provide negation or qualification. To
    /// make the use of extensions safe and managable, there is a strict set of
    /// governance applied to the definition and use of extensions. Though any
    /// implementer can define an extension, there is a set of requirements that
    /// SHALL be met as part of the definition of the extension. Applications
    /// processing a resource are required to check for modifier extensions.
    /// 
    /// Modifier extensions SHALL NOT change the meaning of any elements on Resource
    /// or DomainResource (including cannot change the meaning of modifierExtension
    /// itself).
    /// 
    /// ## Requirements
    /// Modifier extensions allow for extensions that *cannot* be safely ignored to
    /// be clearly distinguished from the vast majority of extensions which can be
    /// safely ignored. This promotes interoperability by eliminating the need for
    /// implementers to prohibit the presence of extensions. For further information,
    /// see the [definition of modifier
    /// extensions](extensibility.html#modifierExtension).
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Modifier element - Modifier extensions are expected to modify the meaning or interpretation of the element that contains them
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content, modifiers
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.processNote.modifierExtension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="ExplanationOfBenefit.processNote.modifierExtension")]
    #[fhir_serde(rename = "modifierExtension")]
    pub modifier_extension: Option<Vec<Extension>>,
    /// Note instance identifier
    /// 
    /// A number to uniquely identify a note entry.
    /// 
    /// ## Requirements
    /// Necessary to provide a mechanism to link from adjudications.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.processNote.number")]
    pub number: Option<PositiveInt>,
    /// Note purpose
    /// 
    /// The business purpose of the note text.
    /// 
    /// ## Requirements
    /// To convey the expectation for when the text is used.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: extensible
    /// - **Description**: The presentation types of notes.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/note-type
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.processNote.type")]
    #[fhir_serde(rename = "type")]
    pub r#type: Option<CodeableConcept>,
    /// Note explanatory text
    /// 
    /// The explanation or description associated with the processing.
    /// 
    /// ## Requirements
    /// Required to provide human readable explanation.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.processNote.text")]
    pub text: Option<String>,
    /// Language of the text
    /// 
    /// A code to define the language used in the text of the note.
    /// 
    /// ## Requirements
    /// Note text may vary from the resource defined language.
    /// 
    /// ## Implementation Notes
    /// Only required if the language is different from the resource language.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: required
    /// - **Description**: IETF language tag for a human language
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/all-languages|5.0.0
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.processNote.language")]
    pub language: Option<CodeableConcept>,
}

/// Prior or corollary claims
/// 
/// Other claims which are related to this claim such as prior submissions or
/// claims for related services or for the same event.
/// 
/// ## Requirements
/// For workplace or other accidents it is common to relate separate claims
/// arising from the same event.
/// 
/// ## Implementation Notes
/// For example,  for the original treatment and follow-up exams.
/// 
/// ## Cardinality: Optional, Multiple (0..*)
/// 
/// ## Constraints
/// - **ele-1**: All FHIR elements must have a @value or children (error)
///   Expression: `hasValue() or (children().count() > id.count())`
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath, Default, FhirValidate)]
#[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.related")]
pub struct ExplanationOfBenefitRelated {
    /// Unique id for inter-element referencing
    /// 
    /// Unique id for the element within a resource (for internal references). This
    /// may be any string value that does not contain spaces.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Conditions
    /// Used when: ele-1
    pub id: Option<String>,
    /// Additional content defined by implementations
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element. To make the use of extensions safe and managable,
    /// there is a strict set of governance applied to the definition and use of
    /// extensions. Though any implementer can define an extension, there is a set of
    /// requirements that SHALL be met as part of the definition of the extension.
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.related.extension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="ExplanationOfBenefit.related.extension")]
    pub extension: Option<Vec<Extension>>,
    /// Extensions that cannot be ignored even if unrecognized
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element and that modifies the understanding of the element
    /// in which it is contained and/or the understanding of the containing element's
    /// descendants. Usually modifier elements provide negation or qualification. To
    /// make the use of extensions safe and managable, there is a strict set of
    /// governance applied to the definition and use of extensions. Though any
    /// implementer can define an extension, there is a set of requirements that
    /// SHALL be met as part of the definition of the extension. Applications
    /// processing a resource are required to check for modifier extensions.
    /// 
    /// Modifier extensions SHALL NOT change the meaning of any elements on Resource
    /// or DomainResource (including cannot change the meaning of modifierExtension
    /// itself).
    /// 
    /// ## Requirements
    /// Modifier extensions allow for extensions that *cannot* be safely ignored to
    /// be clearly distinguished from the vast majority of extensions which can be
    /// safely ignored. This promotes interoperability by eliminating the need for
    /// implementers to prohibit the presence of extensions. For further information,
    /// see the [definition of modifier
    /// extensions](extensibility.html#modifierExtension).
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Modifier element - Modifier extensions are expected to modify the meaning or interpretation of the element that contains them
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content, modifiers
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.related.modifierExtension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="ExplanationOfBenefit.related.modifierExtension")]
    #[fhir_serde(rename = "modifierExtension")]
    pub modifier_extension: Option<Vec<Extension>>,
    /// Reference to the related claim
    /// 
    /// Reference to a related claim.
    /// 
    /// ## Requirements
    /// For workplace or other accidents it is common to relate separate claims
    /// arising from the same event.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.related.claim")]
    pub claim: Option<Reference>,
    /// How the reference claim is related
    /// 
    /// A code to convey how the claims are related.
    /// 
    /// ## Requirements
    /// Some insurers need a declaration of the type of relationship.
    /// 
    /// ## Implementation Notes
    /// For example, prior claim or umbrella.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: Relationship of this claim to a related Claim.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/related-claim-relationship
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.related.relationship")]
    pub relationship: Option<CodeableConcept>,
    /// File or case reference
    /// 
    /// An alternate organizational reference to the case or file to which this
    /// particular claim pertains.
    /// 
    /// ## Requirements
    /// In cases where an event-triggered claim is being submitted to an insurer
    /// which requires a reference number to be specified on all exchanges.
    /// 
    /// ## Implementation Notes
    /// For example, Property/Casualty insurer claim number or Workers Compensation
    /// case number.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.related.reference")]
    pub reference: Option<Identifier>,
}

/// Choice of types for the timing\[x\] field in ExplanationOfBenefitSupportingInfo
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath)]
#[fhir_choice_element(base_name = "timing")]
pub enum ExplanationOfBenefitSupportingInfoTiming {
    /// Variant accepting the Date type.
    #[fhir_serde(rename = "timingDate")]
    Date(Date),
    /// Variant accepting the Period type.
    #[fhir_serde(rename = "timingPeriod")]
    Period(Period),
}

/// Choice of types for the value\[x\] field in ExplanationOfBenefitSupportingInfo
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath)]
#[fhir_choice_element(base_name = "value")]
pub enum ExplanationOfBenefitSupportingInfoValue {
    /// Variant accepting the Boolean type.
    #[fhir_serde(rename = "valueBoolean")]
    Boolean(Boolean),
    /// Variant accepting the String type.
    #[fhir_serde(rename = "valueString")]
    String(String),
    /// Variant accepting the Quantity type.
    #[fhir_serde(rename = "valueQuantity")]
    Quantity(Quantity),
    /// Variant accepting the Attachment type.
    #[fhir_serde(rename = "valueAttachment")]
    Attachment(Attachment),
    /// Variant accepting the Reference type.
    #[fhir_serde(rename = "valueReference")]
    Reference(Reference),
    /// Variant accepting the Identifier type.
    #[fhir_serde(rename = "valueIdentifier")]
    Identifier(Identifier),
}

/// Supporting information
/// 
/// Additional information codes regarding exceptions, special considerations,
/// the condition, situation, prior or concurrent issues.
/// 
/// ## Requirements
/// Typically these information codes are required to support the services
/// rendered or the adjudication of the services rendered.
/// 
/// ## Implementation Notes
/// Often there are multiple jurisdiction specific valuesets which are required.
/// 
/// ## Cardinality: Optional, Multiple (0..*)
/// 
/// ## Constraints
/// - **ele-1**: All FHIR elements must have a @value or children (error)
///   Expression: `hasValue() or (children().count() > id.count())`
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath, Default, FhirValidate)]
#[fhir_resource(choice_elements = "timing,value")]
#[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.supportingInfo")]
pub struct ExplanationOfBenefitSupportingInfo {
    /// Unique id for inter-element referencing
    /// 
    /// Unique id for the element within a resource (for internal references). This
    /// may be any string value that does not contain spaces.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Conditions
    /// Used when: ele-1
    pub id: Option<String>,
    /// Additional content defined by implementations
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element. To make the use of extensions safe and managable,
    /// there is a strict set of governance applied to the definition and use of
    /// extensions. Though any implementer can define an extension, there is a set of
    /// requirements that SHALL be met as part of the definition of the extension.
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.supportingInfo.extension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="ExplanationOfBenefit.supportingInfo.extension")]
    pub extension: Option<Vec<Extension>>,
    /// Extensions that cannot be ignored even if unrecognized
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element and that modifies the understanding of the element
    /// in which it is contained and/or the understanding of the containing element's
    /// descendants. Usually modifier elements provide negation or qualification. To
    /// make the use of extensions safe and managable, there is a strict set of
    /// governance applied to the definition and use of extensions. Though any
    /// implementer can define an extension, there is a set of requirements that
    /// SHALL be met as part of the definition of the extension. Applications
    /// processing a resource are required to check for modifier extensions.
    /// 
    /// Modifier extensions SHALL NOT change the meaning of any elements on Resource
    /// or DomainResource (including cannot change the meaning of modifierExtension
    /// itself).
    /// 
    /// ## Requirements
    /// Modifier extensions allow for extensions that *cannot* be safely ignored to
    /// be clearly distinguished from the vast majority of extensions which can be
    /// safely ignored. This promotes interoperability by eliminating the need for
    /// implementers to prohibit the presence of extensions. For further information,
    /// see the [definition of modifier
    /// extensions](extensibility.html#modifierExtension).
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Modifier element - Modifier extensions are expected to modify the meaning or interpretation of the element that contains them
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content, modifiers
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.supportingInfo.modifierExtension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="ExplanationOfBenefit.supportingInfo.modifierExtension")]
    #[fhir_serde(rename = "modifierExtension")]
    pub modifier_extension: Option<Vec<Extension>>,
    /// Information instance identifier
    /// 
    /// A number to uniquely identify supporting information entries.
    /// 
    /// ## Requirements
    /// Necessary to maintain the order of the supporting information items and
    /// provide a mechanism to link to claim details.
    /// 
    /// ## Cardinality: Required (1..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.supportingInfo.sequence")]
    pub sequence: PositiveInt,
    /// Classification of the supplied information
    /// 
    /// The general class of the information supplied: information; exception;
    /// accident, employment; onset, etc.
    /// 
    /// ## Requirements
    /// Required to group or associate information items with common characteristics.
    /// For example: admission information or prior treatments.
    /// 
    /// ## Implementation Notes
    /// This may contain a category for the local bill type codes.
    /// 
    /// ## Cardinality: Required (1..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: The valuset used for additional information category codes.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/claim-informationcategory
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.supportingInfo.category")]
    pub category: CodeableConcept,
    /// Type of information
    /// 
    /// System and code pertaining to the specific information regarding special
    /// conditions relating to the setting, treatment or patient for which care is
    /// sought.
    /// 
    /// ## Requirements
    /// Required to identify the kind of additional information.
    /// 
    /// ## Implementation Notes
    /// This may contain the local bill type codes such as the US UB-04 bill type
    /// code.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: The valuset used for additional information codes.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/claim-exception
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.supportingInfo.code")]
    pub code: Option<CodeableConcept>,
    /// When it occurred
    /// 
    /// The date when or period to which this information refers.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.supportingInfo.timing[x]")]
    #[fhir_serde(flatten)]
    pub timing: Option<ExplanationOfBenefitSupportingInfoTiming>,
    /// Data to be provided
    /// 
    /// Additional data or information such as resources, documents, images etc.
    /// including references to the data or the actual inclusion of the data.
    /// 
    /// ## Requirements
    /// To convey the data content to be provided when the information is more than a
    /// simple code or period.
    /// 
    /// ## Implementation Notes
    /// Could be used to provide references to other resources, document. For
    /// example, could contain a PDF in an Attachment of the Police Report for an
    /// Accident.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.supportingInfo.value[x]")]
    #[fhir_serde(flatten)]
    pub value: Option<ExplanationOfBenefitSupportingInfoValue>,
    /// Explanation for the information
    /// 
    /// Provides the reason in the situation where a reason code is required in
    /// addition to the content.
    /// 
    /// ## Requirements
    /// Needed when the supporting information has both a date and amount/value and
    /// requires explanation.
    /// 
    /// ## Implementation Notes
    /// For example: the reason for the additional stay, or why a tooth is  missing.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: Reason codes for the missing teeth.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/missing-tooth-reason
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.supportingInfo.reason")]
    pub reason: Option<Coding>,
}

/// Adjudication totals
/// 
/// Categorized monetary totals for the adjudication.
/// 
/// ## Requirements
/// To provide the requestor with financial totals by category for the
/// adjudication.
/// 
/// ## Implementation Notes
/// Totals for amounts submitted, co-pays, benefits payable etc.
/// 
/// ## Cardinality: Optional, Multiple (0..*)
/// 
/// ## Special Semantics
/// - Included in summary
/// 
/// ## Constraints
/// - **ele-1**: All FHIR elements must have a @value or children (error)
///   Expression: `hasValue() or (children().count() > id.count())`
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath, Default, FhirValidate)]
#[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.total")]
pub struct ExplanationOfBenefitTotal {
    /// Unique id for inter-element referencing
    /// 
    /// Unique id for the element within a resource (for internal references). This
    /// may be any string value that does not contain spaces.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Conditions
    /// Used when: ele-1
    pub id: Option<String>,
    /// Additional content defined by implementations
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element. To make the use of extensions safe and managable,
    /// there is a strict set of governance applied to the definition and use of
    /// extensions. Though any implementer can define an extension, there is a set of
    /// requirements that SHALL be met as part of the definition of the extension.
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.total.extension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="ExplanationOfBenefit.total.extension")]
    pub extension: Option<Vec<Extension>>,
    /// Extensions that cannot be ignored even if unrecognized
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element and that modifies the understanding of the element
    /// in which it is contained and/or the understanding of the containing element's
    /// descendants. Usually modifier elements provide negation or qualification. To
    /// make the use of extensions safe and managable, there is a strict set of
    /// governance applied to the definition and use of extensions. Though any
    /// implementer can define an extension, there is a set of requirements that
    /// SHALL be met as part of the definition of the extension. Applications
    /// processing a resource are required to check for modifier extensions.
    /// 
    /// Modifier extensions SHALL NOT change the meaning of any elements on Resource
    /// or DomainResource (including cannot change the meaning of modifierExtension
    /// itself).
    /// 
    /// ## Requirements
    /// Modifier extensions allow for extensions that *cannot* be safely ignored to
    /// be clearly distinguished from the vast majority of extensions which can be
    /// safely ignored. This promotes interoperability by eliminating the need for
    /// implementers to prohibit the presence of extensions. For further information,
    /// see the [definition of modifier
    /// extensions](extensibility.html#modifierExtension).
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Modifier element - Modifier extensions are expected to modify the meaning or interpretation of the element that contains them
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content, modifiers
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.total.modifierExtension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="ExplanationOfBenefit.total.modifierExtension")]
    #[fhir_serde(rename = "modifierExtension")]
    pub modifier_extension: Option<Vec<Extension>>,
    /// Type of adjudication information
    /// 
    /// A code to indicate the information type of this adjudication record.
    /// Information types may include: the value submitted, maximum values or
    /// percentages allowed or payable under the plan, amounts that the patient is
    /// responsible for in aggregate or pertaining to this item, amounts paid by
    /// other coverages, and the benefit payable for this item.
    /// 
    /// ## Requirements
    /// Needed to convey the type of total provided.
    /// 
    /// ## Implementation Notes
    /// For example, codes indicating: Co-Pay, deductible, eligible, benefit, tax,
    /// etc.
    /// 
    /// ## Cardinality: Required (1..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: The adjudication codes.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/adjudication
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.total.category")]
    pub category: CodeableConcept,
    /// Financial total for the category
    /// 
    /// Monetary total amount associated with the category.
    /// 
    /// ## Requirements
    /// Needed to convey the total monetary amount.
    /// 
    /// ## Cardinality: Required (1..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ExplanationOfBenefit.total.amount")]
    pub amount: Money,
}

