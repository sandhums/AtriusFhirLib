// @generated by AtriusValueSetGenerator
// DO NOT EDIT MANUALLY

#![allow(non_camel_case_types)]
#![allow(non_snake_case)]
#![allow(clippy::upper_case_acronyms)]

use super::super::super::{Code, CodeableConcept, Coding, Element, Uri};

use super::super::super::string::String as FhirString;

///FHIR ValueSet: GenomicStudyMethodType
///Canonical URL: http://hl7.org/fhir/ValueSet/genomicstudy-methodtype
///Version: 5.0.0
///Title: Genomic Study Method Type
///Status: draft
///The method type of the GenomicStudy analysis.
///Compose includes 81 explicit concept codes
///Includes systems:
///- http://hl7.org/fhir/genomicstudy-methodtype
pub struct GenomicStudyMethodType;
impl GenomicStudyMethodType {
    pub const URL: &'static str = "http://hl7.org/fhir/ValueSet/genomicstudy-methodtype";
    pub const HAS_NONLOCAL_RULES: bool = false;
    pub fn version() -> Option<&'static str> {
        Some("5.0.0")
    }
    pub fn include_systems() -> &'static [&'static str] {
        &["http://hl7.org/fhir/genomicstudy-methodtype"]
    }
    pub fn include_value_sets() -> &'static [&'static str] {
        &[]
    }
    /// Systems that are included as whole CodeSystems but are not locally enumerable.
    ///
    /// If this is non-empty, callers should use a terminology server for definitive validation.
    pub fn include_whole_systems() -> &'static [&'static str] {
        &[]
    }
    /// Returns true only when this ValueSet can be treated as fully locally checkable.
    ///
    /// If `HAS_NONLOCAL_RULES` is true (filters, include.valueSet, or non-enumerated whole-system includes),
    /// local checks are best-effort and may require a terminology server.
    pub fn is_locally_enumerated() -> bool {
        !Self::HAS_NONLOCAL_RULES
            && (!Self::expansion_pairs().is_empty() || !Self::include_pairs().is_empty())
    }
    fn include_pairs() -> &'static [(&'static str, &'static str)] {
        &[
            ("http://hl7.org/fhir/genomicstudy-methodtype", "biochemical-genetics"),
            ("http://hl7.org/fhir/genomicstudy-methodtype", "cytogenetics"),
            ("http://hl7.org/fhir/genomicstudy-methodtype", "molecular-genetics"),
            ("http://hl7.org/fhir/genomicstudy-methodtype", "analyte"),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "chromosome-breakage-studies",
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "deletion-duplication-analysis",
            ),
            ("http://hl7.org/fhir/genomicstudy-methodtype", "detection-of-homozygosity"),
            ("http://hl7.org/fhir/genomicstudy-methodtype", "enzyme-assay"),
            ("http://hl7.org/fhir/genomicstudy-methodtype", "fish-interphase"),
            ("http://hl7.org/fhir/genomicstudy-methodtype", "fish-metaphase"),
            ("http://hl7.org/fhir/genomicstudy-methodtype", "flow-cytometry"),
            ("http://hl7.org/fhir/genomicstudy-methodtype", "fish"),
            ("http://hl7.org/fhir/genomicstudy-methodtype", "immunohistochemistry"),
            ("http://hl7.org/fhir/genomicstudy-methodtype", "karyotyping"),
            ("http://hl7.org/fhir/genomicstudy-methodtype", "linkage-analysis"),
            ("http://hl7.org/fhir/genomicstudy-methodtype", "methylation-analysis"),
            ("http://hl7.org/fhir/genomicstudy-methodtype", "msi"),
            ("http://hl7.org/fhir/genomicstudy-methodtype", "m-fish"),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "mutation-scanning-of-select-exons",
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "mutation-scanning-of-the-entire-coding-region",
            ),
            ("http://hl7.org/fhir/genomicstudy-methodtype", "protein-analysis"),
            ("http://hl7.org/fhir/genomicstudy-methodtype", "protein-expression"),
            ("http://hl7.org/fhir/genomicstudy-methodtype", "rna-analysis"),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "sequence-analysis-of-select-exons",
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "sequence-analysis-of-the-entire-coding-region",
            ),
            ("http://hl7.org/fhir/genomicstudy-methodtype", "sister-chromatid-exchange"),
            ("http://hl7.org/fhir/genomicstudy-methodtype", "targeted-variant-analysis"),
            ("http://hl7.org/fhir/genomicstudy-methodtype", "udp"),
            ("http://hl7.org/fhir/genomicstudy-methodtype", "aspe"),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "alternative-splicing-detection",
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "bi-directional-sanger-sequence-analysis",
            ),
            ("http://hl7.org/fhir/genomicstudy-methodtype", "c-banding"),
            ("http://hl7.org/fhir/genomicstudy-methodtype", "cia"),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "chromatin-immunoprecipitation-on-chip",
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "comparative-genomic-hybridization",
            ),
            ("http://hl7.org/fhir/genomicstudy-methodtype", "damid"),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "digital-virtual-karyotyping",
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "digital-microfluidic-microspheres",
            ),
            ("http://hl7.org/fhir/genomicstudy-methodtype", "enzymatic-levels"),
            ("http://hl7.org/fhir/genomicstudy-methodtype", "enzyme-activity"),
            ("http://hl7.org/fhir/genomicstudy-methodtype", "elisa"),
            ("http://hl7.org/fhir/genomicstudy-methodtype", "fluorometry"),
            ("http://hl7.org/fhir/genomicstudy-methodtype", "fusion-genes-microarrays"),
            ("http://hl7.org/fhir/genomicstudy-methodtype", "g-banding"),
            ("http://hl7.org/fhir/genomicstudy-methodtype", "gc-ms"),
            ("http://hl7.org/fhir/genomicstudy-methodtype", "gene-expression-profiling"),
            ("http://hl7.org/fhir/genomicstudy-methodtype", "gene-id"),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "gold-nanoparticle-probe-technology",
            ),
            ("http://hl7.org/fhir/genomicstudy-methodtype", "hplc"),
            ("http://hl7.org/fhir/genomicstudy-methodtype", "lc-ms"),
            ("http://hl7.org/fhir/genomicstudy-methodtype", "lc-ms-ms"),
            ("http://hl7.org/fhir/genomicstudy-methodtype", "metabolite-levels"),
            ("http://hl7.org/fhir/genomicstudy-methodtype", "methylation-specific-pcr"),
            ("http://hl7.org/fhir/genomicstudy-methodtype", "microarray"),
            ("http://hl7.org/fhir/genomicstudy-methodtype", "mlpa"),
            ("http://hl7.org/fhir/genomicstudy-methodtype", "ngs-mps"),
            ("http://hl7.org/fhir/genomicstudy-methodtype", "ola"),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "oligonucleotide-hybridization-based-dna-sequencing",
            ),
            ("http://hl7.org/fhir/genomicstudy-methodtype", "other"),
            ("http://hl7.org/fhir/genomicstudy-methodtype", "pcr"),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "pcr-with-allele-specific-hybridization",
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "pcr-rflp-with-southern-hybridization",
            ),
            ("http://hl7.org/fhir/genomicstudy-methodtype", "protein-truncation-test"),
            ("http://hl7.org/fhir/genomicstudy-methodtype", "pyrosequencing"),
            ("http://hl7.org/fhir/genomicstudy-methodtype", "q-banding"),
            ("http://hl7.org/fhir/genomicstudy-methodtype", "qpcr"),
            ("http://hl7.org/fhir/genomicstudy-methodtype", "r-banding"),
            ("http://hl7.org/fhir/genomicstudy-methodtype", "rflp"),
            ("http://hl7.org/fhir/genomicstudy-methodtype", "rt-lamp"),
            ("http://hl7.org/fhir/genomicstudy-methodtype", "rt-pcr"),
            ("http://hl7.org/fhir/genomicstudy-methodtype", "rt-pcr-with-gel-analysis"),
            ("http://hl7.org/fhir/genomicstudy-methodtype", "rt-qpcr"),
            ("http://hl7.org/fhir/genomicstudy-methodtype", "snp-detection"),
            ("http://hl7.org/fhir/genomicstudy-methodtype", "silver-staining"),
            ("http://hl7.org/fhir/genomicstudy-methodtype", "sky"),
            ("http://hl7.org/fhir/genomicstudy-methodtype", "t-banding"),
            ("http://hl7.org/fhir/genomicstudy-methodtype", "ms-ms"),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "tetra-nucleotide-repeat-by-pcr-or-southern-blot",
            ),
            ("http://hl7.org/fhir/genomicstudy-methodtype", "tiling-arrays"),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "trinucleotide-repeat-by-pcr-or-southern-blot",
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "uni-directional-sanger-sequencing",
            ),
        ]
    }
    fn include_entries() -> &'static [(
        &'static str,
        &'static str,
        Option<&'static str>,
        Option<&'static str>,
    )] {
        &[
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "alternative-splicing-detection",
                Some("Alternative splicing detection"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "analyte",
                Some("Analyte"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "aspe",
                Some("Allele-specific primer extension (ASPE)"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "bi-directional-sanger-sequence-analysis",
                Some("Bi-directional Sanger Sequence Analysis"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "biochemical-genetics",
                Some("Biochemical Genetics"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "c-banding",
                Some("C-banding"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "chromatin-immunoprecipitation-on-chip",
                Some("Chromatin Immunoprecipitation on ChIP"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "chromosome-breakage-studies",
                Some("Chromosome breakage studies"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "cia",
                Some("Chemiluminescent Immunoassay (CIA)"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "comparative-genomic-hybridization",
                Some("Comparative Genomic Hybridization"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "cytogenetics",
                Some("Cytogenetics"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "damid",
                Some("DamID"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "deletion-duplication-analysis",
                Some("Deletion/duplication analysis"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "detection-of-homozygosity",
                Some("Detection of homozygosity"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "digital-microfluidic-microspheres",
                Some("Digital microfluidic microspheres"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "digital-virtual-karyotyping",
                Some("Digital / Virtual karyotyping"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "elisa",
                Some("Enzyme-Linked Immunosorbent Assays (ELISA)"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "enzymatic-levels",
                Some("Enzymatic levels"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "enzyme-activity",
                Some("Enzyme activity"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "enzyme-assay",
                Some("Enzyme assay"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "fish",
                Some("Fluorescence in situ hybridization (FISH)"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "fish-interphase",
                Some("FISH-interphase"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "fish-metaphase",
                Some("FISH-metaphase"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "flow-cytometry",
                Some("Flow cytometry"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "fluorometry",
                Some("Fluorometry"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "fusion-genes-microarrays",
                Some("Fusion genes microarrays"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "g-banding",
                Some("G-banding"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "gc-ms",
                Some("Gas chromatographyâ€“mass spectrometry (GC-MS)"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "gene-expression-profiling",
                Some("Gene expression profiling"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "gene-id",
                Some("GeneID"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "gold-nanoparticle-probe-technology",
                Some("Gold nanoparticle probe technology"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "hplc",
                Some("High-performance liquid chromatography (HPLC)"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "immunohistochemistry",
                Some("Immunohistochemistry"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "karyotyping",
                Some("Karyotyping"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "lc-ms",
                Some("Liquid chromatography mass spectrometry (LC-MS)"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "lc-ms-ms",
                Some("Liquid chromatography-tandem mass spectrometry (LC-MS/MS)"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "linkage-analysis",
                Some("Linkage analysis"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "m-fish",
                Some("Multicolor FISH (M-FISH)"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "metabolite-levels",
                Some("Metabolite levels"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "methylation-analysis",
                Some("Methylation analysis"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "methylation-specific-pcr",
                Some("Methylation-specific PCR"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "microarray",
                Some("Microarray"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "mlpa",
                Some("Multiplex Ligation-dependent Probe Amplification (MLPA)"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "molecular-genetics",
                Some("Molecular Genetics"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "ms-ms",
                Some("Tandem mass spectrometry (MS/MS)"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "msi",
                Some("Microsatellite instability testing (MSI)"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "mutation-scanning-of-select-exons",
                Some("Mutation scanning of select exons"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "mutation-scanning-of-the-entire-coding-region",
                Some("Mutation scanning of the entire coding region"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "ngs-mps",
                Some("Next-Generation (NGS)/Massively parallel sequencing (MPS)"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "ola",
                Some("Oligonucleotide Ligation Assay (OLA)"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "oligonucleotide-hybridization-based-dna-sequencing",
                Some("Oligonucleotide hybridization-based DNA sequencing"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "other",
                Some("Other"),
                None,
            ),
            ("http://hl7.org/fhir/genomicstudy-methodtype", "pcr", Some("PCR"), None),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "pcr-rflp-with-southern-hybridization",
                Some("PCR-RFLP with Southern hybridization"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "pcr-with-allele-specific-hybridization",
                Some("PCR with allele specific hybridization"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "protein-analysis",
                Some("Protein analysis"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "protein-expression",
                Some("Protein expression"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "protein-truncation-test",
                Some("Protein truncation test"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "pyrosequencing",
                Some("Pyrosequencing"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "q-banding",
                Some("Q-banding"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "qpcr",
                Some("Quantitative PCR (qPCR)"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "r-banding",
                Some("R-banding"),
                None,
            ),
            ("http://hl7.org/fhir/genomicstudy-methodtype", "rflp", Some("RFLP"), None),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "rna-analysis",
                Some("RNA analysis"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "rt-lamp",
                Some("RT-LAMP"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "rt-pcr",
                Some("RT-PCR"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "rt-pcr-with-gel-analysis",
                Some("RT-PCR with gel analysis"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "rt-qpcr",
                Some("RT-qPCR"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "sequence-analysis-of-select-exons",
                Some("Sequence analysis of select exons"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "sequence-analysis-of-the-entire-coding-region",
                Some("Sequence analysis of the entire coding region"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "silver-staining",
                Some("Silver staining"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "sister-chromatid-exchange",
                Some("Sister chromatid exchange"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "sky",
                Some("Spectral karyotyping (SKY)"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "snp-detection",
                Some("SNP Detection"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "t-banding",
                Some("T-banding"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "targeted-variant-analysis",
                Some("Targeted variant analysis"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "tetra-nucleotide-repeat-by-pcr-or-southern-blot",
                Some("Tetra-nucleotide repeat by PCR or Southern Blot"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "tiling-arrays",
                Some("Tiling Arrays"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "trinucleotide-repeat-by-pcr-or-southern-blot",
                Some("Trinucleotide repeat by PCR or Southern Blot"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "udp",
                Some("Uniparental disomy study (UPD)"),
                None,
            ),
            (
                "http://hl7.org/fhir/genomicstudy-methodtype",
                "uni-directional-sanger-sequencing",
                Some("Uni-directional Sanger sequencing"),
                None,
            ),
        ]
    }
    /// Return the preferred display text for a (system, code) pair, if present in this ValueSet's explicit concepts.
    pub fn display(system: &str, code: &str) -> Option<&'static str> {
        for (s, c, d, _def) in Self::include_entries() {
            if *s == system && *c == code {
                return *d;
            }
        }
        None
    }
    /// Return the ValueSet concept definition for a (system, code) pair, if present.
    ///
    /// In `valuesets.json` this often comes from the extension:
    /// `http://hl7.org/fhir/StructureDefinition/valueset-concept-definition`.
    pub fn definition(system: &str, code: &str) -> Option<&'static str> {
        for (s, c, _d, def) in Self::include_entries() {
            if *s == system && *c == code {
                return *def;
            }
        }
        None
    }
    /// Create a minimal `Coding` from a (system, code) pair.
    ///
    /// If this ValueSet provides an explicit display for the code, it will be populated.
    pub fn to_coding(system: &str, code: &str) -> Coding {
        let sys_uri: Uri = Element {
            id: None,
            extension: None,
            value: Some(system.to_string()),
        };
        let code_el: Code = Element {
            id: None,
            extension: None,
            value: Some(code.to_string()),
        };
        let display = Self::display(system, code)
            .map(|s| FhirString {
                id: None,
                extension: None,
                value: Some(s.to_string()),
            });
        Coding {
            id: None,
            extension: None,
            system: Some(sys_uri),
            version: Self::version()
                .map(|v| FhirString {
                    id: None,
                    extension: None,
                    value: Some(v.to_string()),
                }),
            code: Some(code_el),
            display,
            user_selected: None,
        }
    }
    fn exclude_pairs() -> &'static [(&'static str, &'static str)] {
        &[]
    }
    fn expansion_pairs() -> &'static [(&'static str, &'static str)] {
        &[]
    }
    /// Best-effort local validation for a `Coding` against this ValueSet.
    ///
    /// Rules:
    /// - Explicit excludes (compose.exclude.concept) always deny.
    /// - If expansion.contains exists, it is treated as an explicit allow-list.
    /// - Else if compose.include.concept exists, it is treated as an explicit allow-list.
    /// - Else: fall back to whole-system validation when possible (generated CodeSystem enums / RGB grammar).
    ///
    /// Note: terminology filters and include.valueSet references are NOT evaluated locally.
    pub fn contains_coding(coding: &Coding) -> bool {
        let system = match &coding.system {
            Some(s) => s.value.as_deref().unwrap_or(""),
            None => return false,
        };
        let code = match &coding.code {
            Some(c) => c.value.as_deref().unwrap_or(""),
            None => return false,
        };
        if Self::exclude_pairs().iter().any(|(s, c)| *s == system && *c == code) {
            return false;
        }
        let exp = Self::expansion_pairs();
        if !exp.is_empty() {
            return exp.iter().any(|(s, c)| *s == system && *c == code);
        }
        let inc = Self::include_pairs();
        if !inc.is_empty() {
            return inc.iter().any(|(s, c)| *s == system && *c == code);
        }
        match system {
            "http://hl7.org/fhir/genomicstudy-methodtype" => {
                super::super::code_systems::genomicstudy_methodtype::GenomicStudyMethodType::try_from_code(
                        code,
                    )
                    .is_ok()
            }
            _ => false,
        }
    }
    /// Best-effort local validation for a `CodeableConcept` against this ValueSet.
    ///
    /// Returns true if any `coding` entry is contained in the ValueSet.
    pub fn contains_codeable_concept(cc: &CodeableConcept) -> bool {
        match cc.coding.as_ref() {
            Some(codings) => codings.iter().any(|c| Self::contains_coding(c)),
            None => false,
        }
    }
    /// Convenience: validate a FHIR `code` primitive when the binding is on `code`.
    ///
    /// This only works reliably when the ValueSet includes exactly one system.
    pub fn contains_code(code: &Code) -> bool {
        let code_str = match code.value.as_deref() {
            Some(v) => v,
            None => return false,
        };
        let systems = Self::include_systems();
        if systems.len() != 1 {
            return false;
        }
        let system: Uri = Element {
            id: None,
            extension: None,
            value: Some(systems[0].to_string()),
        };
        let code: Code = Element {
            id: None,
            extension: None,
            value: Some(code_str.to_string()),
        };
        let coding = Coding {
            id: None,
            extension: None,
            system: Some(system),
            version: None,
            code: Some(code),
            display: None,
            user_selected: None,
        };
        Self::contains_coding(&coding)
    }
    /// Create a minimal `CodeableConcept` (single coding) from a (system, code) pair.
    pub fn to_codeable_concept(system: &str, code: &str) -> CodeableConcept {
        let coding = Self::to_coding(system, code);
        CodeableConcept {
            id: None,
            extension: None,
            coding: Some(vec![coding]),
            text: None,
        }
    }
}
impl super::super::bindings::ValueSetMembership<Code> for GenomicStudyMethodType {
    fn contains(v: &Code) -> bool {
        Self::contains_code(v)
    }
}
impl super::super::bindings::ValueSetMembership<Coding> for GenomicStudyMethodType {
    fn contains(v: &Coding) -> bool {
        Self::contains_coding(v)
    }
}
impl super::super::bindings::ValueSetMembership<CodeableConcept>
for GenomicStudyMethodType {
    fn contains(v: &CodeableConcept) -> bool {
        Self::contains_codeable_concept(v)
    }
}
fn is_rgb_hex(code: &str) -> bool {
    let b = code.as_bytes();
    if b.len() != 7 || b[0] != b'#' {
        return false;
    }
    fn is_hex(x: u8) -> bool {
        (b'0'..=b'9').contains(&x) || (b'a'..=b'f').contains(&x)
            || (b'A'..=b'F').contains(&x)
    }
    is_hex(b[1]) && is_hex(b[2]) && is_hex(b[3]) && is_hex(b[4]) && is_hex(b[5])
        && is_hex(b[6])
}

