// @generated by AtriusValueSetGenerator
// DO NOT EDIT MANUALLY

#![allow(non_camel_case_types)]
#![allow(non_snake_case)]
#![allow(clippy::upper_case_acronyms)]

use super::super::super::{Code, CodeableConcept, Coding, Element, Uri};

use super::super::super::string::String as FhirString;

///FHIR ValueSet: PackagingType
///Canonical URL: http://hl7.org/fhir/ValueSet/packaging-type
///Version: 5.0.0
///Title: Packaging Type
///Status: draft
///A type of packaging.
///Compose includes 102 explicit concept codes
///Includes systems:
///- http://hl7.org/fhir/packaging-type
pub struct PackagingType;
impl PackagingType {
    pub const URL: &'static str = "http://hl7.org/fhir/ValueSet/packaging-type";
    pub const HAS_NONLOCAL_RULES: bool = false;
    pub fn version() -> Option<&'static str> {
        Some("5.0.0")
    }
    pub fn include_systems() -> &'static [&'static str] {
        &["http://hl7.org/fhir/packaging-type"]
    }
    pub fn include_value_sets() -> &'static [&'static str] {
        &[]
    }
    /// Systems that are included as whole CodeSystems but are not locally enumerable.
    ///
    /// If this is non-empty, callers should use a terminology server for definitive validation.
    pub fn include_whole_systems() -> &'static [&'static str] {
        &[]
    }
    /// Returns true only when this ValueSet can be treated as fully locally checkable.
    ///
    /// If `HAS_NONLOCAL_RULES` is true (filters, include.valueSet, or non-enumerated whole-system includes),
    /// local checks are best-effort and may require a terminology server.
    pub fn is_locally_enumerated() -> bool {
        !Self::HAS_NONLOCAL_RULES
            && (!Self::expansion_pairs().is_empty() || !Self::include_pairs().is_empty())
    }
    fn include_pairs() -> &'static [(&'static str, &'static str)] {
        &[
            ("http://hl7.org/fhir/packaging-type", "100000073490"),
            ("http://hl7.org/fhir/packaging-type", "100000073491"),
            ("http://hl7.org/fhir/packaging-type", "100000073492"),
            ("http://hl7.org/fhir/packaging-type", "100000073493"),
            ("http://hl7.org/fhir/packaging-type", "100000073494"),
            ("http://hl7.org/fhir/packaging-type", "100000073495"),
            ("http://hl7.org/fhir/packaging-type", "100000073496"),
            ("http://hl7.org/fhir/packaging-type", "100000073497"),
            ("http://hl7.org/fhir/packaging-type", "100000073498"),
            ("http://hl7.org/fhir/packaging-type", "100000073499"),
            ("http://hl7.org/fhir/packaging-type", "100000073500"),
            ("http://hl7.org/fhir/packaging-type", "100000073501"),
            ("http://hl7.org/fhir/packaging-type", "100000073502"),
            ("http://hl7.org/fhir/packaging-type", "100000073503"),
            ("http://hl7.org/fhir/packaging-type", "100000073504"),
            ("http://hl7.org/fhir/packaging-type", "100000073505"),
            ("http://hl7.org/fhir/packaging-type", "100000073506"),
            ("http://hl7.org/fhir/packaging-type", "100000073507"),
            ("http://hl7.org/fhir/packaging-type", "100000073508"),
            ("http://hl7.org/fhir/packaging-type", "100000073509"),
            ("http://hl7.org/fhir/packaging-type", "100000073510"),
            ("http://hl7.org/fhir/packaging-type", "100000073511"),
            ("http://hl7.org/fhir/packaging-type", "100000073512"),
            ("http://hl7.org/fhir/packaging-type", "100000073513"),
            ("http://hl7.org/fhir/packaging-type", "100000073514"),
            ("http://hl7.org/fhir/packaging-type", "100000073515"),
            ("http://hl7.org/fhir/packaging-type", "100000073516"),
            ("http://hl7.org/fhir/packaging-type", "100000073517"),
            ("http://hl7.org/fhir/packaging-type", "100000073518"),
            ("http://hl7.org/fhir/packaging-type", "100000073519"),
            ("http://hl7.org/fhir/packaging-type", "100000073520"),
            ("http://hl7.org/fhir/packaging-type", "100000073521"),
            ("http://hl7.org/fhir/packaging-type", "100000073522"),
            ("http://hl7.org/fhir/packaging-type", "100000073523"),
            ("http://hl7.org/fhir/packaging-type", "100000073524"),
            ("http://hl7.org/fhir/packaging-type", "100000073525"),
            ("http://hl7.org/fhir/packaging-type", "100000073526"),
            ("http://hl7.org/fhir/packaging-type", "100000073527"),
            ("http://hl7.org/fhir/packaging-type", "100000073528"),
            ("http://hl7.org/fhir/packaging-type", "100000073529"),
            ("http://hl7.org/fhir/packaging-type", "100000073530"),
            ("http://hl7.org/fhir/packaging-type", "100000073531"),
            ("http://hl7.org/fhir/packaging-type", "100000073532"),
            ("http://hl7.org/fhir/packaging-type", "100000073533"),
            ("http://hl7.org/fhir/packaging-type", "100000073534"),
            ("http://hl7.org/fhir/packaging-type", "100000073535"),
            ("http://hl7.org/fhir/packaging-type", "100000073536"),
            ("http://hl7.org/fhir/packaging-type", "100000073537"),
            ("http://hl7.org/fhir/packaging-type", "100000073538"),
            ("http://hl7.org/fhir/packaging-type", "100000073539"),
            ("http://hl7.org/fhir/packaging-type", "100000073540"),
            ("http://hl7.org/fhir/packaging-type", "100000073541"),
            ("http://hl7.org/fhir/packaging-type", "100000073542"),
            ("http://hl7.org/fhir/packaging-type", "100000073543"),
            ("http://hl7.org/fhir/packaging-type", "100000073544"),
            ("http://hl7.org/fhir/packaging-type", "100000073545"),
            ("http://hl7.org/fhir/packaging-type", "100000073546"),
            ("http://hl7.org/fhir/packaging-type", "100000073547"),
            ("http://hl7.org/fhir/packaging-type", "100000073548"),
            ("http://hl7.org/fhir/packaging-type", "100000073549"),
            ("http://hl7.org/fhir/packaging-type", "100000073550"),
            ("http://hl7.org/fhir/packaging-type", "100000073551"),
            ("http://hl7.org/fhir/packaging-type", "100000073552"),
            ("http://hl7.org/fhir/packaging-type", "100000073553"),
            ("http://hl7.org/fhir/packaging-type", "100000073554"),
            ("http://hl7.org/fhir/packaging-type", "100000073555"),
            ("http://hl7.org/fhir/packaging-type", "100000073556"),
            ("http://hl7.org/fhir/packaging-type", "100000073557"),
            ("http://hl7.org/fhir/packaging-type", "100000073558"),
            ("http://hl7.org/fhir/packaging-type", "100000073559"),
            ("http://hl7.org/fhir/packaging-type", "100000073560"),
            ("http://hl7.org/fhir/packaging-type", "100000073561"),
            ("http://hl7.org/fhir/packaging-type", "100000073562"),
            ("http://hl7.org/fhir/packaging-type", "100000073563"),
            ("http://hl7.org/fhir/packaging-type", "100000075664"),
            ("http://hl7.org/fhir/packaging-type", "100000116195"),
            ("http://hl7.org/fhir/packaging-type", "100000116196"),
            ("http://hl7.org/fhir/packaging-type", "100000116197"),
            ("http://hl7.org/fhir/packaging-type", "100000125779"),
            ("http://hl7.org/fhir/packaging-type", "100000137702"),
            ("http://hl7.org/fhir/packaging-type", "100000137703"),
            ("http://hl7.org/fhir/packaging-type", "100000143554"),
            ("http://hl7.org/fhir/packaging-type", "100000143555"),
            ("http://hl7.org/fhir/packaging-type", "100000163233"),
            ("http://hl7.org/fhir/packaging-type", "100000163234"),
            ("http://hl7.org/fhir/packaging-type", "100000164143"),
            ("http://hl7.org/fhir/packaging-type", "100000166980"),
            ("http://hl7.org/fhir/packaging-type", "100000169899"),
            ("http://hl7.org/fhir/packaging-type", "100000173982"),
            ("http://hl7.org/fhir/packaging-type", "100000173983"),
            ("http://hl7.org/fhir/packaging-type", "100000174066"),
            ("http://hl7.org/fhir/packaging-type", "100000174067"),
            ("http://hl7.org/fhir/packaging-type", "100000174068"),
            ("http://hl7.org/fhir/packaging-type", "100000174069"),
            ("http://hl7.org/fhir/packaging-type", "100000174070"),
            ("http://hl7.org/fhir/packaging-type", "200000005068"),
            ("http://hl7.org/fhir/packaging-type", "200000005585"),
            ("http://hl7.org/fhir/packaging-type", "200000010647"),
            ("http://hl7.org/fhir/packaging-type", "200000011726"),
            ("http://hl7.org/fhir/packaging-type", "200000012539"),
            ("http://hl7.org/fhir/packaging-type", "200000013191"),
            ("http://hl7.org/fhir/packaging-type", "200000024874"),
        ]
    }
    fn include_entries() -> &'static [(
        &'static str,
        &'static str,
        Option<&'static str>,
        Option<&'static str>,
    )] {
        &[
            (
                "http://hl7.org/fhir/packaging-type",
                "100000073490",
                Some("Ampoule"),
                None,
            ),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000073491",
                Some("Applicator"),
                None,
            ),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000073492",
                Some("Automatic injection device"),
                None,
            ),
            ("http://hl7.org/fhir/packaging-type", "100000073493", Some("Bag"), None),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000073494",
                Some("Balling gun"),
                None,
            ),
            ("http://hl7.org/fhir/packaging-type", "100000073495", Some("Barrel"), None),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000073496",
                Some("Blister"),
                None,
            ),
            ("http://hl7.org/fhir/packaging-type", "100000073497", Some("Bottle"), None),
            ("http://hl7.org/fhir/packaging-type", "100000073498", Some("Box"), None),
            ("http://hl7.org/fhir/packaging-type", "100000073499", Some("Brush"), None),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000073500",
                Some("Brush applicator"),
                None,
            ),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000073501",
                Some("Cannula"),
                None,
            ),
            ("http://hl7.org/fhir/packaging-type", "100000073502", Some("Cap"), None),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000073503",
                Some("Cartridge"),
                None,
            ),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000073504",
                Some("Child-resistant closure"),
                None,
            ),
            ("http://hl7.org/fhir/packaging-type", "100000073505", Some("Cup"), None),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000073506",
                Some("Dabbing applicator"),
                None,
            ),
            ("http://hl7.org/fhir/packaging-type", "100000073507", Some("Dart"), None),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000073508",
                Some("Dredging applicator"),
                None,
            ),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000073509",
                Some("Dredging container"),
                None,
            ),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000073510",
                Some("Drench gun"),
                None,
            ),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000073511",
                Some("Dropper applicator"),
                None,
            ),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000073512",
                Some("Dropper container"),
                None,
            ),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000073513",
                Some("Fixed cryogenic vessel"),
                None,
            ),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000073514",
                Some("Gas cylinder"),
                None,
            ),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000073515",
                Some("High pressure transdermal delivery device"),
                None,
            ),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000073516",
                Some("Implanter"),
                None,
            ),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000073517",
                Some("Inhaler"),
                None,
            ),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000073518",
                Some("In-ovo injection device"),
                None,
            ),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000073519",
                Some("Injection needle"),
                None,
            ),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000073520",
                Some("Injection syringe"),
                None,
            ),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000073521",
                Some("Internal graduated calibration chamber"),
                None,
            ),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000073522",
                Some("Intramammary syringe"),
                None,
            ),
            ("http://hl7.org/fhir/packaging-type", "100000073523", Some("Jar"), None),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000073524",
                Some("Measuring device"),
                None,
            ),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000073525",
                Some("Measuring spoon"),
                None,
            ),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000073526",
                Some("Metering pump"),
                None,
            ),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000073527",
                Some("Metering valve"),
                None,
            ),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000073528",
                Some("Mobile cryogenic vessel"),
                None,
            ),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000073529",
                Some("Mouthpiece"),
                None,
            ),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000073530",
                Some("Multidose container"),
                None,
            ),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000073531",
                Some("Multidose container with airless pump"),
                None,
            ),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000073532",
                Some("Multipuncturer"),
                None,
            ),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000073533",
                Some("Nasal applicator"),
                None,
            ),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000073534",
                Some("Nebuliser"),
                None,
            ),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000073535",
                Some("Needle applicator"),
                None,
            ),
            ("http://hl7.org/fhir/packaging-type", "100000073536", Some("Nozzle"), None),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000073537",
                Some("Oral syringe"),
                None,
            ),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000073538",
                Some("Pipette"),
                None,
            ),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000073539",
                Some("Pipette applicator"),
                None,
            ),
            ("http://hl7.org/fhir/packaging-type", "100000073540", Some("Pouch"), None),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000073541",
                Some("Pour-on container"),
                None,
            ),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000073542",
                Some("Pre-filled gastroenteral tube"),
                None,
            ),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000073543",
                Some("Pre-filled pen"),
                None,
            ),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000073544",
                Some("Pre-filled syringe"),
                None,
            ),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000073545",
                Some("Pressurised container"),
                None,
            ),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000073546",
                Some("Prick test applicator"),
                None,
            ),
            ("http://hl7.org/fhir/packaging-type", "100000073547", Some("Sachet"), None),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000073548",
                Some("Scarifier"),
                None,
            ),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000073549",
                Some("Screw cap"),
                None,
            ),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000073550",
                Some("Single-dose container"),
                None,
            ),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000073551",
                Some("Spatula"),
                None,
            ),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000073552",
                Some("Spot-on applicator"),
                None,
            ),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000073553",
                Some("Spray container"),
                None,
            ),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000073554",
                Some("Spray pump"),
                None,
            ),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000073555",
                Some("Spray valve"),
                None,
            ),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000073556",
                Some("Stab vaccinator"),
                None,
            ),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000073557",
                Some("Stopper"),
                None,
            ),
            ("http://hl7.org/fhir/packaging-type", "100000073558", Some("Straw"), None),
            ("http://hl7.org/fhir/packaging-type", "100000073559", Some("Strip"), None),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000073560",
                Some("Tablet container"),
                None,
            ),
            ("http://hl7.org/fhir/packaging-type", "100000073561", Some("Tube"), None),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000073562",
                Some("Vaginal sponge applicator"),
                None,
            ),
            ("http://hl7.org/fhir/packaging-type", "100000073563", Some("Vial"), None),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000075664",
                Some("Administration system"),
                None,
            ),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000116195",
                Some("Calendar package"),
                None,
            ),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000116196",
                Some("Needle-free injector"),
                None,
            ),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000116197",
                Some("Roll-on container"),
                None,
            ),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000125779",
                Some("Multidose container with pump"),
                None,
            ),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000137702",
                Some("Container"),
                None,
            ),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000137703",
                Some("Oral applicator"),
                None,
            ),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000143554",
                Some("Multidose container with metering pump"),
                None,
            ),
            ("http://hl7.org/fhir/packaging-type", "100000143555", Some("Pack"), None),
            ("http://hl7.org/fhir/packaging-type", "100000163233", Some("disk"), None),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000163234",
                Some("plunger"),
                None,
            ),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000164143",
                Some("infusion port"),
                None,
            ),
            ("http://hl7.org/fhir/packaging-type", "100000166980", Some("Valve"), None),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000169899",
                Some("Jerrycan"),
                None,
            ),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000173982",
                Some("Oral applicator"),
                None,
            ),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000173983",
                Some("Dose dispenser"),
                None,
            ),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000174066",
                Some("Unit-dose blister"),
                None,
            ),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000174067",
                Some("Pre-filled injector"),
                None,
            ),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000174068",
                Some("Pre-filled oral syringe"),
                None,
            ),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000174069",
                Some("Pre-filled oral applicator"),
                None,
            ),
            (
                "http://hl7.org/fhir/packaging-type",
                "100000174070",
                Some("Dose-dispenser cartridge"),
                None,
            ),
            ("http://hl7.org/fhir/packaging-type", "200000005068", Some("Pen"), None),
            (
                "http://hl7.org/fhir/packaging-type",
                "200000005585",
                Some("Wrapper"),
                None,
            ),
            ("http://hl7.org/fhir/packaging-type", "200000010647", Some("Lid"), None),
            (
                "http://hl7.org/fhir/packaging-type",
                "200000011726",
                Some("Capsule for opening"),
                None,
            ),
            (
                "http://hl7.org/fhir/packaging-type",
                "200000012539",
                Some("Child-resistant sachet"),
                None,
            ),
            (
                "http://hl7.org/fhir/packaging-type",
                "200000013191",
                Some("Tamper-evident closure"),
                None,
            ),
            (
                "http://hl7.org/fhir/packaging-type",
                "200000024874",
                Some("Tablet tube"),
                None,
            ),
        ]
    }
    /// Return the preferred display text for a (system, code) pair, if present in this ValueSet's explicit concepts.
    pub fn display(system: &str, code: &str) -> Option<&'static str> {
        for (s, c, d, _def) in Self::include_entries() {
            if *s == system && *c == code {
                return *d;
            }
        }
        None
    }
    /// Return the ValueSet concept definition for a (system, code) pair, if present.
    ///
    /// In `valuesets.json` this often comes from the extension:
    /// `http://hl7.org/fhir/StructureDefinition/valueset-concept-definition`.
    pub fn definition(system: &str, code: &str) -> Option<&'static str> {
        for (s, c, _d, def) in Self::include_entries() {
            if *s == system && *c == code {
                return *def;
            }
        }
        None
    }
    /// Create a minimal `Coding` from a (system, code) pair.
    ///
    /// If this ValueSet provides an explicit display for the code, it will be populated.
    pub fn to_coding(system: &str, code: &str) -> Coding {
        let sys_uri: Uri = Element {
            id: None,
            extension: None,
            value: Some(system.to_string()),
        };
        let code_el: Code = Element {
            id: None,
            extension: None,
            value: Some(code.to_string()),
        };
        let display = Self::display(system, code)
            .map(|s| FhirString {
                id: None,
                extension: None,
                value: Some(s.to_string()),
            });
        Coding {
            id: None,
            extension: None,
            system: Some(sys_uri),
            version: Self::version()
                .map(|v| FhirString {
                    id: None,
                    extension: None,
                    value: Some(v.to_string()),
                }),
            code: Some(code_el),
            display,
            user_selected: None,
        }
    }
    fn exclude_pairs() -> &'static [(&'static str, &'static str)] {
        &[]
    }
    fn expansion_pairs() -> &'static [(&'static str, &'static str)] {
        &[]
    }
    /// Best-effort local validation for a `Coding` against this ValueSet.
    ///
    /// Rules:
    /// - Explicit excludes (compose.exclude.concept) always deny.
    /// - If expansion.contains exists, it is treated as an explicit allow-list.
    /// - Else if compose.include.concept exists, it is treated as an explicit allow-list.
    /// - Else: fall back to whole-system validation when possible (generated CodeSystem enums / RGB grammar).
    ///
    /// Note: terminology filters and include.valueSet references are NOT evaluated locally.
    pub fn contains_coding(coding: &Coding) -> bool {
        let system = match &coding.system {
            Some(s) => s.value.as_deref().unwrap_or(""),
            None => return false,
        };
        let code = match &coding.code {
            Some(c) => c.value.as_deref().unwrap_or(""),
            None => return false,
        };
        if Self::exclude_pairs().iter().any(|(s, c)| *s == system && *c == code) {
            return false;
        }
        let exp = Self::expansion_pairs();
        if !exp.is_empty() {
            return exp.iter().any(|(s, c)| *s == system && *c == code);
        }
        let inc = Self::include_pairs();
        if !inc.is_empty() {
            return inc.iter().any(|(s, c)| *s == system && *c == code);
        }
        match system {
            "http://hl7.org/fhir/packaging-type" => {
                super::super::code_systems::packaging_type::PackagingType::try_from_code(
                        code,
                    )
                    .is_ok()
            }
            _ => false,
        }
    }
    /// Best-effort local validation for a `CodeableConcept` against this ValueSet.
    ///
    /// Returns true if any `coding` entry is contained in the ValueSet.
    pub fn contains_codeable_concept(cc: &CodeableConcept) -> bool {
        match cc.coding.as_ref() {
            Some(codings) => codings.iter().any(|c| Self::contains_coding(c)),
            None => false,
        }
    }
    /// Convenience: validate a FHIR `code` primitive when the binding is on `code`.
    ///
    /// This only works reliably when the ValueSet includes exactly one system.
    pub fn contains_code(code: &Code) -> bool {
        let code_str = match code.value.as_deref() {
            Some(v) => v,
            None => return false,
        };
        let systems = Self::include_systems();
        if systems.len() != 1 {
            return false;
        }
        let system: Uri = Element {
            id: None,
            extension: None,
            value: Some(systems[0].to_string()),
        };
        let code: Code = Element {
            id: None,
            extension: None,
            value: Some(code_str.to_string()),
        };
        let coding = Coding {
            id: None,
            extension: None,
            system: Some(system),
            version: None,
            code: Some(code),
            display: None,
            user_selected: None,
        };
        Self::contains_coding(&coding)
    }
    /// Create a minimal `CodeableConcept` (single coding) from a (system, code) pair.
    pub fn to_codeable_concept(system: &str, code: &str) -> CodeableConcept {
        let coding = Self::to_coding(system, code);
        CodeableConcept {
            id: None,
            extension: None,
            coding: Some(vec![coding]),
            text: None,
        }
    }
}
impl super::super::bindings::ValueSetMembership<Code> for PackagingType {
    fn contains(v: &Code) -> bool {
        Self::contains_code(v)
    }
}
impl super::super::bindings::ValueSetMembership<Coding> for PackagingType {
    fn contains(v: &Coding) -> bool {
        Self::contains_coding(v)
    }
}
impl super::super::bindings::ValueSetMembership<CodeableConcept> for PackagingType {
    fn contains(v: &CodeableConcept) -> bool {
        Self::contains_codeable_concept(v)
    }
}
fn is_rgb_hex(code: &str) -> bool {
    let b = code.as_bytes();
    if b.len() != 7 || b[0] != b'#' {
        return false;
    }
    fn is_hex(x: u8) -> bool {
        (b'0'..=b'9').contains(&x) || (b'a'..=b'f').contains(&x)
            || (b'A'..=b'F').contains(&x)
    }
    is_hex(b[1]) && is_hex(b[2]) && is_hex(b[3]) && is_hex(b[4]) && is_hex(b[5])
        && is_hex(b[6])
}

