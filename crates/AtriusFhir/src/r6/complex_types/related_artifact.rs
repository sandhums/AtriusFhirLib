// AUTO-GENERATED by atrius-fhir-generator (R6 RelatedArtifact)
use crate::r6::*;

/// Choice of types for the artifact\[x\] field in RelatedArtifact
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath)]
#[fhir_choice_element(base_name = "artifact")]
pub enum RelatedArtifactArtifact {
    /// Variant accepting the Markdown type.
    #[fhir_serde(rename = "artifactMarkdown")]
    Markdown(Markdown),
    /// Variant accepting the Attachment type.
    #[fhir_serde(rename = "artifactAttachment")]
    Attachment(Attachment),
    /// Variant accepting the Canonical type.
    #[fhir_serde(rename = "artifactCanonical")]
    Canonical(Canonical),
    /// Variant accepting the Reference type.
    #[fhir_serde(rename = "artifactReference")]
    Reference(Reference),
}

/// FHIR RelatedArtifact type
/// 
/// RelatedArtifact Type: Related artifacts such as dependencies, components,
/// additional documentation, justification, or bibliographic references.
/// 
/// ## Purpose
/// Knowledge resources must be able to provide enough information for consumers of the content (and/or interventions or results produced by the content) to be able to determine and understand the justification for and evidence in support of the content.
/// 
/// ## Type: Complex-type type
/// Base type: http://hl7.org/fhir/StructureDefinition/DataType
/// 
/// ## Status: active
/// FHIR Version: 6.0.0-ballot3
/// 
/// See: [RelatedArtifact](http://hl7.org/fhir/StructureDefinition/RelatedArtifact)
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath, Default, FhirValidate)]
#[fhir_resource(choice_elements = "artifact")]
#[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="RelatedArtifact")]
#[fhir_invariant(key="rla-1", severity="warning", human="Citation must be inline or a canonical reference to a Citation", expr="type = 'citation' implies ((citation.exists() xor resource.exists()) or (artifact is markdown or artifact is canonical))", path="RelatedArtifact")]
#[fhir_invariant(key="rla-2", severity="warning", human="Documentation must be an attachment", expr="type = 'documentation' implies (document.exists() or artifact is Attachment)", path="RelatedArtifact")]
#[fhir_invariant(key="rla-3", severity="warning", human="Justification must be an attachment or a reference to an ArtifactAssessment", expr="type = 'justification' implies ((document.exists() or resourceReference.exists()) or (artifact is Attachment or artifact is Reference))", path="RelatedArtifact")]
pub struct RelatedArtifact {
    /// Unique id for inter-element referencing
    /// 
    /// Unique id for the element within a resource (for internal references). This
    /// may be any string value that does not contain spaces.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Conditions
    /// Used when: ele-1
    pub id: Option<String>,
    /// Additional content defined by implementations
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element. To make the use of extensions safe and managable,
    /// there is a strict set of governance applied to the definition and use of
    /// extensions. Though any implementer can define an extension, there is a set of
    /// requirements that SHALL be met as part of the definition of the extension.
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Aliases
    /// extensions, user content
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="RelatedArtifact.extension")]
    pub extension: Option<Vec<Extension>>,
    /// documentation | justification | citation | predecessor | successor | derived-from | depends-on | composed-of | part-of
    /// 
    /// The type of relationship to the related artifact.
    /// 
    /// ## Implementation Notes
    /// The presence of both sides of a relationship type (e.g. successor and
    /// predecessor) is required to support use cases where one side of a
    /// relationship is not represented in FHIR. However, this feature SHALL NOT be
    /// used to create bi-directional resource links in FHIR instances. Specifically,
    /// following the methodology of "new points to old" and "many points to one",
    /// when using related artifact elements to describe and reference FHIR
    /// resources, the type element SHALL be drawn from the
    /// fhir-related-artifact-type ValueSet.
    /// 
    /// ## Cardinality: Required (1..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: required
    /// - **Description**: The type of relationship to the related artifact.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/related-artifact-type|6.0.0-ballot3
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="RelatedArtifact.type")]
    #[fhir_serde(rename = "type")]
    pub r#type: Code,
    /// Short label
    /// 
    /// A short label that can be used to reference the citation from elsewhere in
    /// the containing artifact, such as a footnote index.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="RelatedArtifact.label")]
    pub label: Option<String>,
    /// Brief description of the related artifact
    /// 
    /// A brief description of the document or knowledge resource being referenced,
    /// suitable for display to a consumer.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="RelatedArtifact.display")]
    pub display: Option<String>,
    /// Bibliographic citation for the artifact
    /// 
    /// Deprecated in favor of the new artifact[x] element. A bibliographic citation
    /// for the related artifact. This text SHOULD be formatted according to an
    /// accepted citation format.
    /// 
    /// ## Implementation Notes
    /// Additional structured information about citations should be captured as
    /// extensions.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="RelatedArtifact.citation")]
    pub citation: Option<Markdown>,
    /// What document is being referenced
    /// 
    /// Deprecated in favor of the new artifact[x] element. The document being
    /// referenced, represented as an attachment. This is exclusive with the resource
    /// element.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="RelatedArtifact.document")]
    pub document: Option<Attachment>,
    /// What artifact is being referenced
    /// 
    /// Deprecated in favor of the new artifact[x] element. The related artifact,
    /// such as a library, value set, profile, or other knowledge resource.
    /// 
    /// ## Implementation Notes
    /// If the type is predecessor, this is a reference to the succeeding knowledge
    /// resource. If the type is successor, this is a reference to the prior
    /// knowledge resource.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="RelatedArtifact.resource")]
    pub resource: Option<Canonical>,
    /// What artifact, if not a conformance resource
    /// 
    /// Deprecated in favor of the new artifact[x] element. The related artifact, if
    /// the artifact is not a canonical resource, or a resource reference to a
    /// canonical resource.
    /// 
    /// ## Implementation Notes
    /// If both resource and resourceReference are present, they SHOULD be consistent
    /// and reference the same resource. Although relatedArtifact is intended to
    /// support references to definitional resources, there are cases where
    /// non-definitional resources can be definitional (such as Location where the
    /// kind is mode). Related artifacts SHOULD be used to reference definitional
    /// resources, and profiles SHOULD be used to make that explicit for particular
    /// use cases.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="RelatedArtifact.resourceReference")]
    #[fhir_serde(rename = "resourceReference")]
    pub resource_reference: Option<Reference>,
    /// What document, citation, artifact, or resource is being referenced
    /// 
    /// The related artifact represented as a canonical or direct reference to a FHIR
    /// resource, an Attachment, or directly inline as markdown.
    /// 
    /// ## Implementation Notes
    /// For artifacts represented as FHIR resources, a canonical or Reference to the
    /// FHIR Resource. If the target is a CanonicalResource, this SHOULD be a
    /// canonical reference. For documentation and justification, what document is
    /// being referenced, represented as an Attachment. For citations, either a
    /// bibliographic citation for the related artifact represented as markdown, or a
    /// reference to a Citation resource. The text SHOULD be formatted according to
    /// an accepted citation format.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="RelatedArtifact.artifact[x]")]
    #[fhir_serde(flatten)]
    pub artifact: Option<RelatedArtifactArtifact>,
}

