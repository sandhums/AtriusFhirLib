// AUTO-GENERATED by atrius-fhir-generator (R6 SampledData)
use crate::r6::*;

/// FHIR SampledData type
/// 
/// SampledData Type: A series of measurements taken by a device, with upper and
/// lower limits. There may be more than one dimension in the data.
/// 
/// ## Purpose
/// There is a need for a concise way to handle the data produced by devices that sample a physical state at a high frequency.
/// 
/// ## Type: Complex-type type
/// Base type: http://hl7.org/fhir/StructureDefinition/DataType
/// 
/// ## Status: active
/// FHIR Version: 6.0.0-ballot3
/// 
/// See: [SampledData](http://hl7.org/fhir/StructureDefinition/SampledData)
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath, Default, FhirValidate)]
#[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="SampledData")]
#[fhir_invariant(key="sdd-1", severity="error", human="A SampledData SHALL have either an interval and offsets but not both", expr="interval.exists().not() xor offsets.exists().not()", path="SampledData")]
pub struct SampledData {
    /// Unique id for inter-element referencing
    /// 
    /// Unique id for the element within a resource (for internal references). This
    /// may be any string value that does not contain spaces.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Conditions
    /// Used when: ele-1
    pub id: Option<String>,
    /// Additional content defined by implementations
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element. To make the use of extensions safe and managable,
    /// there is a strict set of governance applied to the definition and use of
    /// extensions. Though any implementer can define an extension, there is a set of
    /// requirements that SHALL be met as part of the definition of the extension.
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Aliases
    /// extensions, user content
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="SampledData.extension")]
    pub extension: Option<Vec<Extension>>,
    /// Zero value and units
    /// 
    /// The base quantity that a measured value of zero represents. In addition, this
    /// provides the units of the entire measurement series.
    /// 
    /// ## Cardinality: Required (1..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="SampledData.origin")]
    pub origin: Quantity,
    /// Number of intervalUnits between samples
    /// 
    /// Amount of intervalUnits between samples, e.g. milliseconds for time-based
    /// sampling.
    /// 
    /// ## Implementation Notes
    /// This is usually a whole number.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Conditions
    /// Used when: sdd-1
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="SampledData.interval")]
    pub interval: Option<Decimal>,
    /// The measurement unit of the interval between samples
    /// 
    /// The measurement unit in which the sample interval is expressed.
    /// 
    /// ## Cardinality: Required (1..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: required
    /// - **Description**: Units of measure allowed for an element.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/ucum-units|6.0.0-ballot3
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="SampledData.intervalUnit")]
    #[fhir_serde(rename = "intervalUnit")]
    pub interval_unit: Code,
    /// Multiply data by this before adding to origin
    /// 
    /// A correction factor that is applied to the sampled data points before they
    /// are added to the origin.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// - When missing: If no factor is assigned, the data is not adjusted before adding to the origin
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="SampledData.factor")]
    pub factor: Option<Decimal>,
    /// Lower limit of detection
    /// 
    /// The lower limit of detection of the measured points. This is needed if any of
    /// the data points have the value "L" (lower than detection limit).
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="SampledData.lowerLimit")]
    #[fhir_serde(rename = "lowerLimit")]
    pub lower_limit: Option<Decimal>,
    /// Upper limit of detection
    /// 
    /// The upper limit of detection of the measured points. This is needed if any of
    /// the data points have the value "U" (higher than detection limit).
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="SampledData.upperLimit")]
    #[fhir_serde(rename = "upperLimit")]
    pub upper_limit: Option<Decimal>,
    /// Number of sample points at each time point
    /// 
    /// The number of sample points at each time point. If this value is greater than
    /// one, then the dimensions will be interlaced - all the sample points for a
    /// point in time will be recorded at once.
    /// 
    /// ## Implementation Notes
    /// If there is more than one dimension, the code for the type of data will
    /// define the meaning of the dimensions (typically ECG data).
    /// 
    /// ## Cardinality: Required (1..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="SampledData.dimensions")]
    pub dimensions: PositiveInt,
    /// Defines the codes used in the data
    /// 
    /// Reference to ConceptMap that defines the codes used in the data.
    /// 
    /// ## Implementation Notes
    /// The ConceptMap cannot define meanings for the codes 'E', 'U', or 'L' (nor
    /// 'e', 'u', or 'l').
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="SampledData.codeMap")]
    #[fhir_serde(rename = "codeMap")]
    pub code_map: Option<Canonical>,
    /// Offsets, typically in time, at which data values were taken
    /// 
    /// A series of increasing decimal values separated by a single space (character
    /// u20), which represent the offset from the logical start point. Offset values
    /// may be negative. The units in which the offsets are expressed are found in
    /// intervalUnit. The absolute point at which the measurements begin SHALL be
    /// conveyed outside the scope of this datatype, e.g.
    /// Observation.effectiveDateTime for a timing offset.
    /// 
    /// ## Implementation Notes
    /// If offsets is present, the number of data points must be equal to the number
    /// of offsets multipled by the dimensions.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Conditions
    /// Used when: sdd-1
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="SampledData.offsets")]
    pub offsets: Option<String>,
    /// Decimal values with spaces, or "E" | "U" | "L", or another code
    /// 
    /// A series of data points which are decimal values or codes separated by a
    /// single space (character u20). The special codes "E" (error), "L" (below
    /// detection limit) and "U" (above detection limit) are also defined for used in
    /// place of decimal values.
    /// 
    /// ## Implementation Notes
    /// The data may be missing if it is omitted for summarization purposes. In
    /// general, data is required for any actual use of a SampledData.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="SampledData.data")]
    pub data: Option<String>,
}

