// AUTO-GENERATED by atrius-fhir-generator (R6 Timing)
use crate::r6::*;

/// FHIR Timing type
/// 
/// Timing Type: Specifies an event that may occur multiple times. Timing
/// schedules are used to record when things are planned, expected or requested
/// to occur. The most common usage is in dosage instructions for medications.
/// They are also used when planning care of various kinds, and may be used for
/// reporting the schedule to which past regular activities were carried out.
/// 
/// ## Purpose
/// Need to able to track proposed timing schedules. There are several different ways to do this: one or more specified times, a simple rules like three times a day, or  before/after meals.
/// 
/// ## Type: Complex-type type
/// Base type: http://hl7.org/fhir/StructureDefinition/BackboneType
/// 
/// ## Status: active
/// FHIR Version: 6.0.0-ballot3
/// 
/// See: [Timing](http://hl7.org/fhir/StructureDefinition/Timing)
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath, Default, FhirValidate)]
#[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Timing")]
pub struct Timing {
    /// Unique id for inter-element referencing
    /// 
    /// Unique id for the element within a resource (for internal references). This
    /// may be any string value that does not contain spaces.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Conditions
    /// Used when: ele-1
    pub id: Option<String>,
    /// Additional content defined by implementations
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element. To make the use of extensions safe and managable,
    /// there is a strict set of governance applied to the definition and use of
    /// extensions. Though any implementer can define an extension, there is a set of
    /// requirements that SHALL be met as part of the definition of the extension.
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Aliases
    /// extensions, user content
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Timing.extension")]
    pub extension: Option<Vec<Extension>>,
    /// Extensions that cannot be ignored even if unrecognized
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element and that modifies the understanding of the element
    /// in which it is contained and/or the understanding of the containing element's
    /// descendants. Usually modifier elements provide negation or qualification. To
    /// make the use of extensions safe and managable, there is a strict set of
    /// governance applied to the definition and use of extensions. Though any
    /// implementer can define an extension, there is a set of requirements that
    /// SHALL be met as part of the definition of the extension. Applications
    /// processing a resource are required to check for modifier extensions.
    /// 
    /// Modifier extensions SHALL NOT change the meaning of any elements on Resource
    /// or DomainResource (including cannot change the meaning of modifierExtension
    /// itself).
    /// 
    /// ## Requirements
    /// Modifier extensions allow for extensions that *cannot* be safely ignored to
    /// be clearly distinguished from the vast majority of extensions which can be
    /// safely ignored. This promotes interoperability by eliminating the need for
    /// implementers to prohibit the presence of extensions. For further information,
    /// see the [definition of modifier
    /// extensions](extensibility.html#modifierExtension).
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Modifier element - Modifier extensions are expected to modify the meaning or interpretation of the element that contains them
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Aliases
    /// extensions, user content, modifiers
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Timing.modifierExtension")]
    #[fhir_serde(rename = "modifierExtension")]
    pub modifier_extension: Option<Vec<Extension>>,
    /// When the event occurs
    /// 
    /// Identifies specific times when the event occurs.
    /// 
    /// ## Requirements
    /// In a Medication Administration Record, for instance, you need to take a
    /// general specification, and turn it into a precise specification.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Timing.event")]
    pub event: Option<Vec<DateTime>>,
    /// When the event is to occur
    /// 
    /// A set of rules that describe when the event is scheduled.
    /// 
    /// ## Requirements
    /// Many timing schedules are determined by regular repetitions.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children or both (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **tim-1**: if there's a duration, there needs to be duration units (error)
    ///   Expression: `duration.empty() or durationUnit.exists()`
    /// - **tim-2**: if there's a period, there needs to be period units (error)
    ///   Expression: `period.empty() or periodUnit.exists()`
    /// - **tim-4**: duration SHALL be a non-negative value (error)
    ///   Expression: `duration.exists() implies duration \>= 0`
    /// - **tim-5**: period SHALL be a non-negative value (error)
    ///   Expression: `period.exists() implies period \>= 0`
    /// - **tim-6**: If there's a periodMax, there must be a period (error)
    ///   Expression: `periodMax.empty() or period.exists()`
    /// - **tim-7**: If there's a durationMax, there must be a duration (error)
    ///   Expression: `durationMax.empty() or duration.exists()`
    /// - **tim-8**: If there's a countMax, there must be a count (error)
    ///   Expression: `countMax.empty() or count.exists()`
    /// - **tim-9**: If there's an offset, there must be a when (and not C, CM, CD, CV) (error)
    ///   Expression: `offset.empty() or (when.exists() and when.select($this in ('C' | 'CM' | 'CD' | 'CV')).allFalse())`
    /// - **tim-10**: If there's a timeOfDay, there cannot be a when, or vice versa (error)
    ///   Expression: `timeOfDay.empty() or when.empty()`
    /// - **tim-11**: Only use startOffset when frequency is present and > 1 (error)
    ///   Expression: `startOffset.exists() implies (frequency > 1)`
    /// - **tim-12**: Only use endOffset when frequency is present and > 1 (error)
    ///   Expression: `endOffset.exists() implies (frequency > 1)`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children or both", expr="hasValue() or (children().count() > id.count())", path="Timing.repeat")]
    #[fhir_invariant(key="tim-1", severity="error", human="if there's a duration, there needs to be duration units", expr="duration.empty() or durationUnit.exists()", path="Timing.repeat")]
    #[fhir_invariant(key="tim-2", severity="error", human="if there's a period, there needs to be period units", expr="period.empty() or periodUnit.exists()", path="Timing.repeat")]
    #[fhir_invariant(key="tim-4", severity="error", human="duration SHALL be a non-negative value", expr="duration.exists() implies duration >= 0", path="Timing.repeat")]
    #[fhir_invariant(key="tim-5", severity="error", human="period SHALL be a non-negative value", expr="period.exists() implies period >= 0", path="Timing.repeat")]
    #[fhir_invariant(key="tim-6", severity="error", human="If there's a periodMax, there must be a period", expr="periodMax.empty() or period.exists()", path="Timing.repeat")]
    #[fhir_invariant(key="tim-7", severity="error", human="If there's a durationMax, there must be a duration", expr="durationMax.empty() or duration.exists()", path="Timing.repeat")]
    #[fhir_invariant(key="tim-8", severity="error", human="If there's a countMax, there must be a count", expr="countMax.empty() or count.exists()", path="Timing.repeat")]
    #[fhir_invariant(key="tim-9", severity="error", human="If there's an offset, there must be a when (and not C, CM, CD, CV)", expr="offset.empty() or (when.exists() and when.select($this in ('C' | 'CM' | 'CD' | 'CV')).allFalse())", path="Timing.repeat")]
    #[fhir_invariant(key="tim-10", severity="error", human="If there's a timeOfDay, there cannot be a when, or vice versa", expr="timeOfDay.empty() or when.empty()", path="Timing.repeat")]
    #[fhir_invariant(key="tim-11", severity="error", human="Only use startOffset when frequency is present and > 1", expr="startOffset.exists() implies (frequency > 1)", path="Timing.repeat")]
    #[fhir_invariant(key="tim-12", severity="error", human="Only use endOffset when frequency is present and > 1", expr="endOffset.exists() implies (frequency > 1)", path="Timing.repeat")]
    pub repeat: Option<TimingRepeat>,
    /// C | BID | TID | QID | AM | PM | QD | QOD | +
    /// 
    /// A code for the timing schedule (or just text in code.text). Some codes such
    /// as BID are ubiquitous, but many institutions define their own additional
    /// codes. If a code is provided, the code is understood to be a complete
    /// statement of whatever is specified in the structured timing data, and either
    /// the code or the data may be used to interpret the Timing, with the exception
    /// that .repeat.bounds still applies over the code (and is not contained in the
    /// code).
    /// 
    /// ## Implementation Notes
    /// BID etc. are defined as 'at institutionally specified times'. For example, an
    /// institution may choose that BID is "always at 7am and 6pm". If it is
    /// inappropriate for this choice to be made, the code BID should not be used.
    /// Instead, a distinct organization-specific code should be used in place of the
    /// HL7-defined BID code and/or a structured representation should be used (in
    /// this case, specifying the two event times).
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: preferred
    /// - **Description**: Code for a known / defined timing pattern.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/timing-abbreviation
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Timing.code")]
    pub code: Option<CodeableConcept>,
}

/// Choice of types for the bounds\[x\] field in TimingRepeat
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath)]
#[fhir_choice_element(base_name = "bounds")]
pub enum TimingRepeatBounds {
    /// Variant accepting the Duration type.
    #[fhir_serde(rename = "boundsDuration")]
    Duration(Duration),
    /// Variant accepting the Range type.
    #[fhir_serde(rename = "boundsRange")]
    Range(Range),
    /// Variant accepting the Period type.
    #[fhir_serde(rename = "boundsPeriod")]
    Period(Period),
}

/// When the event is to occur
/// 
/// A set of rules that describe when the event is scheduled.
/// 
/// ## Requirements
/// Many timing schedules are determined by regular repetitions.
/// 
/// ## Cardinality: Optional (0..1)
/// 
/// ## Special Semantics
/// - Included in summary
/// 
/// ## Constraints
/// - **ele-1**: All FHIR elements must have a @value or children or both (error)
///   Expression: `hasValue() or (children().count() > id.count())`
/// - **tim-1**: if there's a duration, there needs to be duration units (error)
///   Expression: `duration.empty() or durationUnit.exists()`
/// - **tim-2**: if there's a period, there needs to be period units (error)
///   Expression: `period.empty() or periodUnit.exists()`
/// - **tim-4**: duration SHALL be a non-negative value (error)
///   Expression: `duration.exists() implies duration \>= 0`
/// - **tim-5**: period SHALL be a non-negative value (error)
///   Expression: `period.exists() implies period \>= 0`
/// - **tim-6**: If there's a periodMax, there must be a period (error)
///   Expression: `periodMax.empty() or period.exists()`
/// - **tim-7**: If there's a durationMax, there must be a duration (error)
///   Expression: `durationMax.empty() or duration.exists()`
/// - **tim-8**: If there's a countMax, there must be a count (error)
///   Expression: `countMax.empty() or count.exists()`
/// - **tim-9**: If there's an offset, there must be a when (and not C, CM, CD, CV) (error)
///   Expression: `offset.empty() or (when.exists() and when.select($this in ('C' | 'CM' | 'CD' | 'CV')).allFalse())`
/// - **tim-10**: If there's a timeOfDay, there cannot be a when, or vice versa (error)
///   Expression: `timeOfDay.empty() or when.empty()`
/// - **tim-11**: Only use startOffset when frequency is present and > 1 (error)
///   Expression: `startOffset.exists() implies (frequency > 1)`
/// - **tim-12**: Only use endOffset when frequency is present and > 1 (error)
///   Expression: `endOffset.exists() implies (frequency > 1)`
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath, Default, FhirValidate)]
#[fhir_resource(choice_elements = "bounds")]
#[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children or both", expr="hasValue() or (children().count() > id.count())", path="Timing.repeat")]
#[fhir_invariant(key="tim-1", severity="error", human="if there's a duration, there needs to be duration units", expr="duration.empty() or durationUnit.exists()", path="Timing.repeat")]
#[fhir_invariant(key="tim-2", severity="error", human="if there's a period, there needs to be period units", expr="period.empty() or periodUnit.exists()", path="Timing.repeat")]
#[fhir_invariant(key="tim-4", severity="error", human="duration SHALL be a non-negative value", expr="duration.exists() implies duration >= 0", path="Timing.repeat")]
#[fhir_invariant(key="tim-5", severity="error", human="period SHALL be a non-negative value", expr="period.exists() implies period >= 0", path="Timing.repeat")]
#[fhir_invariant(key="tim-6", severity="error", human="If there's a periodMax, there must be a period", expr="periodMax.empty() or period.exists()", path="Timing.repeat")]
#[fhir_invariant(key="tim-7", severity="error", human="If there's a durationMax, there must be a duration", expr="durationMax.empty() or duration.exists()", path="Timing.repeat")]
#[fhir_invariant(key="tim-8", severity="error", human="If there's a countMax, there must be a count", expr="countMax.empty() or count.exists()", path="Timing.repeat")]
#[fhir_invariant(key="tim-9", severity="error", human="If there's an offset, there must be a when (and not C, CM, CD, CV)", expr="offset.empty() or (when.exists() and when.select($this in ('C' | 'CM' | 'CD' | 'CV')).allFalse())", path="Timing.repeat")]
#[fhir_invariant(key="tim-10", severity="error", human="If there's a timeOfDay, there cannot be a when, or vice versa", expr="timeOfDay.empty() or when.empty()", path="Timing.repeat")]
#[fhir_invariant(key="tim-11", severity="error", human="Only use startOffset when frequency is present and > 1", expr="startOffset.exists() implies (frequency > 1)", path="Timing.repeat")]
#[fhir_invariant(key="tim-12", severity="error", human="Only use endOffset when frequency is present and > 1", expr="endOffset.exists() implies (frequency > 1)", path="Timing.repeat")]
pub struct TimingRepeat {
    /// Unique id for inter-element referencing
    /// 
    /// Unique id for the element within a resource (for internal references). This
    /// may be any string value that does not contain spaces.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Conditions
    /// Used when: ele-1
    pub id: Option<String>,
    /// Additional content defined by implementations
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element. To make the use of extensions safe and managable,
    /// there is a strict set of governance applied to the definition and use of
    /// extensions. Though any implementer can define an extension, there is a set of
    /// requirements that SHALL be met as part of the definition of the extension.
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Aliases
    /// extensions, user content
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Timing.repeat.extension")]
    pub extension: Option<Vec<Extension>>,
    /// Length/Range of lengths, or (Start and/or end) limits
    /// 
    /// Either a duration for the length of the timing schedule, a range of possible
    /// length, or outer bounds for start and/or end limits of the timing schedule.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Timing.repeat.bounds[x]")]
    #[fhir_serde(flatten)]
    pub bounds: Option<TimingRepeatBounds>,
    /// Number of times to repeat
    /// 
    /// A total count of the desired number of repetitions across the duration of the
    /// entire timing specification. If countMax is present, this element indicates
    /// the lower bound of the allowed range of count values.
    /// 
    /// ## Requirements
    /// Repetitions may be limited by end time or total occurrences.
    /// 
    /// ## Implementation Notes
    /// If you have both bounds and count, then this should be understood as within
    /// the bounds period, until count times happens.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Conditions
    /// Used when: tim-8
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Timing.repeat.count")]
    pub count: Option<PositiveInt>,
    /// Maximum number of times to repeat
    /// 
    /// If present, indicates that the count is a range - so to perform the action
    /// between [count] and [countMax] times.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Conditions
    /// Used when: tim-8
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Timing.repeat.countMax")]
    #[fhir_serde(rename = "countMax")]
    pub count_max: Option<PositiveInt>,
    /// How long when it happens
    /// 
    /// How long this thing happens for when it happens. If durationMax is present,
    /// this element indicates the lower bound of the allowed range of the duration.
    /// 
    /// ## Requirements
    /// Some activities are not instantaneous and need to be maintained for a period
    /// of time.
    /// 
    /// ## Implementation Notes
    /// For some events the duration is part of the definition of the event (e.g. IV
    /// infusions, where the duration is implicit in the specified quantity and
    /// rate). For others, it's part of the timing specification (e.g. exercise).
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Conditions
    /// Used when: tim-7, tim-1, tim-4
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Timing.repeat.duration")]
    pub duration: Option<Decimal>,
    /// How long when it happens (Max)
    /// 
    /// If present, indicates that the duration is a range - so to perform the action
    /// between [duration] and [durationMax] time length.
    /// 
    /// ## Requirements
    /// Some activities are not instantaneous and need to be maintained for a period
    /// of time.
    /// 
    /// ## Implementation Notes
    /// For some events the duration is part of the definition of the event (e.g. IV
    /// infusions, where the duration is implicit in the specified quantity and
    /// rate). For others, it's part of the timing specification (e.g. exercise).
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Conditions
    /// Used when: tim-7
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Timing.repeat.durationMax")]
    #[fhir_serde(rename = "durationMax")]
    pub duration_max: Option<Decimal>,
    /// s | min | h | d | wk | mo | a - unit of time (UCUM)
    /// 
    /// The units of time for the duration, in UCUM units
    /// Normal practice is to use the 'mo' code as a calendar month when calculating
    /// the next occurrence.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: required
    /// - **Description**: A unit of time (units from UCUM).
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/units-of-time|6.0.0-ballot3
    /// 
    /// ## Conditions
    /// Used when: tim-1
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Timing.repeat.durationUnit")]
    #[fhir_serde(rename = "durationUnit")]
    pub duration_unit: Option<Code>,
    /// Indicates the number of repetitions that should occur within a period. I.e. Event occurs frequency times per period
    /// 
    /// The number of times to repeat the action within the specified period. If
    /// frequencyMax is present, this element indicates the lower bound of the
    /// allowed range of the frequency.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// - When missing: If no frequency is stated, the assumption is that the event occurs once per period, but systems SHOULD always be specific about this
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Timing.repeat.frequency")]
    pub frequency: Option<PositiveInt>,
    /// Event occurs up to frequencyMax times per period
    /// 
    /// If present, indicates that the frequency is a range - so to repeat between
    /// [frequency] and [frequencyMax] times within the period or period range.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Timing.repeat.frequencyMax")]
    #[fhir_serde(rename = "frequencyMax")]
    pub frequency_max: Option<PositiveInt>,
    /// The duration to which the frequency applies. I.e. Event occurs frequency times per period
    /// 
    /// Indicates the duration of time over which repetitions are to occur; e.g. to
    /// express "3 times per day", 3 would be the frequency and "1 day" would be the
    /// period. If periodMax is present, this element indicates the lower bound of
    /// the allowed range of the period length.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Conditions
    /// Used when: tim-6, tim-5, tim-2
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Timing.repeat.period")]
    pub period: Option<Decimal>,
    /// Upper limit of period (3-4 hours)
    /// 
    /// If present, indicates that the period is a range from [period] to
    /// [periodMax], allowing expressing concepts such as "do this once every 3-5
    /// days.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Conditions
    /// Used when: tim-6
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Timing.repeat.periodMax")]
    #[fhir_serde(rename = "periodMax")]
    pub period_max: Option<Decimal>,
    /// s | min | h | d | wk | mo | a - unit of time (UCUM)
    /// 
    /// The units of time for the period in UCUM units
    /// Normal practice is to use the 'mo' code as a calendar month when calculating
    /// the next occurrence.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: required
    /// - **Description**: A unit of time (units from UCUM).
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/units-of-time|6.0.0-ballot3
    /// 
    /// ## Conditions
    /// Used when: tim-2
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Timing.repeat.periodUnit")]
    #[fhir_serde(rename = "periodUnit")]
    pub period_unit: Option<Code>,
    /// Events within the repeat period do not start until startOffset has elapsed
    /// 
    /// Indicates that the events within the period of the repeat do not start until
    /// startOffset has elapsed.
    /// 
    /// ## Implementation Notes
    /// This element is defined to support interlaced schedules, e.g. for different
    /// actions that happen on different days, but that have repeat cycles that are
    /// tied together by the context. This is a usually encountered in Dosages.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Timing.repeat.startOffset")]
    #[fhir_serde(rename = "startOffset")]
    pub start_offset: Option<Quantity>,
    /// Events within the repeat period step once endOffset before the end of the period
    /// 
    /// Indicates that the events within the period of the repeat step endOffset
    /// before the period ends.
    /// 
    /// ## Implementation Notes
    /// This element is defined for medication schedules that cycle like 'do
    /// something for X days, and then stop for Y days'. This can only apply where
    /// the window for repeats has a defined or known end time.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Timing.repeat.endOffset")]
    #[fhir_serde(rename = "endOffset")]
    pub end_offset: Option<Quantity>,
    /// mon | tue | wed | thu | fri | sat | sun
    /// 
    /// If one or more days of week is provided, then the action happens only on the
    /// specified day(s).
    /// 
    /// ## Implementation Notes
    /// If no days are specified, the action is assumed to happen every day as
    /// otherwise specified.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: required
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/days-of-week|6.0.0-ballot3
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Timing.repeat.dayOfWeek")]
    #[fhir_serde(rename = "dayOfWeek")]
    pub day_of_week: Option<Vec<Code>>,
    /// Time of day for action
    /// 
    /// Specified time of day for action to take place.
    /// 
    /// ## Implementation Notes
    /// When time of day is specified, it is inferred that the action happens every
    /// day (as filtered by dayofWeek) on the specified times. If there's a
    /// timeOfDay, there cannot be a when, or vice versa.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Conditions
    /// Used when: tim-10
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Timing.repeat.timeOfDay")]
    #[fhir_serde(rename = "timeOfDay")]
    pub time_of_day: Option<Vec<Time>>,
    /// Code for time period of occurrence
    /// 
    /// An approximate time period during the day, potentially linked to an event of
    /// daily living that indicates when the action should occur.
    /// 
    /// ## Requirements
    /// Timings are frequently determined by occurrences such as waking, eating and
    /// sleep.
    /// 
    /// ## Implementation Notes
    /// When more than one event is listed, the event is tied to the union of the
    /// specified events.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: required
    /// - **Description**: Real-world event relating to the schedule.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/event-timing|6.0.0-ballot3
    /// 
    /// ## Conditions
    /// Used when: tim-9, tim-10
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Timing.repeat.when")]
    pub when: Option<Vec<Code>>,
    /// Minutes from event (before or after)
    /// 
    /// The number of minutes from the event. If the event code does not indicate
    /// whether the minutes is before or after the event, then the offset is assumed
    /// to be after the event.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Conditions
    /// Used when: tim-9
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Timing.repeat.offset")]
    pub offset: Option<UnsignedInt>,
}

