// AUTO-GENERATED by atrius-fhir-generator (R6 MeasureReport)
use crate::r6::*;

/// FHIR MeasureReport type
/// 
/// The MeasureReport resource contains the results of the calculation of a
/// measure; and optionally a reference to the resources involved in that
/// calculation.
/// 
/// ## Type: Resource type
/// Base type: http://hl7.org/fhir/StructureDefinition/DomainResource
/// 
/// ## Status: active
/// FHIR Version: 6.0.0-ballot3
/// 
/// See: [MeasureReport](http://hl7.org/fhir/StructureDefinition/MeasureReport)
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath, Default, FhirValidate)]
#[fhir_invariant(key="dom-2", severity="error", human="If the resource is contained in another resource, it SHALL NOT contain nested Resources", expr="contained.contained.empty()", path="MeasureReport")]
#[fhir_invariant(key="dom-3", severity="error", human="If the resource is contained in another resource, it SHALL be referred to from elsewhere in the resource or SHALL refer to the containing resource", expr="contained.where((('#'+id.trace('id') in %resource.descendants().select(reference | as(uri))) or descendants().where(reference='#' | as(uri)='#').exists()).not()).trace('unmatched', id).empty()", path="MeasureReport")]
#[fhir_invariant(key="dom-4", severity="error", human="If a resource is contained in another resource, it SHALL NOT have a meta.versionId or a meta.lastUpdated", expr="contained.meta.versionId.empty() and contained.meta.lastUpdated.empty()", path="MeasureReport")]
#[fhir_invariant(key="dom-5", severity="error", human="If a resource is contained in another resource, it SHALL NOT have a security label", expr="contained.meta.security.empty()", path="MeasureReport")]
#[fhir_invariant(key="dom-6", severity="warning", human="A resource should have narrative for robust management", expr="text.`div`.exists()", path="MeasureReport")]
#[fhir_invariant(key="mrp-1", severity="error", human="Measure Reports used for data collection SHALL NOT communicate group and score information", expr="(type != 'data-exchange') or group.exists().not()", path="MeasureReport")]
#[fhir_invariant(key="mrp-2", severity="error", human="Stratifiers SHALL be either a single criteria element or a set of criteria components", expr="group.stratifier.stratum.all(value.exists() xor component.exists())", path="MeasureReport")]
pub struct MeasureReport {
    /// Logical id of this artifact
    /// 
    /// The logical id of the resource, as used in the URL for the resource. Once
    /// assigned, this value never changes.
    /// 
    /// ## Implementation Notes
    /// Within the context of the FHIR RESTful interactions, the resource has an id
    /// except for cases like the create and conditional update. Otherwise, the use
    /// of the resouce id depends on the given use case.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    pub id: Option<String>,
    /// Metadata about the resource
    /// 
    /// The metadata about the resource. This is content that is maintained by the
    /// infrastructure. Changes to the content might not always be associated with
    /// version changes to the resource.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.meta")]
    pub meta: Option<Meta>,
    /// A set of rules under which this content was created
    /// 
    /// A reference to a set of rules that were followed when the resource was
    /// constructed, and which must be understood when processing the content. Often,
    /// this is a reference to an implementation guide that defines the special rules
    /// along with other profiles etc. For DomainResources, if more than one
    /// implicitRules policy applies, additional policies may be conveyed using the
    /// [additionalImplicitRules](https://build.fhir.org/ig/HL7/fhir-extensions/StructureDefinition-additionalImplicitRules.html)
    /// extension.
    /// 
    /// ## Implementation Notes
    /// Asserting this rule set restricts the content to be only understood by a
    /// limited set of trading partners. This inherently limits the usefulness of the
    /// data in the long term. However, the existing health eco-system is highly
    /// fractured, and not yet ready to define, collect, and exchange data in a
    /// generally computable sense. Wherever possible, implementers and/or
    /// specification writers should avoid using this element. Often, when used, the
    /// URL is a reference to an implementation guide that defines these special
    /// rules as part of its narrative along with other profiles, value sets, etc.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Modifier element - This element is labeled as a modifier because the implicit rules may provide additional knowledge about the resource that modifies its meaning or interpretation
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.implicitRules")]
    #[fhir_serde(rename = "implicitRules")]
    pub implicit_rules: Option<Uri>,
    /// Language of the resource content
    /// 
    /// The base language in which the resource is written.
    /// 
    /// ## Implementation Notes
    /// Language is provided to support indexing and accessibility (typically,
    /// services such as text to speech use the language tag). The html language tag
    /// in the narrative applies to the narrative. The language tag on the resource
    /// may be used to specify the language of other presentations generated from the
    /// data in the resource. Not all the content has to be in the base language. The
    /// Resource.language should not be assumed to apply to the narrative
    /// automatically. If a language is specified, it should it also be specified on
    /// the div element in the html (see rules in HTML5 for information about the
    /// relationship between xml:lang and the html lang attribute).
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: required
    /// - **Description**: IETF language tag for a human language
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/all-languages|6.0.0-ballot3
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.language")]
    pub language: Option<Code>,
    /// Text summary of the resource, for human interpretation
    /// 
    /// A human-readable narrative that contains a summary of the resource and can be
    /// used to represent the content of the resource to a human. The narrative need
    /// not encode all the structured data, but is required to contain sufficient
    /// detail to make it "clinically safe" for a human to just read the narrative.
    /// Resource definitions may define what content should be represented in the
    /// narrative to ensure clinical safety.
    /// 
    /// ## Implementation Notes
    /// Contained resources do not have a narrative. Resources that are not contained
    /// SHOULD have a narrative. In some cases, a resource may only have text with
    /// little or no additional discrete data (as long as all minOccurs=1 elements
    /// are satisfied). This may be necessary for data from legacy systems where
    /// information is captured as a "text blob" or where text is additionally
    /// entered raw or narrated and encoded information is added later.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Aliases
    /// narrative, html, xhtml, display
    /// 
    /// ## Conditions
    /// Used when: dom-6
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.text")]
    pub text: Option<Narrative>,
    /// Contained, inline Resources
    /// 
    /// These resources do not have an independent existence apart from the resource
    /// that contains them - they cannot be identified independently, nor can they
    /// have their own independent transaction scope. This is allowed to be a
    /// Parameters resource if and only if it is referenced by a resource that
    /// provides context/meaning.
    /// 
    /// ## Implementation Notes
    /// This should never be done when the content can be identified properly, as
    /// once identification is lost, it is extremely difficult (and context
    /// dependent) to restore it again. Contained resources may have profiles and
    /// tags in their meta elements, but SHALL NOT have security labels. Contained
    /// resources may be a resource type defined in the FHIR specification, or an
    /// [additional resource](resource.html#additional).
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Aliases
    /// inline resources, anonymous resources, contained resources
    /// 
    /// ## Conditions
    /// Used when: dom-2, dom-4, dom-3, dom-5
    pub contained: Option<Vec<Resource>>,
    /// Additional content defined by implementations
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the resource. To make the use of extensions safe and managable,
    /// there is a strict set of governance applied to the definition and use of
    /// extensions. Though any implementer can define an extension, there is a set of
    /// requirements that SHALL be met as part of the definition of the extension.
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Aliases
    /// extensions, user content
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.extension")]
    pub extension: Option<Vec<Extension>>,
    /// Extensions that cannot be ignored
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the resource and that modifies the understanding of the element
    /// that contains it and/or the understanding of the containing element's
    /// descendants. Usually modifier elements provide negation or qualification. To
    /// make the use of extensions safe and managable, there is a strict set of
    /// governance applied to the definition and use of extensions. Though any
    /// implementer is allowed to define an extension, there is a set of requirements
    /// that SHALL be met as part of the definition of the extension. Applications
    /// processing a resource are required to check for modifier extensions.
    /// 
    /// Modifier extensions SHALL NOT change the meaning of any elements on Resource
    /// or DomainResource (including cannot change the meaning of modifierExtension
    /// itself).
    /// 
    /// ## Requirements
    /// Modifier extensions allow for extensions that *cannot* be safely ignored to
    /// be clearly distinguished from the vast majority of extensions which can be
    /// safely ignored. This promotes interoperability by eliminating the need for
    /// implementers to prohibit the presence of extensions. For further information,
    /// see the [definition of modifier
    /// extensions](extensibility.html#modifierExtension).
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Modifier element - Modifier extensions are expected to modify the meaning or interpretation of the resource that contains them
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Aliases
    /// extensions, user content
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.modifierExtension")]
    #[fhir_serde(rename = "modifierExtension")]
    pub modifier_extension: Option<Vec<Extension>>,
    /// Additional identifier for the MeasureReport
    /// 
    /// A formal identifier that is used to identify this MeasureReport when it is
    /// represented in other formats or referenced in a specification, model, design
    /// or an instance.
    /// 
    /// ## Requirements
    /// Allows externally provided and/or usable business identifiers to be easily
    /// associated with the module.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.identifier")]
    pub identifier: Option<Vec<Identifier>>,
    /// The category of measure report instance this is (example codes include deqm, ra, vbp)
    /// 
    /// The category of measure report instance this is such as Data Exchange for
    /// Quality Measures (DEQM), Risk Adjustment, or Value-Based Performance.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: extensible
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/measurereport-category
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.category")]
    pub category: Option<CodeableConcept>,
    /// Evaluation messages
    /// 
    /// A reference to an OperationOutcome that contains any information, warning,
    /// and/or error messages that were generated while processing an operation such
    /// as $evaluate.
    /// 
    /// ## Implementation Notes
    /// Operation processing often generates information, warning, or error messages
    /// that don't necessarily stop processing (so would not result in an
    /// OperationOutcome as the overall result of the operation) but still need to be
    /// communicated as part of the result. This element allows for these messages to
    /// be included as a reference to an OperationOutcome resource (typically
    /// included as a contained resource in the result of the operation).
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.messages")]
    pub messages: Option<Reference>,
    /// complete | pending | error
    /// 
    /// The MeasureReport status. No data will be available until the MeasureReport
    /// status is complete.
    /// 
    /// ## Implementation Notes
    /// This element is labeled as a modifier because the status contains codes that
    /// mark the resource as not currently valid.
    /// 
    /// ## Cardinality: Required (1..1)
    /// 
    /// ## Special Semantics
    /// - Modifier element - This element is labelled as a modifier because it is a status element that contains status entered-in-error which means that the resource should not be treated as valid
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: required
    /// - **Description**: The status of the measure report (e.g. complete, pending, or error)
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/measure-report-status|6.0.0-ballot3
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.status")]
    pub status: Code,
    /// individual | subject-list | summary | data-exchange
    /// 
    /// The type of measure report. This may be an individual report, which provides
    /// the score for the measure for an individual member of the population; a
    /// subject-listing, which returns the list of members that meet the various
    /// criteria in the measure; a summary report, which returns a population count
    /// for each of the criteria in the measure; or a data-collection, which enables
    /// the MeasureReport to be used to exchange the data-of-interest for a quality
    /// measure.
    /// 
    /// ## Implementation Notes
    /// Data-exchange reports are used only to communicate data-of-interest for a
    /// measure. They do not necessarily include all the data for a particular
    /// subject or population, but they may.
    /// 
    /// ## Cardinality: Required (1..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: required
    /// - **Description**: The type of the measure report: individual, patient listing, or summary
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/measure-report-type|6.0.0-ballot3
    /// 
    /// ## Conditions
    /// Used when: mrp-1
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.type")]
    #[fhir_serde(rename = "type")]
    pub r#type: Code,
    /// incremental | snapshot
    /// 
    /// Indicates whether the data submitted in a data-exchange report represents a
    /// snapshot or incremental update. A snapshot update replaces all previously
    /// submitted data for the receiver, whereas an incremental update represents
    /// only updated and/or changed data and should be applied as a differential
    /// update to the existing submitted data for the receiver.
    /// 
    /// ## Requirements
    /// Allows receiving systems to support incremental exchange of data, reducing
    /// overall bandwidth requirements.
    /// 
    /// ## Implementation Notes
    /// This element only applies to Data-collection reports used to communicate the
    /// data-of-interest for a measure
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Modifier element - This element determines whether the data in a data-exchange measure report is a snapshot or incremental update and is required in order to correctly apply the data update to a receiving system
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: required
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/submit-data-update-type|6.0.0-ballot3
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.dataUpdateType")]
    #[fhir_serde(rename = "dataUpdateType")]
    pub data_update_type: Option<Code>,
    /// What measure was calculated
    /// 
    /// A reference to the Measure that was calculated to produce this report.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.measure")]
    pub measure: Option<Canonical>,
    /// What individual(s) the report is for
    /// 
    /// Optional subject identifying the individual or individuals the report is for.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.subject")]
    pub subject: Option<Reference>,
    /// When the measure report was generated
    /// 
    /// The date this measure report was generated.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.date")]
    pub date: Option<DateTime>,
    /// Who is reporting the data
    /// 
    /// The individual or organization that is reporting the data.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.reporter")]
    pub reporter: Option<Reference>,
    /// What vendor prepared the data
    /// 
    /// A reference to the vendor who queried the data, calculated results and/or
    /// generated the report. The ‘reporting vendor’ is intended to represent the
    /// submitting entity when it is not the same as the reporting entity. This
    /// extension is used when the Receiver is interested in getting vendor
    /// information in the report.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.reportingVendor")]
    #[fhir_serde(rename = "reportingVendor")]
    pub reporting_vendor: Option<Reference>,
    /// Where the reported data is from
    /// 
    /// A reference to the location for which the data is being reported.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.location")]
    pub location: Option<Vec<Reference>>,
    /// What period the report covers
    /// 
    /// The reporting period for which the report was calculated.
    /// 
    /// ## Cardinality: Required (1..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.period")]
    pub period: Period,
    /// What parameters were provided to the report
    /// 
    /// A reference to a Parameters resource (typically represented using a contained
    /// resource) that represents any input parameters that were provided to the
    /// operation that generated the report. If the input parameter includes
    /// stratifiers, then the MeasureReport SHALL include the input parameters.
    /// 
    /// ## Implementation Notes
    /// Whenever an operation returns a MeasureReport, the IN parameters from that
    /// operation can be returned to the caller of the operation using
    /// MeasureReport.inputParameters. Operations include but are not limited to
    /// $evaluate-measure, $care-gaps, $data-requirements, and $collect-data. The
    /// inputParameters can also be used in a MeasureReport used to define a test
    /// case (i.e., not as a result of an operation).
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.inputParameters")]
    #[fhir_serde(rename = "inputParameters")]
    pub input_parameters: Option<Reference>,
    /// Measure results for each group
    /// 
    /// The results of the calculation, one for each population group in the measure.
    /// A MeasureReport SHALL have a group element corresponding to each group
    /// element defined in the Measure being reported.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children or both (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Conditions
    /// Used when: mrp-2, mrp-1
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children or both", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.group")]
    pub group: Option<Vec<MeasureReportGroup>>,
    /// Additional information collected for the report
    /// 
    /// A reference to a Resource that represents additional information collected
    /// for the report. If the value of the supplemental data is not a Resource (i.e.
    /// evaluating the supplementalData expression for this case in the measure
    /// results in a value that is not a FHIR Resource), it is reported as a
    /// reference to a contained Observation resource.
    /// 
    /// ## Implementation Notes
    /// For individual measure reports, the supplementalData elements represent the
    /// direct result of evaluating the supplementalData expression for the subject
    /// of the report. For summary reports, supplementalData is reported as
    /// references to contained Observation resources that represent the number of
    /// times each value appeared as a supplementalData result for members of the
    /// population.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.supplementalData")]
    #[fhir_serde(rename = "supplementalData")]
    pub supplemental_data: Option<Vec<Reference>>,
    /// What data was used to calculate the measure score
    /// 
    /// Evaluated resources are used to capture what data was involved in the
    /// calculation of a measure. This usage is only allowed for individual reports
    /// to ensure that the size of the MeasureReport resource is bounded.
    /// 
    /// ## Implementation Notes
    /// Evaluated resources are only reported for individual reports.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.evaluatedResource")]
    #[fhir_serde(rename = "evaluatedResource")]
    pub evaluated_resource: Option<Vec<Reference>>,
}

/// Choice of types for the measureScore\[x\] field in MeasureReportGroup
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath)]
#[fhir_choice_element(base_name = "measureScore")]
pub enum MeasureReportGroupMeasureScore {
    /// Variant accepting the Quantity type.
    #[fhir_serde(rename = "measureScoreQuantity")]
    Quantity(Quantity),
    /// Variant accepting the DateTime type.
    #[fhir_serde(rename = "measureScoreDateTime")]
    DateTime(DateTime),
    /// Variant accepting the CodeableConcept type.
    #[fhir_serde(rename = "measureScoreCodeableConcept")]
    CodeableConcept(CodeableConcept),
    /// Variant accepting the Period type.
    #[fhir_serde(rename = "measureScorePeriod")]
    Period(Period),
    /// Variant accepting the Range type.
    #[fhir_serde(rename = "measureScoreRange")]
    Range(Range),
    /// Variant accepting the Duration type.
    #[fhir_serde(rename = "measureScoreDuration")]
    Duration(Duration),
    /// Variant accepting the Boolean type.
    #[fhir_serde(rename = "measureScoreBoolean")]
    Boolean(Boolean),
    /// Variant accepting the Ratio type.
    #[fhir_serde(rename = "measureScoreRatio")]
    Ratio(Ratio),
}

/// Measure results for each group
/// 
/// The results of the calculation, one for each population group in the measure.
/// A MeasureReport SHALL have a group element corresponding to each group
/// element defined in the Measure being reported.
/// 
/// ## Cardinality: Optional, Multiple (0..*)
/// 
/// ## Constraints
/// - **ele-1**: All FHIR elements must have a @value or children or both (error)
///   Expression: `hasValue() or (children().count() > id.count())`
/// 
/// ## Conditions
/// Used when: mrp-2, mrp-1
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath, Default, FhirValidate)]
#[fhir_resource(choice_elements = "measureScore")]
#[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children or both", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.group")]
pub struct MeasureReportGroup {
    /// Unique id for inter-element referencing
    /// 
    /// Unique id for the element within a resource (for internal references). This
    /// may be any string value that does not contain spaces.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Conditions
    /// Used when: ele-1
    pub id: Option<String>,
    /// Additional content defined by implementations
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element. To make the use of extensions safe and managable,
    /// there is a strict set of governance applied to the definition and use of
    /// extensions. Though any implementer can define an extension, there is a set of
    /// requirements that SHALL be met as part of the definition of the extension.
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Aliases
    /// extensions, user content
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.group.extension")]
    pub extension: Option<Vec<Extension>>,
    /// Extensions that cannot be ignored even if unrecognized
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element and that modifies the understanding of the element
    /// in which it is contained and/or the understanding of the containing element's
    /// descendants. Usually modifier elements provide negation or qualification. To
    /// make the use of extensions safe and managable, there is a strict set of
    /// governance applied to the definition and use of extensions. Though any
    /// implementer can define an extension, there is a set of requirements that
    /// SHALL be met as part of the definition of the extension. Applications
    /// processing a resource are required to check for modifier extensions.
    /// 
    /// Modifier extensions SHALL NOT change the meaning of any elements on Resource
    /// or DomainResource (including cannot change the meaning of modifierExtension
    /// itself).
    /// 
    /// ## Requirements
    /// Modifier extensions allow for extensions that *cannot* be safely ignored to
    /// be clearly distinguished from the vast majority of extensions which can be
    /// safely ignored. This promotes interoperability by eliminating the need for
    /// implementers to prohibit the presence of extensions. For further information,
    /// see the [definition of modifier
    /// extensions](extensibility.html#modifierExtension).
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Modifier element - Modifier extensions are expected to modify the meaning or interpretation of the element that contains them
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Aliases
    /// extensions, user content, modifiers
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.group.modifierExtension")]
    #[fhir_serde(rename = "modifierExtension")]
    pub modifier_extension: Option<Vec<Extension>>,
    /// Pointer to specific group from Measure
    /// 
    /// The group from the Measure that corresponds to this group in the
    /// MeasureReport resource. This element SHALL be populated based on the
    /// corresponding element in the Measure being reported.
    /// 
    /// ## Implementation Notes
    /// Note that in previous versions of FHIR, the id element was used to determine
    /// corresponding groups between Measure and MeasureReport. Systems MAY support
    /// this for backwards-compatibility.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.group.linkId")]
    #[fhir_serde(rename = "linkId")]
    pub link_id: Option<String>,
    /// Title of a group. Note- this value is copied from this element in Measure
    /// 
    /// Indicates the title for of the group.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.group.title")]
    pub title: Option<String>,
    /// The date the Measure Report was calculated
    /// 
    /// The date the Measure Report was calculated.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.group.calculatedDate")]
    #[fhir_serde(rename = "calculatedDate")]
    pub calculated_date: Option<DateTime>,
    /// Meaning of the group
    /// 
    /// The meaning of the population group as defined in the measure definition.
    /// This element SHALL be populated with at least the codings in the code of the
    /// corresponding group in the Measure being reported.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: Example of measure groups.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/measure-group-example
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.group.code")]
    pub code: Option<CodeableConcept>,
    /// Summary description
    /// 
    /// The human readable description of this population group. This element SHOULD
    /// be populated based on the description of the corresponding group in the
    /// Measure being reported.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.group.description")]
    pub description: Option<Markdown>,
    /// process | outcome | structure | patient-reported-outcome
    /// 
    /// Indicates whether the measure is used to examine a process, an outcome over
    /// time, a patient-reported outcome, or a structure measure such as utilization.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: extensible
    /// - **Description**: The type of measure (includes codes from 2.16.840.1.113883.1.11.20368).
    /// - **ValueSet**: http://terminology.hl7.org/ValueSet/measure-type
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.group.type")]
    #[fhir_serde(rename = "type")]
    pub r#type: Option<CodeableConcept>,
    /// What individual(s) the report is for
    /// 
    /// Optional subject identifying the individual or individuals the report is for.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.group.subject")]
    pub subject: Option<Reference>,
    /// What scoring method (e.g. proportion, ratio, continuous-variable)
    /// 
    /// Indicates how the calculation is performed for the measure, including
    /// proportion, ratio, continuous-variable, and cohort. The value set is
    /// extensible, allowing additional measure scoring types to be represented. It
    /// is expected to be the same as the scoring element on the referenced Measure.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Modifier element - Scoring determines what method was used to calculate the measure score and is required for correct interpretation of the score
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: extensible
    /// - **ValueSet**: http://terminology.hl7.org/ValueSet/measure-scoring
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.group.scoring")]
    pub scoring: Option<CodeableConcept>,
    /// increase | decrease
    /// 
    /// Whether improvement in the measure is noted by an increase or decrease in the
    /// measure score. Exercise caution when using any values besides increase or
    /// decrease for improvementNotation.
    /// 
    /// ## Implementation Notes
    /// This element is typically defined by the measure, but reproduced here to
    /// ensure the measure score can be interpreted. The element is labeled as a
    /// modifier because it changes the interpretation of the reported measure score.
    /// Note also that a MeasureReport instance includes the improvementNotation as
    /// defined by the Measure being reported. It is duplicated in the MeasureReport
    /// because it is a critical aspect of interpreting the measure score but it is
    /// not intended to reflect whether the measure report is an increase or
    /// decrease. It helps interpret if the measure score is an increase or decrease,
    /// I.e., moving in the direction of the desired outcome. This element SHALL be
    /// populated based on the improvementNotation element of the corresponding group
    /// in the Measure being reported.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Modifier element - Improvement notation determines how to interpret the measure score (i.e. whether an increase is an improvement)
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: extensible
    /// - **Description**: The improvement notation of the measure report (e.g. increase or decrease)
    /// - **ValueSet**: http://terminology.hl7.org/ValueSet/measure-improvement-notation
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.group.improvementNotation")]
    #[fhir_serde(rename = "improvementNotation")]
    pub improvement_notation: Option<CodeableConcept>,
    /// Explanation of improvement notation
    /// 
    /// Narrative text to explain the improvement notation and how to interpret it.
    /// 
    /// ## Implementation Notes
    /// This element allows explanation to the improvementNotation be provided. In
    /// some cases, additional guidance is required to clearly communicate measure
    /// intent around improvement notation. For example, a measure looking at
    /// Ceasarean-section births may have an improvement notation of “decrease”,
    /// but it is critical to be able to communicate that a measure score of 0 is not
    /// the intent.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.group.improvementNotationGuidance")]
    #[fhir_serde(rename = "improvementNotationGuidance")]
    pub improvement_notation_guidance: Option<Markdown>,
    /// The populations in the group
    /// 
    /// The populations that make up the population group, one for each type of
    /// population appropriate for the measure. Each group in the MeasureReport SHALL
    /// have populations as defined in the corresponding group of the Measure being
    /// reported.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children or both (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **mrp-3**: The count and countQuantity elements SHALL be mutually exclusive (error)
    ///   Expression: `count.exists() xor countQuantity.exists()`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children or both", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.group.population")]
    #[fhir_invariant(key="mrp-3", severity="error", human="The count and countQuantity elements SHALL be mutually exclusive", expr="count.exists() xor countQuantity.exists()", path="MeasureReport.group.population")]
    pub population: Option<Vec<MeasureReportGroupPopulation>>,
    /// What score this group achieved
    /// 
    /// The measure score for this population group, calculated as appropriate for
    /// the measure type and scoring method, and based on the contents of the
    /// populations defined in the group.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.group.measureScore[x]")]
    #[fhir_serde(flatten)]
    pub measure_score: Option<MeasureReportGroupMeasureScore>,
    /// Stratification results
    /// 
    /// The stratification results for this measure group, calculated as defined by
    /// the stratifier element of the measure being reported. Each group in the
    /// MeasureReport SHALL have stratifiers as defined in the corresponding group of
    /// the Measure being reported.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children or both (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Conditions
    /// Used when: mrp-2
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children or both", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.group.stratifier")]
    pub stratifier: Option<Vec<MeasureReportGroupStratifier>>,
}

/// The populations in the group
/// 
/// The populations that make up the population group, one for each type of
/// population appropriate for the measure. Each group in the MeasureReport SHALL
/// have populations as defined in the corresponding group of the Measure being
/// reported.
/// 
/// ## Cardinality: Optional, Multiple (0..*)
/// 
/// ## Constraints
/// - **ele-1**: All FHIR elements must have a @value or children or both (error)
///   Expression: `hasValue() or (children().count() > id.count())`
/// - **mrp-3**: The count and countQuantity elements SHALL be mutually exclusive (error)
///   Expression: `count.exists() xor countQuantity.exists()`
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath, Default, FhirValidate)]
#[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children or both", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.group.population")]
#[fhir_invariant(key="mrp-3", severity="error", human="The count and countQuantity elements SHALL be mutually exclusive", expr="count.exists() xor countQuantity.exists()", path="MeasureReport.group.population")]
pub struct MeasureReportGroupPopulation {
    /// Unique id for inter-element referencing
    /// 
    /// Unique id for the element within a resource (for internal references). This
    /// may be any string value that does not contain spaces.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Conditions
    /// Used when: ele-1
    pub id: Option<String>,
    /// Additional content defined by implementations
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element. To make the use of extensions safe and managable,
    /// there is a strict set of governance applied to the definition and use of
    /// extensions. Though any implementer can define an extension, there is a set of
    /// requirements that SHALL be met as part of the definition of the extension.
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Aliases
    /// extensions, user content
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.group.population.extension")]
    pub extension: Option<Vec<Extension>>,
    /// Extensions that cannot be ignored even if unrecognized
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element and that modifies the understanding of the element
    /// in which it is contained and/or the understanding of the containing element's
    /// descendants. Usually modifier elements provide negation or qualification. To
    /// make the use of extensions safe and managable, there is a strict set of
    /// governance applied to the definition and use of extensions. Though any
    /// implementer can define an extension, there is a set of requirements that
    /// SHALL be met as part of the definition of the extension. Applications
    /// processing a resource are required to check for modifier extensions.
    /// 
    /// Modifier extensions SHALL NOT change the meaning of any elements on Resource
    /// or DomainResource (including cannot change the meaning of modifierExtension
    /// itself).
    /// 
    /// ## Requirements
    /// Modifier extensions allow for extensions that *cannot* be safely ignored to
    /// be clearly distinguished from the vast majority of extensions which can be
    /// safely ignored. This promotes interoperability by eliminating the need for
    /// implementers to prohibit the presence of extensions. For further information,
    /// see the [definition of modifier
    /// extensions](extensibility.html#modifierExtension).
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Modifier element - Modifier extensions are expected to modify the meaning or interpretation of the element that contains them
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Aliases
    /// extensions, user content, modifiers
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.group.population.modifierExtension")]
    #[fhir_serde(rename = "modifierExtension")]
    pub modifier_extension: Option<Vec<Extension>>,
    /// Pointer to specific population from Measure
    /// 
    /// The population from the Measure that corresponds to this population in the
    /// MeasureReport resource. This element SHALL be populated based on the
    /// corresponding element in the Measure being reported.
    /// 
    /// ## Implementation Notes
    /// Note that in previous versions of FHIR, the id element was used to determine
    /// corresponding populations between Measure and MeasureReport. Systems MAY
    /// support this for backwards-compatibility.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.group.population.linkId")]
    #[fhir_serde(rename = "linkId")]
    pub link_id: Option<String>,
    /// Title of a group. Note- this value is copied from this element in Measure
    /// 
    /// Indicates the title for of the group's population.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.group.population.title")]
    pub title: Option<String>,
    /// initial-population | numerator | numerator-exclusion | denominator | denominator-exclusion | denominator-exception | measure-population | measure-population-exclusion | measure-observation
    /// 
    /// The type of the population. This element SHALL be populated with at least the
    /// codings in the code element of the corresponding population in the Measure
    /// group being reported.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: extensible
    /// - **Description**: The type of population (e.g. initial, numerator, denominator, etc.).
    /// - **ValueSet**: http://terminology.hl7.org/ValueSet/measure-population
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.group.population.code")]
    pub code: Option<CodeableConcept>,
    /// The human readable description of this population criteria
    /// 
    /// The human readable description of this population criteria. This element
    /// SHOULD be populated based on the description element of the corresponding
    /// population in the Measure group being reported.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.group.population.description")]
    pub description: Option<Markdown>,
    /// Size of the population
    /// 
    /// The number of members of the population.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Conditions
    /// Used when: mrp-3
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.group.population.count")]
    pub count: Option<Integer>,
    /// Size of the population as a quantity
    /// 
    /// The number of members of the population, specified as a quantity to support
    /// identifying units, as well as to support some composite measure calculation
    /// use cases where the resulting count of the population is a decimal value.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Conditions
    /// Used when: mrp-3
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.group.population.countQuantity")]
    #[fhir_serde(rename = "countQuantity")]
    pub count_quantity: Option<Quantity>,
    /// For subject-list reports, the subject results in this population
    /// 
    /// This element refers to a List of individual level MeasureReport resources,
    /// one for each subject in this population.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.group.population.subjectResults")]
    #[fhir_serde(rename = "subjectResults")]
    pub subject_results: Option<Reference>,
    /// For subject-list reports, references to the individual reports for subjects in this population
    /// 
    /// A reference to an individual level MeasureReport resource for a member of the
    /// population.
    /// 
    /// ## Implementation Notes
    /// This element SHALL NOT be used with subjectResults. Either systems provide
    /// results as a List of MeasureReport, or as references to individual
    /// MeasureReports. Note that using this element introduces a constraint on the
    /// size of the subject-list MeasureReport; implementations would be free to
    /// return a TOO-COSTLY response if a request is made for a subject-list report
    /// with too many subjects.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.group.population.subjectReport")]
    #[fhir_serde(rename = "subjectReport")]
    pub subject_report: Option<Vec<Reference>>,
    /// What individual(s) in the population
    /// 
    /// Optional Group identifying the individuals that make up the population.
    /// 
    /// ## Implementation Notes
    /// Note that this element can only be used for summary and subject-list reports
    /// where the basis is of the same type as the populations (e.g. a Patient-based
    /// measure, rather than an Encounter-based measure). In addition, the referenced
    /// Group resource SHALL be an actual (as opposed to a definitional) group.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.group.population.subjects")]
    pub subjects: Option<Reference>,
}

/// Stratification results
/// 
/// The stratification results for this measure group, calculated as defined by
/// the stratifier element of the measure being reported. Each group in the
/// MeasureReport SHALL have stratifiers as defined in the corresponding group of
/// the Measure being reported.
/// 
/// ## Cardinality: Optional, Multiple (0..*)
/// 
/// ## Constraints
/// - **ele-1**: All FHIR elements must have a @value or children or both (error)
///   Expression: `hasValue() or (children().count() > id.count())`
/// 
/// ## Conditions
/// Used when: mrp-2
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath, Default, FhirValidate)]
#[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children or both", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.group.stratifier")]
pub struct MeasureReportGroupStratifier {
    /// Unique id for inter-element referencing
    /// 
    /// Unique id for the element within a resource (for internal references). This
    /// may be any string value that does not contain spaces.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Conditions
    /// Used when: ele-1
    pub id: Option<String>,
    /// Additional content defined by implementations
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element. To make the use of extensions safe and managable,
    /// there is a strict set of governance applied to the definition and use of
    /// extensions. Though any implementer can define an extension, there is a set of
    /// requirements that SHALL be met as part of the definition of the extension.
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Aliases
    /// extensions, user content
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.group.stratifier.extension")]
    pub extension: Option<Vec<Extension>>,
    /// Extensions that cannot be ignored even if unrecognized
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element and that modifies the understanding of the element
    /// in which it is contained and/or the understanding of the containing element's
    /// descendants. Usually modifier elements provide negation or qualification. To
    /// make the use of extensions safe and managable, there is a strict set of
    /// governance applied to the definition and use of extensions. Though any
    /// implementer can define an extension, there is a set of requirements that
    /// SHALL be met as part of the definition of the extension. Applications
    /// processing a resource are required to check for modifier extensions.
    /// 
    /// Modifier extensions SHALL NOT change the meaning of any elements on Resource
    /// or DomainResource (including cannot change the meaning of modifierExtension
    /// itself).
    /// 
    /// ## Requirements
    /// Modifier extensions allow for extensions that *cannot* be safely ignored to
    /// be clearly distinguished from the vast majority of extensions which can be
    /// safely ignored. This promotes interoperability by eliminating the need for
    /// implementers to prohibit the presence of extensions. For further information,
    /// see the [definition of modifier
    /// extensions](extensibility.html#modifierExtension).
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Modifier element - Modifier extensions are expected to modify the meaning or interpretation of the element that contains them
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Aliases
    /// extensions, user content, modifiers
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.group.stratifier.modifierExtension")]
    #[fhir_serde(rename = "modifierExtension")]
    pub modifier_extension: Option<Vec<Extension>>,
    /// Pointer to specific stratifier from Measure
    /// 
    /// The stratifier from the Measure that corresponds to this stratifier in the
    /// MeasureReport resource. This element SHALL be populated based on the
    /// corresponding element in the Measure being reported.
    /// 
    /// ## Implementation Notes
    /// Note that in previous versions of FHIR, the id element was used to determine
    /// corresponding stratifiers between Measure and MeasureReport. Systems MAY
    /// support this as well as linkId for backwards-compatibility.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.group.stratifier.linkId")]
    #[fhir_serde(rename = "linkId")]
    pub link_id: Option<String>,
    /// Title of a group's stratifier. Note- this value is copied from this element in Measure
    /// 
    /// Indicates the title for of the group's stratifier.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.group.stratifier.title")]
    pub title: Option<String>,
    /// What stratifier of the group
    /// 
    /// The meaning of this stratifier, as defined in the measure definition. This
    /// element SHALL be populated with at least the codings in the code element of
    /// the corresponding stratifier in the Measure group being reported.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: Meaning of the stratifier.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/measure-stratifier-example
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.group.stratifier.code")]
    pub code: Option<CodeableConcept>,
    /// The human readable description of this stratifier
    /// 
    /// The human readable description of this stratifier criteria. This element
    /// SHOULD be populated with the description element of the corresponding
    /// stratifier in the Measure group being reported.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.group.stratifier.description")]
    pub description: Option<Markdown>,
    /// Stratum results, one for each unique value, or set of values, in the stratifier, or stratifier components
    /// 
    /// This element contains the results for a single stratum within the stratifier.
    /// For example, when stratifying on administrative gender, there will be four
    /// strata, one for each possible gender value.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children or both (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Conditions
    /// Used when: mrp-2
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children or both", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.group.stratifier.stratum")]
    pub stratum: Option<Vec<MeasureReportGroupStratifierStratum>>,
}

/// Choice of types for the value\[x\] field in MeasureReportGroupStratifierStratum
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath)]
#[fhir_choice_element(base_name = "value")]
pub enum MeasureReportGroupStratifierStratumValue {
    /// Variant accepting the CodeableConcept type.
    #[fhir_serde(rename = "valueCodeableConcept")]
    CodeableConcept(CodeableConcept),
    /// Variant accepting the Boolean type.
    #[fhir_serde(rename = "valueBoolean")]
    Boolean(Boolean),
    /// Variant accepting the Quantity type.
    #[fhir_serde(rename = "valueQuantity")]
    Quantity(Quantity),
    /// Variant accepting the Range type.
    #[fhir_serde(rename = "valueRange")]
    Range(Range),
    /// Variant accepting the Reference type.
    #[fhir_serde(rename = "valueReference")]
    Reference(Reference),
}

/// Choice of types for the measureScore\[x\] field in MeasureReportGroupStratifierStratum
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath)]
#[fhir_choice_element(base_name = "measureScore")]
pub enum MeasureReportGroupStratifierStratumMeasureScore {
    /// Variant accepting the Quantity type.
    #[fhir_serde(rename = "measureScoreQuantity")]
    Quantity(Quantity),
    /// Variant accepting the DateTime type.
    #[fhir_serde(rename = "measureScoreDateTime")]
    DateTime(DateTime),
    /// Variant accepting the CodeableConcept type.
    #[fhir_serde(rename = "measureScoreCodeableConcept")]
    CodeableConcept(CodeableConcept),
    /// Variant accepting the Period type.
    #[fhir_serde(rename = "measureScorePeriod")]
    Period(Period),
    /// Variant accepting the Range type.
    #[fhir_serde(rename = "measureScoreRange")]
    Range(Range),
    /// Variant accepting the Duration type.
    #[fhir_serde(rename = "measureScoreDuration")]
    Duration(Duration),
    /// Variant accepting the Boolean type.
    #[fhir_serde(rename = "measureScoreBoolean")]
    Boolean(Boolean),
    /// Variant accepting the Ratio type.
    #[fhir_serde(rename = "measureScoreRatio")]
    Ratio(Ratio),
}

/// Stratum results, one for each unique value, or set of values, in the stratifier, or stratifier components
/// 
/// This element contains the results for a single stratum within the stratifier.
/// For example, when stratifying on administrative gender, there will be four
/// strata, one for each possible gender value.
/// 
/// ## Cardinality: Optional, Multiple (0..*)
/// 
/// ## Constraints
/// - **ele-1**: All FHIR elements must have a @value or children or both (error)
///   Expression: `hasValue() or (children().count() > id.count())`
/// 
/// ## Conditions
/// Used when: mrp-2
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath, Default, FhirValidate)]
#[fhir_resource(choice_elements = "value,measureScore")]
#[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children or both", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.group.stratifier.stratum")]
pub struct MeasureReportGroupStratifierStratum {
    /// Unique id for inter-element referencing
    /// 
    /// Unique id for the element within a resource (for internal references). This
    /// may be any string value that does not contain spaces.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Conditions
    /// Used when: ele-1
    pub id: Option<String>,
    /// Additional content defined by implementations
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element. To make the use of extensions safe and managable,
    /// there is a strict set of governance applied to the definition and use of
    /// extensions. Though any implementer can define an extension, there is a set of
    /// requirements that SHALL be met as part of the definition of the extension.
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Aliases
    /// extensions, user content
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.group.stratifier.stratum.extension")]
    pub extension: Option<Vec<Extension>>,
    /// Extensions that cannot be ignored even if unrecognized
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element and that modifies the understanding of the element
    /// in which it is contained and/or the understanding of the containing element's
    /// descendants. Usually modifier elements provide negation or qualification. To
    /// make the use of extensions safe and managable, there is a strict set of
    /// governance applied to the definition and use of extensions. Though any
    /// implementer can define an extension, there is a set of requirements that
    /// SHALL be met as part of the definition of the extension. Applications
    /// processing a resource are required to check for modifier extensions.
    /// 
    /// Modifier extensions SHALL NOT change the meaning of any elements on Resource
    /// or DomainResource (including cannot change the meaning of modifierExtension
    /// itself).
    /// 
    /// ## Requirements
    /// Modifier extensions allow for extensions that *cannot* be safely ignored to
    /// be clearly distinguished from the vast majority of extensions which can be
    /// safely ignored. This promotes interoperability by eliminating the need for
    /// implementers to prohibit the presence of extensions. For further information,
    /// see the [definition of modifier
    /// extensions](extensibility.html#modifierExtension).
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Modifier element - Modifier extensions are expected to modify the meaning or interpretation of the element that contains them
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Aliases
    /// extensions, user content, modifiers
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.group.stratifier.stratum.modifierExtension")]
    #[fhir_serde(rename = "modifierExtension")]
    pub modifier_extension: Option<Vec<Extension>>,
    /// The stratum value, e.g. male
    /// 
    /// The value for this stratum, expressed as a CodeableConcept. When defining
    /// stratifiers on complex values, the value must be rendered such that the value
    /// for each stratum within the stratifier is unique.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/measurereport-stratifier-value-example
    /// 
    /// ## Conditions
    /// Used when: mrp-2
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.group.stratifier.stratum.value[x]")]
    #[fhir_serde(flatten)]
    pub value: Option<MeasureReportGroupStratifierStratumValue>,
    /// Stratifier component values
    /// 
    /// A stratifier component value.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children or both (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Conditions
    /// Used when: mrp-2
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children or both", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.group.stratifier.stratum.component")]
    pub component: Option<Vec<MeasureReportGroupStratifierStratumComponent>>,
    /// Population results in this stratum
    /// 
    /// The populations that make up the stratum, one for each type of population
    /// appropriate to the measure. For each stratifier, systems MAY provide
    /// population breakdowns in addition to the stratified scores.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children or both (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **mrp-4**: The count and countQuantity elements for a statum population SHALL be mutually exclusive (error)
    ///   Expression: `count.exists() xor countQuantity.exists()`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children or both", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.group.stratifier.stratum.population")]
    #[fhir_invariant(key="mrp-4", severity="error", human="The count and countQuantity elements for a statum population SHALL be mutually exclusive", expr="count.exists() xor countQuantity.exists()", path="MeasureReport.group.stratifier.stratum.population")]
    pub population: Option<Vec<MeasureReportGroupStratifierStratumPopulation>>,
    /// What score this stratum achieved
    /// 
    /// The measure score for this stratum, calculated as appropriate for the measure
    /// type and scoring method, and based on only the members of this stratum.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.group.stratifier.stratum.measureScore[x]")]
    #[fhir_serde(flatten)]
    pub measure_score: Option<MeasureReportGroupStratifierStratumMeasureScore>,
}

/// Choice of types for the value\[x\] field in MeasureReportGroupStratifierStratumComponent
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath)]
#[fhir_choice_element(base_name = "value")]
pub enum MeasureReportGroupStratifierStratumComponentValue {
    /// Variant accepting the CodeableConcept type.
    #[fhir_serde(rename = "valueCodeableConcept")]
    CodeableConcept(CodeableConcept),
    /// Variant accepting the Boolean type.
    #[fhir_serde(rename = "valueBoolean")]
    Boolean(Boolean),
    /// Variant accepting the Quantity type.
    #[fhir_serde(rename = "valueQuantity")]
    Quantity(Quantity),
    /// Variant accepting the Range type.
    #[fhir_serde(rename = "valueRange")]
    Range(Range),
    /// Variant accepting the Reference type.
    #[fhir_serde(rename = "valueReference")]
    Reference(Reference),
}

/// Stratifier component values
/// 
/// A stratifier component value.
/// 
/// ## Cardinality: Optional, Multiple (0..*)
/// 
/// ## Constraints
/// - **ele-1**: All FHIR elements must have a @value or children or both (error)
///   Expression: `hasValue() or (children().count() > id.count())`
/// 
/// ## Conditions
/// Used when: mrp-2
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath, Default, FhirValidate)]
#[fhir_resource(choice_elements = "value")]
#[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children or both", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.group.stratifier.stratum.component")]
pub struct MeasureReportGroupStratifierStratumComponent {
    /// Unique id for inter-element referencing
    /// 
    /// Unique id for the element within a resource (for internal references). This
    /// may be any string value that does not contain spaces.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Conditions
    /// Used when: ele-1
    pub id: Option<String>,
    /// Additional content defined by implementations
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element. To make the use of extensions safe and managable,
    /// there is a strict set of governance applied to the definition and use of
    /// extensions. Though any implementer can define an extension, there is a set of
    /// requirements that SHALL be met as part of the definition of the extension.
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Aliases
    /// extensions, user content
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.group.stratifier.stratum.component.extension")]
    pub extension: Option<Vec<Extension>>,
    /// Extensions that cannot be ignored even if unrecognized
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element and that modifies the understanding of the element
    /// in which it is contained and/or the understanding of the containing element's
    /// descendants. Usually modifier elements provide negation or qualification. To
    /// make the use of extensions safe and managable, there is a strict set of
    /// governance applied to the definition and use of extensions. Though any
    /// implementer can define an extension, there is a set of requirements that
    /// SHALL be met as part of the definition of the extension. Applications
    /// processing a resource are required to check for modifier extensions.
    /// 
    /// Modifier extensions SHALL NOT change the meaning of any elements on Resource
    /// or DomainResource (including cannot change the meaning of modifierExtension
    /// itself).
    /// 
    /// ## Requirements
    /// Modifier extensions allow for extensions that *cannot* be safely ignored to
    /// be clearly distinguished from the vast majority of extensions which can be
    /// safely ignored. This promotes interoperability by eliminating the need for
    /// implementers to prohibit the presence of extensions. For further information,
    /// see the [definition of modifier
    /// extensions](extensibility.html#modifierExtension).
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Modifier element - Modifier extensions are expected to modify the meaning or interpretation of the element that contains them
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Aliases
    /// extensions, user content, modifiers
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.group.stratifier.stratum.component.modifierExtension")]
    #[fhir_serde(rename = "modifierExtension")]
    pub modifier_extension: Option<Vec<Extension>>,
    /// Pointer to specific stratifier component from Measure
    /// 
    /// The stratifier component from the Measure that corresponds to this stratifier
    /// component in the MeasureReport resource. This element SHALL be populated
    /// based on the corresponding element in the Measure being reported.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.group.stratifier.stratum.component.linkId")]
    #[fhir_serde(rename = "linkId")]
    pub link_id: Option<String>,
    /// What stratifier component of the group
    /// 
    /// The code for the stratum component value. This element SHALL be populated
    /// with at least the codings in the code element of the corresponding component
    /// of the stratifier being reported.
    /// 
    /// ## Cardinality: Required (1..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: Meaning of the stratifier.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/measure-stratifier-example
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.group.stratifier.stratum.component.code")]
    pub code: CodeableConcept,
    /// The human readable description of this stratifier component
    /// 
    /// The human readable description of this stratifier criteria component. This
    /// element MAY be populated with the description of the corresponding component
    /// of the stratifier being reported.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.group.stratifier.stratum.component.description")]
    pub description: Option<Markdown>,
    /// The stratum component value, e.g. male
    /// 
    /// The stratum component value.
    /// 
    /// ## Cardinality: Required (1..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/measurereport-stratifier-value-example
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.group.stratifier.stratum.component.value[x]")]
    #[fhir_serde(flatten)]
    pub value: Option<MeasureReportGroupStratifierStratumComponentValue>,
}

/// Population results in this stratum
/// 
/// The populations that make up the stratum, one for each type of population
/// appropriate to the measure. For each stratifier, systems MAY provide
/// population breakdowns in addition to the stratified scores.
/// 
/// ## Cardinality: Optional, Multiple (0..*)
/// 
/// ## Constraints
/// - **ele-1**: All FHIR elements must have a @value or children or both (error)
///   Expression: `hasValue() or (children().count() > id.count())`
/// - **mrp-4**: The count and countQuantity elements for a statum population SHALL be mutually exclusive (error)
///   Expression: `count.exists() xor countQuantity.exists()`
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath, Default, FhirValidate)]
#[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children or both", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.group.stratifier.stratum.population")]
#[fhir_invariant(key="mrp-4", severity="error", human="The count and countQuantity elements for a statum population SHALL be mutually exclusive", expr="count.exists() xor countQuantity.exists()", path="MeasureReport.group.stratifier.stratum.population")]
pub struct MeasureReportGroupStratifierStratumPopulation {
    /// Unique id for inter-element referencing
    /// 
    /// Unique id for the element within a resource (for internal references). This
    /// may be any string value that does not contain spaces.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Conditions
    /// Used when: ele-1
    pub id: Option<String>,
    /// Additional content defined by implementations
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element. To make the use of extensions safe and managable,
    /// there is a strict set of governance applied to the definition and use of
    /// extensions. Though any implementer can define an extension, there is a set of
    /// requirements that SHALL be met as part of the definition of the extension.
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Aliases
    /// extensions, user content
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.group.stratifier.stratum.population.extension")]
    pub extension: Option<Vec<Extension>>,
    /// Extensions that cannot be ignored even if unrecognized
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element and that modifies the understanding of the element
    /// in which it is contained and/or the understanding of the containing element's
    /// descendants. Usually modifier elements provide negation or qualification. To
    /// make the use of extensions safe and managable, there is a strict set of
    /// governance applied to the definition and use of extensions. Though any
    /// implementer can define an extension, there is a set of requirements that
    /// SHALL be met as part of the definition of the extension. Applications
    /// processing a resource are required to check for modifier extensions.
    /// 
    /// Modifier extensions SHALL NOT change the meaning of any elements on Resource
    /// or DomainResource (including cannot change the meaning of modifierExtension
    /// itself).
    /// 
    /// ## Requirements
    /// Modifier extensions allow for extensions that *cannot* be safely ignored to
    /// be clearly distinguished from the vast majority of extensions which can be
    /// safely ignored. This promotes interoperability by eliminating the need for
    /// implementers to prohibit the presence of extensions. For further information,
    /// see the [definition of modifier
    /// extensions](extensibility.html#modifierExtension).
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Modifier element - Modifier extensions are expected to modify the meaning or interpretation of the element that contains them
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Aliases
    /// extensions, user content, modifiers
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.group.stratifier.stratum.population.modifierExtension")]
    #[fhir_serde(rename = "modifierExtension")]
    pub modifier_extension: Option<Vec<Extension>>,
    /// Pointer to specific population from Measure
    /// 
    /// The population from the Measure that corresponds to this population in the
    /// MeasureReport resource. This element SHALL be populated with the linkId
    /// corresponding to the population being reported.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.group.stratifier.stratum.population.linkId")]
    #[fhir_serde(rename = "linkId")]
    pub link_id: Option<String>,
    /// initial-population | numerator | numerator-exclusion | denominator | denominator-exclusion | denominator-exception | measure-population | measure-population-exclusion | measure-observation
    /// 
    /// The type of the population. This element SHALL be populated with at least the
    /// codings in the code element of the corresponding population being reported.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: extensible
    /// - **Description**: The type of population (e.g. initial, numerator, denominator, etc.).
    /// - **ValueSet**: http://terminology.hl7.org/ValueSet/measure-population
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.group.stratifier.stratum.population.code")]
    pub code: Option<CodeableConcept>,
    /// Size of the population
    /// 
    /// The number of members of the population in this stratum.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Conditions
    /// Used when: mrp-4
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.group.stratifier.stratum.population.count")]
    pub count: Option<Integer>,
    /// Size of the population as a quantity
    /// 
    /// The number of members of the population in this stratum, specified as a
    /// quantity to support identifying units, as well as to support some composite
    /// measure calculation use cases where the resulting count of the population is
    /// a decimal value.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Conditions
    /// Used when: mrp-4
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.group.stratifier.stratum.population.countQuantity")]
    #[fhir_serde(rename = "countQuantity")]
    pub count_quantity: Option<Quantity>,
    /// For subject-list reports, the subject results in this population
    /// 
    /// This element refers to a List of individual level MeasureReport resources,
    /// one for each subject in this population in this stratum.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.group.stratifier.stratum.population.subjectResults")]
    #[fhir_serde(rename = "subjectResults")]
    pub subject_results: Option<Reference>,
    /// For subject-list reports, a subject result in this population
    /// 
    /// A reference to an individual level MeasureReport resource for a member of the
    /// population.
    /// 
    /// ## Implementation Notes
    /// This element SHALL NOT be used in with subjectResults, either systems provide
    /// results as a List of MeasureReport, or as references to individual
    /// MeasureReports. Note that using this element introduces a constraint on the
    /// size of the subject-list MeasureReport; implementations would be free to
    /// return a TOO-COSTLY response if a request is made for a subject-list report
    /// with too many subjects.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.group.stratifier.stratum.population.subjectReport")]
    #[fhir_serde(rename = "subjectReport")]
    pub subject_report: Option<Vec<Reference>>,
    /// What individual(s) in the population
    /// 
    /// Optional Group identifying the individuals that make up the population.
    /// 
    /// ## Implementation Notes
    /// Note that this element can only be used for summary and subject-list reports
    /// where the basis is of the same type as the populations (e.g. a Patient-based
    /// measure, rather than an Encounter-based measure). In addition, the referenced
    /// Group SHALL be an actual (as opposed to a definitional) group.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="MeasureReport.group.stratifier.stratum.population.subjects")]
    pub subjects: Option<Reference>,
}

