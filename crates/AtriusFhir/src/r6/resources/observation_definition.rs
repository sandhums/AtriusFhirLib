// AUTO-GENERATED by atrius-fhir-generator (R6 ObservationDefinition)
use crate::r6::*;

/// Choice of types for the versionAlgorithm\[x\] field in ObservationDefinition
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath)]
#[fhir_choice_element(base_name = "versionAlgorithm")]
pub enum ObservationDefinitionVersionAlgorithm {
    /// Variant accepting the String type.
    #[fhir_serde(rename = "versionAlgorithmString")]
    String(String),
    /// Variant accepting the Coding type.
    #[fhir_serde(rename = "versionAlgorithmCoding")]
    Coding(Coding),
}

/// Choice of types for the device\[x\] field in ObservationDefinition
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath)]
#[fhir_choice_element(base_name = "device")]
pub enum ObservationDefinitionDevice {
    /// Variant accepting the Reference type.
    #[fhir_serde(rename = "deviceReference")]
    Reference(Reference),
    /// Variant accepting the Canonical type.
    #[fhir_serde(rename = "deviceCanonical")]
    Canonical(Canonical),
}

/// FHIR ObservationDefinition type
/// 
/// Set of definitional characteristics for a kind of observation or measurement
/// produced or consumed by an orderable health care service.
/// 
/// ## Purpose
/// In a catalog of health-related services that use or produce observations and measurements, this resource describes the expected characteristics of these observation / measurements.
/// 
/// ## Type: Resource type
/// Base type: http://hl7.org/fhir/StructureDefinition/DomainResource
/// 
/// ## Status: active
/// FHIR Version: 6.0.0-ballot3
/// 
/// See: [ObservationDefinition](http://hl7.org/fhir/StructureDefinition/ObservationDefinition)
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath, Default, FhirValidate)]
#[fhir_resource(choice_elements = "versionAlgorithm,device")]
#[fhir_invariant(key="cnl-0", severity="warning", human="Name should be usable as an identifier for the module by machine processing applications such as code generation", expr="name.exists() implies name.matches('^[A-Z]([A-Za-z0-9_]){1,254}$')", path="ObservationDefinition")]
#[fhir_invariant(key="obd-0", severity="error", human="If permittedUnit exists, then permittedDataType=Quantity must exist.", expr="permittedUnit.exists() implies permittedDataType.exists(value = 'Quantity')", path="ObservationDefinition")]
pub struct ObservationDefinition {
    /// Logical id of this artifact
    /// 
    /// The logical id of the resource, as used in the URL for the resource. Once
    /// assigned, this value never changes.
    /// 
    /// ## Implementation Notes
    /// Within the context of the FHIR RESTful interactions, the resource has an id
    /// except for cases like the create and conditional update. Otherwise, the use
    /// of the resouce id depends on the given use case.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    pub id: Option<String>,
    /// Metadata about the resource
    /// 
    /// The metadata about the resource. This is content that is maintained by the
    /// infrastructure. Changes to the content might not always be associated with
    /// version changes to the resource.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ObservationDefinition.meta")]
    pub meta: Option<Meta>,
    /// A set of rules under which this content was created
    /// 
    /// A reference to a set of rules that were followed when the resource was
    /// constructed, and which must be understood when processing the content. Often,
    /// this is a reference to an implementation guide that defines the special rules
    /// along with other profiles etc. For DomainResources, if more than one
    /// implicitRules policy applies, additional policies may be conveyed using the
    /// [additionalImplicitRules](https://build.fhir.org/ig/HL7/fhir-extensions/StructureDefinition-additionalImplicitRules.html)
    /// extension.
    /// 
    /// ## Implementation Notes
    /// Asserting this rule set restricts the content to be only understood by a
    /// limited set of trading partners. This inherently limits the usefulness of the
    /// data in the long term. However, the existing health eco-system is highly
    /// fractured, and not yet ready to define, collect, and exchange data in a
    /// generally computable sense. Wherever possible, implementers and/or
    /// specification writers should avoid using this element. Often, when used, the
    /// URL is a reference to an implementation guide that defines these special
    /// rules as part of its narrative along with other profiles, value sets, etc.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Modifier element - This element is labeled as a modifier because the implicit rules may provide additional knowledge about the resource that modifies its meaning or interpretation
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ObservationDefinition.implicitRules")]
    #[fhir_serde(rename = "implicitRules")]
    pub implicit_rules: Option<Uri>,
    /// Language of the resource content
    /// 
    /// The base language in which the resource is written.
    /// 
    /// ## Implementation Notes
    /// Language is provided to support indexing and accessibility (typically,
    /// services such as text to speech use the language tag). The html language tag
    /// in the narrative applies to the narrative. The language tag on the resource
    /// may be used to specify the language of other presentations generated from the
    /// data in the resource. Not all the content has to be in the base language. The
    /// Resource.language should not be assumed to apply to the narrative
    /// automatically. If a language is specified, it should it also be specified on
    /// the div element in the html (see rules in HTML5 for information about the
    /// relationship between xml:lang and the html lang attribute).
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: required
    /// - **Description**: IETF language tag for a human language
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/all-languages|6.0.0-ballot3
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ObservationDefinition.language")]
    pub language: Option<Code>,
    /// Text summary of the resource, for human interpretation
    /// 
    /// A human-readable narrative that contains a summary of the resource and can be
    /// used to represent the content of the resource to a human. The narrative need
    /// not encode all the structured data, but is required to contain sufficient
    /// detail to make it "clinically safe" for a human to just read the narrative.
    /// Resource definitions may define what content should be represented in the
    /// narrative to ensure clinical safety.
    /// 
    /// ## Implementation Notes
    /// Contained resources do not have a narrative. Resources that are not contained
    /// SHOULD have a narrative. In some cases, a resource may only have text with
    /// little or no additional discrete data (as long as all minOccurs=1 elements
    /// are satisfied). This may be necessary for data from legacy systems where
    /// information is captured as a "text blob" or where text is additionally
    /// entered raw or narrated and encoded information is added later.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Aliases
    /// narrative, html, xhtml, display
    /// 
    /// ## Conditions
    /// Used when: dom-6
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ObservationDefinition.text")]
    pub text: Option<Narrative>,
    /// Contained, inline Resources
    /// 
    /// These resources do not have an independent existence apart from the resource
    /// that contains them - they cannot be identified independently, nor can they
    /// have their own independent transaction scope. This is allowed to be a
    /// Parameters resource if and only if it is referenced by a resource that
    /// provides context/meaning.
    /// 
    /// ## Implementation Notes
    /// This should never be done when the content can be identified properly, as
    /// once identification is lost, it is extremely difficult (and context
    /// dependent) to restore it again. Contained resources may have profiles and
    /// tags in their meta elements, but SHALL NOT have security labels. Contained
    /// resources may be a resource type defined in the FHIR specification, or an
    /// [additional resource](resource.html#additional).
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Aliases
    /// inline resources, anonymous resources, contained resources
    /// 
    /// ## Conditions
    /// Used when: dom-2, dom-4, dom-3, dom-5
    pub contained: Option<Vec<Resource>>,
    /// Additional content defined by implementations
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the resource. To make the use of extensions safe and managable,
    /// there is a strict set of governance applied to the definition and use of
    /// extensions. Though any implementer can define an extension, there is a set of
    /// requirements that SHALL be met as part of the definition of the extension.
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Aliases
    /// extensions, user content
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ObservationDefinition.extension")]
    pub extension: Option<Vec<Extension>>,
    /// Extensions that cannot be ignored
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the resource and that modifies the understanding of the element
    /// that contains it and/or the understanding of the containing element's
    /// descendants. Usually modifier elements provide negation or qualification. To
    /// make the use of extensions safe and managable, there is a strict set of
    /// governance applied to the definition and use of extensions. Though any
    /// implementer is allowed to define an extension, there is a set of requirements
    /// that SHALL be met as part of the definition of the extension. Applications
    /// processing a resource are required to check for modifier extensions.
    /// 
    /// Modifier extensions SHALL NOT change the meaning of any elements on Resource
    /// or DomainResource (including cannot change the meaning of modifierExtension
    /// itself).
    /// 
    /// ## Requirements
    /// Modifier extensions allow for extensions that *cannot* be safely ignored to
    /// be clearly distinguished from the vast majority of extensions which can be
    /// safely ignored. This promotes interoperability by eliminating the need for
    /// implementers to prohibit the presence of extensions. For further information,
    /// see the [definition of modifier
    /// extensions](extensibility.html#modifierExtension).
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Modifier element - Modifier extensions are expected to modify the meaning or interpretation of the resource that contains them
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Aliases
    /// extensions, user content
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ObservationDefinition.modifierExtension")]
    #[fhir_serde(rename = "modifierExtension")]
    pub modifier_extension: Option<Vec<Extension>>,
    /// Logical canonical URL to reference this ObservationDefinition (globally unique)
    /// 
    /// An absolute URL that is used to identify this ObservationDefinition when it
    /// is referenced in a specification, model, design or an instance. This SHALL be
    /// a URL, SHOULD be globally unique, and SHOULD be an address at which this
    /// ObservationDefinition is (or will be) published. The URL SHOULD include the
    /// major version of the ObservationDefinition. For more information see
    /// Technical and Business Versions.
    /// 
    /// ## Requirements
    /// Allows the ObservationDefinition to be referenced by a single globally unique
    /// identifier.
    /// 
    /// ## Implementation Notes
    /// Can be a urn:uuid: or a urn:oid:, but real http: addresses are preferred.
    /// This is the URI that will be used when making canonical references to this
    /// resource.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ObservationDefinition.url")]
    pub url: Option<Uri>,
    /// Business identifier of the ObservationDefinition
    /// 
    /// Business identifiers assigned to this ObservationDefinition. by the performer
    /// and/or other systems. These identifiers remain constant as the resource is
    /// updated and propagates from server to server.
    /// 
    /// ## Requirements
    /// Allows identification of the ObservationDefinition as it is known by various
    /// participating systems and in a way that remains consistent across servers.
    /// 
    /// ## Implementation Notes
    /// This is a business identifier, not a resource identifier. It is best practice
    /// for the identifier to only appear on a single resource instance, however
    /// business practices may occasionally dictate that multiple resource instances
    /// with the same identifier can exist - possibly even with different resource
    /// types.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ObservationDefinition.identifier")]
    pub identifier: Option<Identifier>,
    /// Business version of the ObservationDefinition
    /// 
    /// The identifier that is used to identify this version of the
    /// ObservationDefinition when it is referenced in a specification, model, design
    /// or instance. This is an arbitrary value managed by the ObservationDefinition
    /// author and is not expected to be globally unique. For example, it might be a
    /// timestamp (e.g. yyyymmdd) if a managed version is not available. There is
    /// also no expectation that versions are orderable.
    /// 
    /// ## Implementation Notes
    /// There may be multiple different instances of an observationDefinition that
    /// have the same identifier but different versions.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ObservationDefinition.version")]
    pub version: Option<String>,
    /// How to compare versions
    /// 
    /// Indicates the mechanism used to compare versions to determine which is more
    /// current.
    /// 
    /// ## Implementation Notes
    /// If set as a string, this is a FHIRPath expression that has two additional
    /// context variables passed in - %version1 and %version2 and will return a
    /// negative number if version1 is newer, a positive number if version2 and a 0
    /// if the version ordering can't be successfully be determined.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: extensible
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/version-algorithm
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ObservationDefinition.versionAlgorithm[x]")]
    #[fhir_serde(flatten)]
    pub version_algorithm: Option<ObservationDefinitionVersionAlgorithm>,
    /// Name for this ObservationDefinition (computer friendly)
    /// 
    /// A natural language name identifying the ObservationDefinition. This name
    /// should be usable as an identifier for the module by machine processing
    /// applications such as code generation.
    /// 
    /// ## Requirements
    /// Support human navigation and code generation.
    /// 
    /// ## Implementation Notes
    /// The name is not expected to be globally unique. The name should be a simple
    /// alphanumeric type name to ensure that it is machine-processing friendly.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Conditions
    /// Used when: cnl-0
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ObservationDefinition.name")]
    pub name: Option<String>,
    /// Name for this ObservationDefinition (human friendly)
    /// 
    /// A short, descriptive, user-friendly title for the ObservationDefinition.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ObservationDefinition.title")]
    pub title: Option<String>,
    /// draft | active | retired | unknown
    /// 
    /// The current state of the ObservationDefinition.
    /// 
    /// ## Implementation Notes
    /// A nominal state-transition diagram can be found in the [Definition
    /// pattern](definition.html#statemachine) documentation
    /// Unknown does not represent "other" - one of the defined statuses must apply.
    /// Unknown is used when the authoring system is not sure what the current status
    /// is.
    /// 
    /// See guidance around (not) making local changes to elements
    /// [here](canonicalresource.html#localization).
    /// 
    /// ## Cardinality: Required (1..1)
    /// 
    /// ## Special Semantics
    /// - Modifier element - Not known why this is labelled a modifier
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: required
    /// - **Description**: Codes identifying the state of an ObservationDefinition.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/publication-status|6.0.0-ballot3
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ObservationDefinition.status")]
    pub status: Code,
    /// If For testing only - never for real usage
    /// 
    /// A flag to indicate that this ObservationDefinition is authored for testing
    /// purposes (or education/evaluation/marketing), and is not intended to be used
    /// for genuine usage.
    /// 
    /// ## Implementation Notes
    /// Allows filtering of ObservationDefinition that are appropriate for use vs.
    /// not.. Experimental resources might include example instances in
    /// implementation guides, instances created solely for testing purposes, etc
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// - When missing: If absent, this resource is treated as though it is not experimental.
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ObservationDefinition.experimental")]
    pub experimental: Option<Boolean>,
    /// Date last changed
    /// 
    /// The date (and optionally time) when the ObservationDefinition was last
    /// significantly changed. The date must change when the business version changes
    /// and it must change if the status code changes. In addition, it should change
    /// when the substantive content of the ObservationDefinition changes.
    /// 
    /// ## Implementation Notes
    /// The date is often not tracked until the resource is published, but may be
    /// present on draft content. Note that this is not the same as the resource
    /// last-modified-date, since the resource may be a secondary representation of
    /// the ObservationDefinition. Additional specific dates may be added as
    /// extensions or be found by consulting Provenances associated with past
    /// versions of the resource.
    /// 
    /// See guidance around (not) making local changes to elements
    /// [here](canonicalresource.html#localization).
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Aliases
    /// revision date
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ObservationDefinition.date")]
    pub date: Option<DateTime>,
    /// The name of the individual or organization that published the ObservationDefinition
    /// 
    /// Helps establish the "authority/credibility" of the ObservationDefinition. May
    /// also allow for contact.
    /// 
    /// ## Requirements
    /// Usually an organization, but may be an individual. The publisher (or steward)
    /// of the ObservationDefinition is the organization or individual primarily
    /// responsible for the maintenance and upkeep of the ObservationDefinition. This
    /// is not necessarily the same individual or organization that developed and
    /// initially authored the content. The publisher is the primary point of contact
    /// for questions or issues with the ObservationDefinition. This item SHOULD be
    /// populated unless the information is available from context.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ObservationDefinition.publisher")]
    pub publisher: Option<String>,
    /// Contact details for the publisher
    /// 
    /// Contact details to assist a user in finding and communicating with the
    /// publisher.
    /// 
    /// ## Implementation Notes
    /// May be a web site, an email address, a telephone number, etc.
    /// 
    /// See guidance around (not) making local changes to elements
    /// [here](canonicalresource.html#localization).
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ObservationDefinition.contact")]
    pub contact: Option<Vec<ContactDetail>>,
    /// Natural language description of the ObservationDefinition
    /// 
    /// A free text natural language description of the ObservationDefinition from
    /// the consumer's perspective.
    /// 
    /// ## Implementation Notes
    /// This description can be used to capture details such as comments about
    /// misuse, instructions for clinical use and interpretation, literature
    /// references, examples from the paper world, etc. It is not a rendering of the
    /// module as conveyed in the text field of the resource itself. This item SHOULD
    /// be populated unless the information is available from context.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ObservationDefinition.description")]
    pub description: Option<Markdown>,
    /// Content intends to support these contexts
    /// 
    /// The content was developed with a focus and intent of supporting the contexts
    /// that are listed. These contexts may be general categories (gender, age, ...)
    /// or may be references to specific programs (insurance plans, studies, ...) and
    /// may be used to assist with indexing and searching for appropriate
    /// ObservationDefinition instances.
    /// 
    /// ## Requirements
    /// Assist in searching for appropriate content.
    /// 
    /// ## Implementation Notes
    /// When multiple usageContexts are specified, there is no expectation for
    /// whether all or any of the contexts apply.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ObservationDefinition.useContext")]
    #[fhir_serde(rename = "useContext")]
    pub use_context: Option<Vec<UsageContext>>,
    /// Jurisdiction of the authority that maintains the this ObservationDefinition (if applicable)
    /// 
    /// A jurisdiction in which the ObservationDefinition is intended to be used.
    /// 
    /// ## Implementation Notes
    /// It may be possible for the ObservationDefinition to be used in jurisdictions
    /// other than those for which it was originally designed or intended.
    /// 
    /// DEPRECATION NOTE: For consistency, implementations are encouraged to migrate
    /// to using the new 'jurisdiction' code in the useContext element. (I.e.
    /// useContext.code indicating
    /// http://terminology.hl7.org/CodeSystem/usage-context-type#jurisdiction and
    /// useContext.valueCodeableConcept indicating the jurisdiction.)
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: extensible
    /// - **Description**: Codes for country, country subdivision and region for indicating where a resource is intended to be used.
    /// - **ValueSet**: http://terminology.hl7.org/ValueSet/jurisdiction
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ObservationDefinition.jurisdiction")]
    pub jurisdiction: Option<Vec<CodeableConcept>>,
    /// Why this ObservationDefinition is defined
    /// 
    /// Explains why this ObservationDefinition is needed and why it has been
    /// designed as it has.
    /// 
    /// ## Implementation Notes
    /// This element does not describe the usage of the ObservationDefinition. Rather
    /// it is for traceability of ''why'' the resource is either needed or ''why'' it
    /// is defined as it is. This may be used to point to source materials or
    /// specifications that drove the structure of this ObservationDefinition.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ObservationDefinition.purpose")]
    pub purpose: Option<Markdown>,
    /// Notice about intellectual property ownership, can include restrictions on use
    /// 
    /// Copyright statement relating to the ObservationDefinition and/or its
    /// contents. Copyright statements are notices of intellectual property ownership
    /// and can include restrictions on the use and publishing of the
    /// ObservationDefinition.
    /// 
    /// ## Requirements
    /// Consumers of the ObservationDefinition must be able to determine any legal
    /// restrictions on the use of the artifact and/or its content.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Aliases
    /// License, Restrictions
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ObservationDefinition.copyright")]
    pub copyright: Option<Markdown>,
    /// Copyright holder and year(s)
    /// 
    /// A short string (<50 characters), suitable for inclusion in a page footer that
    /// identifies the copyright holder, effective period, and optionally whether
    /// rights are restricted. (e.g. 'All rights reserved', 'Some rights reserved').
    /// 
    /// ## Requirements
    /// Defines the content expected to be rendered in all representations of the
    /// artifact.
    /// 
    /// ## Implementation Notes
    /// The copyright symbol and the '(c)' textual representation SHOULD NOT be
    /// included in this string. It will be added by software when rendering the
    /// notation. Full details about licensing, restrictions, warrantees, etc. goes
    /// in the more general 'copyright' element.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ObservationDefinition.copyrightLabel")]
    #[fhir_serde(rename = "copyrightLabel")]
    pub copyright_label: Option<String>,
    /// When ObservationDefinition was approved by publisher
    /// 
    /// The date on which the asset content was approved by the publisher. Approval
    /// happens once when the content is officially approved for usage.
    /// 
    /// ## Implementation Notes
    /// The date may be more recent than the approval date because of minor changes /
    /// editorial corrections.
    /// 
    /// See guidance around (not) making local changes to elements
    /// [here](canonicalresource.html#localization).
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ObservationDefinition.approvalDate")]
    #[fhir_serde(rename = "approvalDate")]
    pub approval_date: Option<Date>,
    /// Date on which the asset content was last reviewed by the publisher
    /// 
    /// The date on which the asset content was last reviewed. Review happens
    /// periodically after that, but doesn't change the original approval date.
    /// 
    /// ## Implementation Notes
    /// If specified, this is usually after the approval date.
    /// 
    /// See guidance around (not) making local changes to elements
    /// [here](canonicalresource.html#localization).
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ObservationDefinition.lastReviewDate")]
    #[fhir_serde(rename = "lastReviewDate")]
    pub last_review_date: Option<Date>,
    /// The effective date range for the ObservationDefinition
    /// 
    /// The period during which the ObservationDefinition content was or is planned
    /// to be effective.
    /// 
    /// ## Implementation Notes
    /// The effective period for an ObservationDefinition determines when the content
    /// is applicable for usage and is independent of publication and review dates.
    /// For example, an observation definition intended to be used for the year 2021
    /// might be published in 2020.
    /// 
    /// See guidance around (not) making local changes to elements
    /// [here](canonicalresource.html#localization).
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ObservationDefinition.effectivePeriod")]
    #[fhir_serde(rename = "effectivePeriod")]
    pub effective_period: Option<Period>,
    /// Based on FHIR definition of another observation
    /// 
    /// The canonical URL pointing to another FHIR-defined ObservationDefinition that
    /// is adhered to in whole or in part by this definition.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ObservationDefinition.derivedFromCanonical")]
    #[fhir_serde(rename = "derivedFromCanonical")]
    pub derived_from_canonical: Option<Vec<Canonical>>,
    /// Based on external definition
    /// 
    /// The URL pointing to an externally-defined observation definition, guideline
    /// or other definition that is adhered to in whole or in part by this
    /// definition.
    /// 
    /// ## Requirements
    /// Observation definitions may be refinements of other definitions.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ObservationDefinition.derivedFromUri")]
    #[fhir_serde(rename = "derivedFromUri")]
    pub derived_from_uri: Option<Vec<Uri>>,
    /// Type of subject for the defined observation
    /// 
    /// A code that describes the intended kind of subject of Observation instances
    /// conforming to this ObservationDefinition.
    /// 
    /// ## Implementation Notes
    /// Examples: person, animal, device, air, surface ….
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ObservationDefinition.subject")]
    pub subject: Option<Vec<CodeableConcept>>,
    /// Desired kind of performer for such kind of observation
    /// 
    /// The type of individual/organization/device that is expected to act upon
    /// instances of this definition.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ObservationDefinition.performerType")]
    #[fhir_serde(rename = "performerType")]
    pub performer_type: Option<CodeableConcept>,
    /// General type of observation
    /// 
    /// A code that classifies the general type of observation.
    /// 
    /// ## Requirements
    /// Used for filtering what kinds of observations are retrieved and displayed.
    /// 
    /// ## Implementation Notes
    /// This element allows various categorization schemes based on the owner’s
    /// definition of the category and effectively multiple categories can be used
    /// for one instance of ObservationDefinition. The level of granularity is
    /// defined by the category concepts in the value set.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: Codes for high level observation categories.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/observation-category
    /// 
    /// ## Aliases
    /// Class of observation
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ObservationDefinition.category")]
    pub category: Option<Vec<CodeableConcept>>,
    /// Type of observation
    /// 
    /// Describes what will be observed. Sometimes this is called the observation
    /// "name".
    /// 
    /// ## Cardinality: Required (1..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: Codes identifying names of simple observations.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/observation-codes-observationorboth
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ObservationDefinition.code")]
    pub code: CodeableConcept,
    /// Quantity | CodeableConcept | string | boolean | integer | Range | Ratio | SampledData | time | dateTime | Period
    /// 
    /// The data types allowed for the value element of the instance observations
    /// conforming to this ObservationDefinition.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Examples
    /// - General: None
    /// 
    /// ## Binding
    /// - **Strength**: required
    /// - **Description**: Permitted data type for observation value.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/permitted-data-type|6.0.0-ballot3
    /// 
    /// ## Conditions
    /// Used when: obd-0
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ObservationDefinition.permittedDataType")]
    #[fhir_serde(rename = "permittedDataType")]
    pub permitted_data_type: Option<Vec<Code>>,
    /// Multiple results allowed for conforming observations
    /// 
    /// Multiple results allowed for observations conforming to this
    /// ObservationDefinition.
    /// 
    /// ## Implementation Notes
    /// An example of observation allowing multiple results is "bacteria identified
    /// by culture". Conversely, the measurement of a potassium level allows a single
    /// result.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Examples
    /// - General: None
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ObservationDefinition.multipleResultsAllowed")]
    #[fhir_serde(rename = "multipleResultsAllowed")]
    pub multiple_results_allowed: Option<Boolean>,
    /// Body structure to be observed
    /// 
    /// The body structure on the subject's body where the observation is to be made.
    /// 
    /// ## Implementation Notes
    /// Only used if the defined observation is to be made directly on a body
    /// structure and if this body structure is not implied by code found in
    /// ObservationDefinition.code. Not used for in vitro diagnostic observations.
    /// Example: 14975008 |Forearm structure|.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: SNOMED CT Body Structures
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/body-site
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ObservationDefinition.bodyStructure")]
    #[fhir_serde(rename = "bodyStructure")]
    pub body_structure: Option<CodeableReference>,
    /// Method used to produce the observation
    /// 
    /// The method or technique used to perform the observation.
    /// 
    /// ## Requirements
    /// In some cases, method can impact results.
    /// 
    /// ## Implementation Notes
    /// Only used if not implicit in observation code
    /// Example: 702659008 |Automated count technique|.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: Methods for simple observations.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/observation-methods
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ObservationDefinition.method")]
    pub method: Option<CodeableConcept>,
    /// Kind of specimen used by this type of observation
    /// 
    /// The kind of specimen that this type of observation is produced on.
    /// 
    /// ## Implementation Notes
    /// Only used for in vitro observations. When multiple occurrences of specimen
    /// are present, they are to be combined with a logical AND: all specified
    /// specimens are needed for the observation.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ObservationDefinition.specimen")]
    pub specimen: Option<Vec<Reference>>,
    /// Measurement device or model of device
    /// 
    /// The measurement model of device or actual device used to produce observations
    /// of this type.
    /// 
    /// ## Implementation Notes
    /// When multiple occurrences of device are present, they are to be combined with
    /// a logical OR: at least one of the specified devices is used to produce the
    /// observation.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ObservationDefinition.device[x]")]
    #[fhir_serde(flatten)]
    pub device: Option<ObservationDefinitionDevice>,
    /// The preferred name to be used when reporting the observation results
    /// 
    /// The preferred name to be used when reporting the results of observations
    /// conforming to this ObservationDefinition.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ObservationDefinition.preferredReportName")]
    #[fhir_serde(rename = "preferredReportName")]
    pub preferred_report_name: Option<String>,
    /// Unit for quantitative results
    /// 
    /// Units allowed for the valueQuantity element in the instance observations
    /// conforming to this ObservationDefinition.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: preferred
    /// - **Description**: Codes identifying units of measure.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/ucum-units
    /// 
    /// ## Conditions
    /// Used when: obd-0
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ObservationDefinition.permittedUnit")]
    #[fhir_serde(rename = "permittedUnit")]
    pub permitted_unit: Option<Vec<Coding>>,
    /// Set of qualified values for observation results
    /// 
    /// A set of qualified values associated with a context and a set of conditions -
    /// provides a range for quantitative and ordinal observations and a collection
    /// of value sets for qualitative observations.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children or both (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children or both", expr="hasValue() or (children().count() > id.count())", path="ObservationDefinition.qualifiedValue")]
    #[fhir_serde(rename = "qualifiedValue")]
    pub qualified_value: Option<Vec<ObservationDefinitionQualifiedValue>>,
    /// Definitions of related resources belonging to this kind of observation group
    /// 
    /// This ObservationDefinition defines a group observation (e.g. a battery, a
    /// panel of tests, a set of vital sign measurements) that includes the target as
    /// a member of the group.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ObservationDefinition.hasMember")]
    #[fhir_serde(rename = "hasMember")]
    pub has_member: Option<Vec<Reference>>,
    /// Component results
    /// 
    /// Some observations have multiple component observations, expressed as separate
    /// code value pairs.
    /// 
    /// ## Requirements
    /// Component observations share the same attributes as the primary observation
    /// and are always treated as a part of it (they are not separable).
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children or both (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **obd-1**: If permittedUnit exists, then permittedDataType=Quantity must exist. (error)
    ///   Expression: `permittedUnit.exists() implies permittedDataType.exists(value = 'Quantity')`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children or both", expr="hasValue() or (children().count() > id.count())", path="ObservationDefinition.component")]
    #[fhir_invariant(key="obd-1", severity="error", human="If permittedUnit exists, then permittedDataType=Quantity must exist.", expr="permittedUnit.exists() implies permittedDataType.exists(value = 'Quantity')", path="ObservationDefinition.component")]
    pub component: Option<Vec<ObservationDefinitionComponent>>,
}

/// Component results
/// 
/// Some observations have multiple component observations, expressed as separate
/// code value pairs.
/// 
/// ## Requirements
/// Component observations share the same attributes as the primary observation
/// and are always treated as a part of it (they are not separable).
/// 
/// ## Cardinality: Optional, Multiple (0..*)
/// 
/// ## Constraints
/// - **ele-1**: All FHIR elements must have a @value or children or both (error)
///   Expression: `hasValue() or (children().count() > id.count())`
/// - **obd-1**: If permittedUnit exists, then permittedDataType=Quantity must exist. (error)
///   Expression: `permittedUnit.exists() implies permittedDataType.exists(value = 'Quantity')`
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath, Default, FhirValidate)]
#[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children or both", expr="hasValue() or (children().count() > id.count())", path="ObservationDefinition.component")]
#[fhir_invariant(key="obd-1", severity="error", human="If permittedUnit exists, then permittedDataType=Quantity must exist.", expr="permittedUnit.exists() implies permittedDataType.exists(value = 'Quantity')", path="ObservationDefinition.component")]
pub struct ObservationDefinitionComponent {
    /// Unique id for inter-element referencing
    /// 
    /// Unique id for the element within a resource (for internal references). This
    /// may be any string value that does not contain spaces.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Conditions
    /// Used when: ele-1
    pub id: Option<String>,
    /// Additional content defined by implementations
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element. To make the use of extensions safe and managable,
    /// there is a strict set of governance applied to the definition and use of
    /// extensions. Though any implementer can define an extension, there is a set of
    /// requirements that SHALL be met as part of the definition of the extension.
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Aliases
    /// extensions, user content
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ObservationDefinition.component.extension")]
    pub extension: Option<Vec<Extension>>,
    /// Extensions that cannot be ignored even if unrecognized
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element and that modifies the understanding of the element
    /// in which it is contained and/or the understanding of the containing element's
    /// descendants. Usually modifier elements provide negation or qualification. To
    /// make the use of extensions safe and managable, there is a strict set of
    /// governance applied to the definition and use of extensions. Though any
    /// implementer can define an extension, there is a set of requirements that
    /// SHALL be met as part of the definition of the extension. Applications
    /// processing a resource are required to check for modifier extensions.
    /// 
    /// Modifier extensions SHALL NOT change the meaning of any elements on Resource
    /// or DomainResource (including cannot change the meaning of modifierExtension
    /// itself).
    /// 
    /// ## Requirements
    /// Modifier extensions allow for extensions that *cannot* be safely ignored to
    /// be clearly distinguished from the vast majority of extensions which can be
    /// safely ignored. This promotes interoperability by eliminating the need for
    /// implementers to prohibit the presence of extensions. For further information,
    /// see the [definition of modifier
    /// extensions](extensibility.html#modifierExtension).
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Modifier element - Modifier extensions are expected to modify the meaning or interpretation of the element that contains them
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Aliases
    /// extensions, user content, modifiers
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ObservationDefinition.component.modifierExtension")]
    #[fhir_serde(rename = "modifierExtension")]
    pub modifier_extension: Option<Vec<Extension>>,
    /// Type of observation
    /// 
    /// Describes what will be observed.
    /// 
    /// ## Cardinality: Required (1..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: Codes identifying names of simple observations.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/observation-codes-observationorboth
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ObservationDefinition.component.code")]
    pub code: CodeableConcept,
    /// Quantity | CodeableConcept | string | boolean | integer | Range | Ratio | SampledData | time | dateTime | Period
    /// 
    /// The data types allowed for the value element of the instance of this
    /// component observations.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Examples
    /// - General: None
    /// 
    /// ## Binding
    /// - **Strength**: required
    /// - **Description**: Permitted data type for observation value.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/permitted-data-type|6.0.0-ballot3
    /// 
    /// ## Conditions
    /// Used when: obd-1
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ObservationDefinition.component.permittedDataType")]
    #[fhir_serde(rename = "permittedDataType")]
    pub permitted_data_type: Option<Vec<Code>>,
    /// Unit for quantitative results
    /// 
    /// Units allowed for the valueQuantity element in the instance observations
    /// conforming to this ObservationDefinition.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: preferred
    /// - **Description**: Codes identifying units of measure.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/ucum-units
    /// 
    /// ## Conditions
    /// Used when: obd-1
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ObservationDefinition.component.permittedUnit")]
    #[fhir_serde(rename = "permittedUnit")]
    pub permitted_unit: Option<Vec<Coding>>,
    /// Set of qualified values for observation results
    /// 
    /// A set of qualified values associated with a context and a set of conditions -
    /// provides a range for quantitative and ordinal observations and a collection
    /// of value sets for qualitative observations.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ObservationDefinition.component.qualifiedValue")]
    #[fhir_serde(rename = "qualifiedValue")]
    pub qualified_value: Option<Vec<ObservationDefinitionQualifiedValue>>,
}

/// Set of qualified values for observation results
/// 
/// A set of qualified values associated with a context and a set of conditions -
/// provides a range for quantitative and ordinal observations and a collection
/// of value sets for qualitative observations.
/// 
/// ## Cardinality: Optional, Multiple (0..*)
/// 
/// ## Constraints
/// - **ele-1**: All FHIR elements must have a @value or children or both (error)
///   Expression: `hasValue() or (children().count() > id.count())`
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath, Default, FhirValidate)]
#[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children or both", expr="hasValue() or (children().count() > id.count())", path="ObservationDefinition.qualifiedValue")]
pub struct ObservationDefinitionQualifiedValue {
    /// Unique id for inter-element referencing
    /// 
    /// Unique id for the element within a resource (for internal references). This
    /// may be any string value that does not contain spaces.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Conditions
    /// Used when: ele-1
    pub id: Option<String>,
    /// Additional content defined by implementations
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element. To make the use of extensions safe and managable,
    /// there is a strict set of governance applied to the definition and use of
    /// extensions. Though any implementer can define an extension, there is a set of
    /// requirements that SHALL be met as part of the definition of the extension.
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Aliases
    /// extensions, user content
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ObservationDefinition.qualifiedValue.extension")]
    pub extension: Option<Vec<Extension>>,
    /// Extensions that cannot be ignored even if unrecognized
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element and that modifies the understanding of the element
    /// in which it is contained and/or the understanding of the containing element's
    /// descendants. Usually modifier elements provide negation or qualification. To
    /// make the use of extensions safe and managable, there is a strict set of
    /// governance applied to the definition and use of extensions. Though any
    /// implementer can define an extension, there is a set of requirements that
    /// SHALL be met as part of the definition of the extension. Applications
    /// processing a resource are required to check for modifier extensions.
    /// 
    /// Modifier extensions SHALL NOT change the meaning of any elements on Resource
    /// or DomainResource (including cannot change the meaning of modifierExtension
    /// itself).
    /// 
    /// ## Requirements
    /// Modifier extensions allow for extensions that *cannot* be safely ignored to
    /// be clearly distinguished from the vast majority of extensions which can be
    /// safely ignored. This promotes interoperability by eliminating the need for
    /// implementers to prohibit the presence of extensions. For further information,
    /// see the [definition of modifier
    /// extensions](extensibility.html#modifierExtension).
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Modifier element - Modifier extensions are expected to modify the meaning or interpretation of the element that contains them
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Aliases
    /// extensions, user content, modifiers
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ObservationDefinition.qualifiedValue.modifierExtension")]
    #[fhir_serde(rename = "modifierExtension")]
    pub modifier_extension: Option<Vec<Extension>>,
    /// Context qualifier for the set of qualified values
    /// 
    /// A concept defining the context for this set of qualified values.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: extensible
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/referencerange-meaning
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ObservationDefinition.qualifiedValue.context")]
    pub context: Option<CodeableConcept>,
    /// Targetted population for the set of qualified values
    /// 
    /// The target population this  set of qualified values applies to.
    /// 
    /// ## Implementation Notes
    /// If this element is not present then the global population is assumed.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/referencerange-appliesto
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ObservationDefinition.qualifiedValue.appliesTo")]
    #[fhir_serde(rename = "appliesTo")]
    pub applies_to: Option<Vec<CodeableConcept>>,
    /// male | female | other | unknown
    /// 
    /// The sex parameter for clinical use this set of qualified values applies to.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Examples
    /// - General: None
    /// 
    /// ## Binding
    /// - **Strength**: required
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/administrative-gender|6.0.0-ballot3
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ObservationDefinition.qualifiedValue.sexParameterForClinicalUse")]
    #[fhir_serde(rename = "sexParameterForClinicalUse")]
    pub sex_parameter_for_clinical_use: Option<Code>,
    /// Applicable age range for the set of qualified values
    /// 
    /// The age range this  set of qualified values applies to.
    /// 
    /// ## Implementation Notes
    /// Some analytes vary greatly over age.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ObservationDefinition.qualifiedValue.age")]
    pub age: Option<Range>,
    /// Applicable gestational age range for the set of qualified values
    /// 
    /// The gestational age this  set of qualified values applies to.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ObservationDefinition.qualifiedValue.gestationalAge")]
    #[fhir_serde(rename = "gestationalAge")]
    pub gestational_age: Option<Range>,
    /// Validity criterion for the qualified value
    /// 
    /// Description of the criterion for which the qualified value is valid.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ObservationDefinition.qualifiedValue.condition")]
    pub condition: Option<String>,
    /// reference | critical | absolute
    /// 
    /// The category of range of values for continuous or ordinal observations that
    /// match the criteria of this set of qualified values.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Examples
    /// - General: None
    /// 
    /// ## Binding
    /// - **Strength**: required
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/observation-range-category|6.0.0-ballot3
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ObservationDefinition.qualifiedValue.rangeCategory")]
    #[fhir_serde(rename = "rangeCategory")]
    pub range_category: Option<Code>,
    /// The range for continuous or ordinal observations
    /// 
    /// The range of values defined for continuous or ordinal observations that match
    /// the criteria of this set of qualified values.
    /// 
    /// ## Requirements
    /// The unit may be not relevant for ordinal values. In case it is there, it is
    /// the same as ObservationDefinition.unit.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ObservationDefinition.qualifiedValue.range")]
    pub range: Option<Range>,
    /// Value set of valid coded values as part of this set of qualified values
    /// 
    /// The set of valid coded results for qualitative observations that match the
    /// criteria of this set of qualified values.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ObservationDefinition.qualifiedValue.validCodedValueSet")]
    #[fhir_serde(rename = "validCodedValueSet")]
    pub valid_coded_value_set: Option<Canonical>,
    /// Value set of normal coded values as part of this set of qualified values
    /// 
    /// The set of normal coded results for qualitative observations that match the
    /// criteria of this set of qualified values.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ObservationDefinition.qualifiedValue.normalCodedValueSet")]
    #[fhir_serde(rename = "normalCodedValueSet")]
    pub normal_coded_value_set: Option<Canonical>,
    /// Value set of abnormal coded values as part of this set of qualified values
    /// 
    /// The set of abnormal coded results for qualitative observations that match the
    /// criteria of this set of qualified values.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ObservationDefinition.qualifiedValue.abnormalCodedValueSet")]
    #[fhir_serde(rename = "abnormalCodedValueSet")]
    pub abnormal_coded_value_set: Option<Canonical>,
    /// Value set of critical coded values as part of this set of qualified values
    /// 
    /// The set of critical coded results for qualitative observations that match the
    /// criteria of this set of qualified values.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ObservationDefinition.qualifiedValue.criticalCodedValueSet")]
    #[fhir_serde(rename = "criticalCodedValueSet")]
    pub critical_coded_value_set: Option<Canonical>,
    /// Expected coded interpretation values
    /// 
    /// The expected coded interpretation values of an observation that matches this
    /// qualified interval. For example, high, low, normal.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: extensible
    /// - **Description**: Codes identifying interpretations of observations.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/observation-interpretation
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ObservationDefinition.qualifiedValue.interpretation")]
    pub interpretation: Option<Vec<CodeableConcept>>,
}

