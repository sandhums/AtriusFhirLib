// AUTO-GENERATED by atrius-fhir-generator (R6 ImagingSelection)
use crate::r6::*;

/// FHIR ImagingSelection type
/// 
/// A selection of DICOM SOP instances within a single Study and Series. This
/// might include additional specifics such as a set of frames or an image
/// region, allowing linkage to an Observation Resource.
/// 
/// ## Type: Resource type
/// Base type: http://hl7.org/fhir/StructureDefinition/DomainResource
/// 
/// ## Status: active
/// FHIR Version: 6.0.0-ballot3
/// 
/// See: [ImagingSelection](http://hl7.org/fhir/StructureDefinition/ImagingSelection)
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath, Default, FhirValidate)]
#[fhir_invariant(key="dom-2", severity="error", human="If the resource is contained in another resource, it SHALL NOT contain nested Resources", expr="contained.contained.empty()", path="ImagingSelection")]
#[fhir_invariant(key="dom-3", severity="error", human="If the resource is contained in another resource, it SHALL be referred to from elsewhere in the resource or SHALL refer to the containing resource", expr="contained.where((('#'+id.trace('id') in %resource.descendants().select(reference | as(uri))) or descendants().where(reference='#' | as(uri)='#').exists()).not()).trace('unmatched', id).empty()", path="ImagingSelection")]
#[fhir_invariant(key="dom-4", severity="error", human="If a resource is contained in another resource, it SHALL NOT have a meta.versionId or a meta.lastUpdated", expr="contained.meta.versionId.empty() and contained.meta.lastUpdated.empty()", path="ImagingSelection")]
#[fhir_invariant(key="dom-5", severity="error", human="If a resource is contained in another resource, it SHALL NOT have a security label", expr="contained.meta.security.empty()", path="ImagingSelection")]
#[fhir_invariant(key="dom-6", severity="warning", human="A resource should have narrative for robust management", expr="text.`div`.exists()", path="ImagingSelection")]
#[fhir_invariant(key="isl-1", severity="error", human="At least one of seriesUid or imageRegion3D SHALL be present", expr="seriesUid.exists() or imageRegion3D.exists()", path="ImagingSelection")]
#[fhir_invariant(key="isl-2", severity="error", human="seriesUid SHALL only be present if studyUid is present", expr="seriesUid.exists() implies studyUid.exists()", path="ImagingSelection")]
#[fhir_invariant(key="isl-3", severity="error", human="seriesNumber SHALL only be present if seriesUid is present", expr="seriesNumber.exists() implies seriesUid.exists()", path="ImagingSelection")]
#[fhir_invariant(key="isl-4", severity="error", human="instance SHALL only be present if seriesUid is present", expr="instance.exists() implies seriesUid.exists()", path="ImagingSelection")]
#[fhir_invariant(key="isl-5", severity="error", human="imageRegion3D SHALL only be present if frameOfReferenceUid is present", expr="imageRegion3D.exists() implies frameOfReferenceUid.exists()", path="ImagingSelection")]
#[fhir_invariant(key="isl-6", severity="error", human="imageRegion3D SHALL only be present if instance.imageRegion2D is not present", expr="imageRegion3D.exists() implies instance.imageRegion2D.empty()", path="ImagingSelection")]
#[fhir_invariant(key="isl-7", severity="error", human="if present, instance.imageRegion2D.coordinate SHALL have a value count that is a multiple of 2", expr="instance.imageRegion2D.coordinate.exists() implies instance.imageRegion2D.coordinate.count() mod 2 = 0", path="ImagingSelection")]
#[fhir_invariant(key="isl-8", severity="error", human="if present, imageRegion3D.coordinate SHALL have a value count that is a multiple of 3", expr="imageRegion3D.coordinate.exists() implies imageRegion3D.coordinate.count() mod 3 = 0", path="ImagingSelection")]
#[fhir_invariant(key="isl-9", severity="error", human="modality SHALL only be present if seriesUid is present", expr="modality.exists() implies seriesUid.exists()", path="ImagingSelection")]
#[fhir_invariant(key="isl-10", severity="error", human="only one of instance.frameNumber, instance.referencedContentItemIdentifier, instance.segmentNumber, instance.regionOfInterest and instance.waveFormChannel SHALL be present", expr="(instance.frameNumber.exists() implies (instance.referencedContentItemIdentifier.exists() or instance.segmentNumber.exists() or instance.regionOfInterest.exists() or instance.waveFormChannel.exists()).not()) and (instance.referencedContentItemIdentifier.exists() implies (instance.frameNumber.exists() or instance.segmentNumber.exists() or instance.regionOfInterest.exists() or instance.waveFormChannel.exists()).not()) and (instance.segmentNumber.exists() implies (instance.frameNumber.exists() or instance.referencedContentItemIdentifier.exists() or instance.regionOfInterest.exists() or instance.waveFormChannel.exists()).not()) and (instance.regionOfInterest.exists() implies (instance.frameNumber.exists() or instance.referencedContentItemIdentifier.exists() or instance.segmentNumber.exists() or instance.waveFormChannel.exists()).not()) and (instance.waveFormChannel.exists() implies (instance.frameNumber.exists() or instance.referencedContentItemIdentifier.exists() or instance.segmentNumber.exists() or instance.regionOfInterest.exists()).not())", path="ImagingSelection")]
#[fhir_invariant(key="isl-11", severity="error", human="if present, instance.waveFormChannel SHALL have a value count that is a multiple of 2", expr="instance.waveFormChannel.exists() implies instance.waveFormChannel.count() mod 2 = 0", path="ImagingSelection")]
pub struct ImagingSelection {
    /// Logical id of this artifact
    /// 
    /// The logical id of the resource, as used in the URL for the resource. Once
    /// assigned, this value never changes.
    /// 
    /// ## Implementation Notes
    /// Within the context of the FHIR RESTful interactions, the resource has an id
    /// except for cases like the create and conditional update. Otherwise, the use
    /// of the resouce id depends on the given use case.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    pub id: Option<String>,
    /// Metadata about the resource
    /// 
    /// The metadata about the resource. This is content that is maintained by the
    /// infrastructure. Changes to the content might not always be associated with
    /// version changes to the resource.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ImagingSelection.meta")]
    pub meta: Option<Meta>,
    /// A set of rules under which this content was created
    /// 
    /// A reference to a set of rules that were followed when the resource was
    /// constructed, and which must be understood when processing the content. Often,
    /// this is a reference to an implementation guide that defines the special rules
    /// along with other profiles etc. For DomainResources, if more than one
    /// implicitRules policy applies, additional policies may be conveyed using the
    /// [additionalImplicitRules](https://build.fhir.org/ig/HL7/fhir-extensions/StructureDefinition-additionalImplicitRules.html)
    /// extension.
    /// 
    /// ## Implementation Notes
    /// Asserting this rule set restricts the content to be only understood by a
    /// limited set of trading partners. This inherently limits the usefulness of the
    /// data in the long term. However, the existing health eco-system is highly
    /// fractured, and not yet ready to define, collect, and exchange data in a
    /// generally computable sense. Wherever possible, implementers and/or
    /// specification writers should avoid using this element. Often, when used, the
    /// URL is a reference to an implementation guide that defines these special
    /// rules as part of its narrative along with other profiles, value sets, etc.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Modifier element - This element is labeled as a modifier because the implicit rules may provide additional knowledge about the resource that modifies its meaning or interpretation
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ImagingSelection.implicitRules")]
    #[fhir_serde(rename = "implicitRules")]
    pub implicit_rules: Option<Uri>,
    /// Language of the resource content
    /// 
    /// The base language in which the resource is written.
    /// 
    /// ## Implementation Notes
    /// Language is provided to support indexing and accessibility (typically,
    /// services such as text to speech use the language tag). The html language tag
    /// in the narrative applies to the narrative. The language tag on the resource
    /// may be used to specify the language of other presentations generated from the
    /// data in the resource. Not all the content has to be in the base language. The
    /// Resource.language should not be assumed to apply to the narrative
    /// automatically. If a language is specified, it should it also be specified on
    /// the div element in the html (see rules in HTML5 for information about the
    /// relationship between xml:lang and the html lang attribute).
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: required
    /// - **Description**: IETF language tag for a human language
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/all-languages|6.0.0-ballot3
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ImagingSelection.language")]
    pub language: Option<Code>,
    /// Text summary of the resource, for human interpretation
    /// 
    /// A human-readable narrative that contains a summary of the resource and can be
    /// used to represent the content of the resource to a human. The narrative need
    /// not encode all the structured data, but is required to contain sufficient
    /// detail to make it "clinically safe" for a human to just read the narrative.
    /// Resource definitions may define what content should be represented in the
    /// narrative to ensure clinical safety.
    /// 
    /// ## Implementation Notes
    /// Contained resources do not have a narrative. Resources that are not contained
    /// SHOULD have a narrative. In some cases, a resource may only have text with
    /// little or no additional discrete data (as long as all minOccurs=1 elements
    /// are satisfied). This may be necessary for data from legacy systems where
    /// information is captured as a "text blob" or where text is additionally
    /// entered raw or narrated and encoded information is added later.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Aliases
    /// narrative, html, xhtml, display
    /// 
    /// ## Conditions
    /// Used when: dom-6
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ImagingSelection.text")]
    pub text: Option<Narrative>,
    /// Contained, inline Resources
    /// 
    /// These resources do not have an independent existence apart from the resource
    /// that contains them - they cannot be identified independently, nor can they
    /// have their own independent transaction scope. This is allowed to be a
    /// Parameters resource if and only if it is referenced by a resource that
    /// provides context/meaning.
    /// 
    /// ## Implementation Notes
    /// This should never be done when the content can be identified properly, as
    /// once identification is lost, it is extremely difficult (and context
    /// dependent) to restore it again. Contained resources may have profiles and
    /// tags in their meta elements, but SHALL NOT have security labels. Contained
    /// resources may be a resource type defined in the FHIR specification, or an
    /// [additional resource](resource.html#additional).
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Aliases
    /// inline resources, anonymous resources, contained resources
    /// 
    /// ## Conditions
    /// Used when: dom-2, dom-4, dom-3, dom-5
    pub contained: Option<Vec<Resource>>,
    /// Additional content defined by implementations
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the resource. To make the use of extensions safe and managable,
    /// there is a strict set of governance applied to the definition and use of
    /// extensions. Though any implementer can define an extension, there is a set of
    /// requirements that SHALL be met as part of the definition of the extension.
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Aliases
    /// extensions, user content
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ImagingSelection.extension")]
    pub extension: Option<Vec<Extension>>,
    /// Extensions that cannot be ignored
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the resource and that modifies the understanding of the element
    /// that contains it and/or the understanding of the containing element's
    /// descendants. Usually modifier elements provide negation or qualification. To
    /// make the use of extensions safe and managable, there is a strict set of
    /// governance applied to the definition and use of extensions. Though any
    /// implementer is allowed to define an extension, there is a set of requirements
    /// that SHALL be met as part of the definition of the extension. Applications
    /// processing a resource are required to check for modifier extensions.
    /// 
    /// Modifier extensions SHALL NOT change the meaning of any elements on Resource
    /// or DomainResource (including cannot change the meaning of modifierExtension
    /// itself).
    /// 
    /// ## Requirements
    /// Modifier extensions allow for extensions that *cannot* be safely ignored to
    /// be clearly distinguished from the vast majority of extensions which can be
    /// safely ignored. This promotes interoperability by eliminating the need for
    /// implementers to prohibit the presence of extensions. For further information,
    /// see the [definition of modifier
    /// extensions](extensibility.html#modifierExtension).
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Modifier element - Modifier extensions are expected to modify the meaning or interpretation of the resource that contains them
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Aliases
    /// extensions, user content
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ImagingSelection.modifierExtension")]
    #[fhir_serde(rename = "modifierExtension")]
    pub modifier_extension: Option<Vec<Extension>>,
    /// Business identifier for imaging selection
    /// 
    /// Business identifiers assigned to this imaging selection by the performer
    /// and/or other systems. These identifiers remain constant as the resource is
    /// updated and propagates from server to server.
    /// 
    /// ## Requirements
    /// Allows identification of the imaging selection as it is known by various
    /// participating systems and in a way that remains consistent across servers.
    /// 
    /// ## Implementation Notes
    /// Note: This is a business identifier, not a resource identifier (see
    /// [discussion](resource.html#identifiers)). It is best practice for the
    /// identifier to only appear on a single resource instance, however business
    /// practices MAY occasionally dictate that multiple resource instances with the
    /// same identifier can exist - possibly even with different resource types. For
    /// example, multiple Patient and a Person resource instance might share the same
    /// social insurance number.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ImagingSelection.identifier")]
    pub identifier: Option<Vec<Identifier>>,
    /// available | entered-in-error | inactive | unknown
    /// 
    /// The current state of the imaging selection. This is distinct from the status
    /// of any imaging study, service request, or task associated with the imaging
    /// selection.
    /// 
    /// ## Implementation Notes
    /// Unknown does not represent "other" - one of the defined statuses must apply.
    /// Unknown is used when the authoring system is not sure what the current status
    /// is.
    /// 
    /// ## Cardinality: Required (1..1)
    /// 
    /// ## Special Semantics
    /// - Modifier element - This element is labeled as a modifier because it is a status element that contains status entered-in-error which means that the resource SHOULD NOT be treated as valid
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: required
    /// - **Description**: The status of the ImagingSelection.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/imagingselection-status|6.0.0-ballot3
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ImagingSelection.status")]
    pub status: Code,
    /// Classifies the imaging selection
    /// 
    /// Classifies the general purpose of the imaging selection.
    /// 
    /// ## Requirements
    /// Used for filtering what imaging selections are retrieved and displayed.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: preferred
    /// - **Description**: Key Object Selection Document Title.
    /// - **ValueSet**: http://dicom.nema.org/medical/dicom/current/output/chtml/part16/sect_CID_7010.html
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ImagingSelection.category")]
    pub category: Option<Vec<CodeableConcept>>,
    /// The distinct modality
    /// 
    /// The distinct modality for this selected series. This MAY be either an
    /// acquisition modality (e.g. CT, MR) or a non-acquisition modality (e.g.
    /// segmentation, presentation state).
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: extensible
    /// - **Description**: Type of acquired data in the instance.
    /// - **ValueSet**: http://dicom.nema.org/medical/dicom/current/output/chtml/part16/sect_CID_33.html
    /// 
    /// ## Conditions
    /// Used when: isl-9
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ImagingSelection.modality")]
    pub modality: Option<CodeableConcept>,
    /// Imaging Selection purpose text or code
    /// 
    /// Identifies the type of imaging selection.
    /// 
    /// ## Requirements
    /// Identifies the type of content and the structure of the imaging selection.
    /// 
    /// ## Cardinality: Required (1..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: preferred
    /// - **Description**: Image Reference Type.
    /// - **ValueSet**: http://terminology.hl7.org/ValueSet/image-reference-type
    /// 
    /// ## Aliases
    /// Description
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ImagingSelection.code")]
    pub code: CodeableConcept,
    /// Who or what is the subject of the imaging selection
    /// 
    /// The subject, typically a patient, of the imaging selection.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ImagingSelection.subject")]
    pub subject: Option<Reference>,
    /// When the imaging selection was created
    /// 
    /// Date and time the imaging selection was created.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ImagingSelection.issued")]
    pub issued: Option<Instant>,
    /// Who performed imaging selection and what they did
    /// 
    /// Indicates who or what performed the imaging selection and how they were
    /// involved.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children or both (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children or both", expr="hasValue() or (children().count() > id.count())", path="ImagingSelection.performer")]
    pub performer: Option<Vec<ImagingSelectionPerformer>>,
    /// Fulfills plan or order
    /// 
    /// A plan or order that is fulfilled in whole or in part by this imaging
    /// selection.
    /// 
    /// ## Requirements
    /// Allows tracing of authorization for the imaging selection and tracking
    /// whether proposals/recommendations were acted upon. If the imaging selection
    /// is associated with an Accession Number, this field SHOULD include a reference
    /// to that value in the form: identifier.value = (Accession Number Value)
    /// identifier.type = ACSN. A reference value pointing to a ServiceRequest
    /// resource is allowed but is not required.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Aliases
    /// AccessionNumber
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ImagingSelection.basedOn")]
    #[fhir_serde(rename = "basedOn")]
    pub based_on: Option<Vec<Reference>>,
    /// The imaging study from which the imaging selection is derived
    /// 
    /// The imaging study from which the imaging selection is made.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ImagingSelection.derivedFrom")]
    #[fhir_serde(rename = "derivedFrom")]
    pub derived_from: Option<Reference>,
    /// DICOM Study Instance UID
    /// 
    /// The Study Instance UID for the DICOM Study from which the images were
    /// selected.
    /// 
    /// ## Implementation Notes
    /// See [DICOM PS3.3
    /// C.7.2](http://dicom.nema.org/medical/dicom/current/output/chtml/part03/sect_C.7.2.html).
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Examples
    /// - General: None
    /// 
    /// ## Aliases
    /// StudyInstanceUID
    /// 
    /// ## Conditions
    /// Used when: isl-2
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ImagingSelection.studyUid")]
    #[fhir_serde(rename = "studyUid")]
    pub study_uid: Option<Id>,
    /// DICOM Series Instance UID
    /// 
    /// The DICOM Series Instance UID of the selected series.
    /// 
    /// ## Requirements
    /// Must correspond to a Series that is part of the DICOM study identified by the
    /// `studyUid` element.
    /// 
    /// ## Implementation Notes
    /// See [DICOM PS3.3
    /// C.7.3](http://dicom.nema.org/medical/dicom/current/output/chtml/part03/sect_C.7.3.html).
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Examples
    /// - General: None
    /// 
    /// ## Aliases
    /// SeriesInstanceUID
    /// 
    /// ## Conditions
    /// Used when: isl-1, isl-2, isl-3, isl-4, isl-9
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ImagingSelection.seriesUid")]
    #[fhir_serde(rename = "seriesUid")]
    pub series_uid: Option<Id>,
    /// Numeric identifier of the selected series
    /// 
    /// The numeric identifier of the selected series in the study.
    /// 
    /// ## Requirements
    /// Must correspond to the series identified by the `seriesUid` element.
    /// 
    /// ## Implementation Notes
    /// See [DICOM PS3.3
    /// C.7.3](http://dicom.nema.org/medical/dicom/current/output/chtml/part03/sect_C.7.3.html).
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Aliases
    /// SeriesNumber
    /// 
    /// ## Conditions
    /// Used when: isl-3
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ImagingSelection.seriesNumber")]
    #[fhir_serde(rename = "seriesNumber")]
    pub series_number: Option<UnsignedInt>,
    /// The Frame of Reference UID for the selected images
    /// 
    /// Identifier used to group composite instances that have the same coordinate
    /// system that conveys spatial and/or temporal information.
    /// 
    /// ## Implementation Notes
    /// See [DICOM PS3.3
    /// C.7.4.1](http://dicom.nema.org/medical/dicom/current/output/chtml/part03/sect_C.7.4.html).
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Examples
    /// - General: None
    /// 
    /// ## Aliases
    /// FrameOfReferenceUID
    /// 
    /// ## Conditions
    /// Used when: isl-5
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ImagingSelection.frameOfReferenceUid")]
    #[fhir_serde(rename = "frameOfReferenceUid")]
    pub frame_of_reference_uid: Option<Id>,
    /// Selected anatomic structure
    /// 
    /// The anatomic structures selected. See [DICOM Part 16 Annex
    /// L](http://dicom.nema.org/medical/dicom/current/output/chtml/part16/chapter_L.html)
    /// for DICOM to SNOMED-CT mappings. The bodySite MAY include the laterality of
    /// body part imaged.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: SNOMED CT Body site concepts
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/body-site
    /// 
    /// ## Aliases
    /// BodyPartExamined, AnatomicRegionSequence
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ImagingSelection.bodySite")]
    #[fhir_serde(rename = "bodySite")]
    pub body_site: Option<Vec<CodeableReference>>,
    /// Related resources that are the focus for the imaging selection
    /// 
    /// The actual focus of an imaging selection when it is another imaging selection
    /// resource and not the patient of record.
    /// 
    /// ## Implementation Notes
    /// An imaging selection MAY reference a DICOM resource that itself references
    /// other DICOM resources.
    ///        e.g. a presentation state references a set of source images or frames.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ImagingSelection.focus")]
    pub focus: Option<Vec<Reference>>,
    /// The network services providing access for the subset of the study
    /// 
    /// The network services providing access to the selected images, frames, etc.
    /// See implementation notes for information about using DICOM endpoints.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ImagingSelection.endpoint")]
    pub endpoint: Option<Vec<Reference>>,
    /// The selected instances
    /// 
    /// Each imaging selection includes one or more selected DICOM SOP instances.
    /// 
    /// ## Requirements
    /// If this element is not present and ImagingSelection.seriesUid is present, all
    /// instances in the specified series are included in the selection.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children or both (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Conditions
    /// Used when: isl-6, isl-4, isl-7, isl-10, isl-11
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children or both", expr="hasValue() or (children().count() > id.count())", path="ImagingSelection.instance")]
    pub instance: Option<Vec<ImagingSelectionInstance>>,
    /// A 3D region in a DICOM frame of reference
    /// 
    /// Specifies a 3D image region, defined by a region type and a set of 3D
    /// coordinates.
    /// 
    /// ## Requirements
    /// The referenced 3D image region must be in the coordinate system identified by
    /// the `frameOfReferenceUid` element
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children or both (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Conditions
    /// Used when: isl-1, isl-5, isl-6, isl-8
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children or both", expr="hasValue() or (children().count() > id.count())", path="ImagingSelection.imageRegion3D")]
    #[fhir_serde(rename = "imageRegion3D")]
    pub image_region3_d: Option<Vec<ImagingSelectionImageRegion3D>>,
}

/// A 3D region in a DICOM frame of reference
/// 
/// Specifies a 3D image region, defined by a region type and a set of 3D
/// coordinates.
/// 
/// ## Requirements
/// The referenced 3D image region must be in the coordinate system identified by
/// the `frameOfReferenceUid` element
/// 
/// ## Cardinality: Optional, Multiple (0..*)
/// 
/// ## Constraints
/// - **ele-1**: All FHIR elements must have a @value or children or both (error)
///   Expression: `hasValue() or (children().count() > id.count())`
/// 
/// ## Conditions
/// Used when: isl-1, isl-5, isl-6, isl-8
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath, Default, FhirValidate)]
#[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children or both", expr="hasValue() or (children().count() > id.count())", path="ImagingSelection.imageRegion3D")]
pub struct ImagingSelectionImageRegion3D {
    /// Unique id for inter-element referencing
    /// 
    /// Unique id for the element within a resource (for internal references). This
    /// may be any string value that does not contain spaces.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Conditions
    /// Used when: ele-1
    pub id: Option<String>,
    /// Additional content defined by implementations
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element. To make the use of extensions safe and managable,
    /// there is a strict set of governance applied to the definition and use of
    /// extensions. Though any implementer can define an extension, there is a set of
    /// requirements that SHALL be met as part of the definition of the extension.
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Aliases
    /// extensions, user content
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ImagingSelection.imageRegion3D.extension")]
    pub extension: Option<Vec<Extension>>,
    /// Extensions that cannot be ignored even if unrecognized
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element and that modifies the understanding of the element
    /// in which it is contained and/or the understanding of the containing element's
    /// descendants. Usually modifier elements provide negation or qualification. To
    /// make the use of extensions safe and managable, there is a strict set of
    /// governance applied to the definition and use of extensions. Though any
    /// implementer can define an extension, there is a set of requirements that
    /// SHALL be met as part of the definition of the extension. Applications
    /// processing a resource are required to check for modifier extensions.
    /// 
    /// Modifier extensions SHALL NOT change the meaning of any elements on Resource
    /// or DomainResource (including cannot change the meaning of modifierExtension
    /// itself).
    /// 
    /// ## Requirements
    /// Modifier extensions allow for extensions that *cannot* be safely ignored to
    /// be clearly distinguished from the vast majority of extensions which can be
    /// safely ignored. This promotes interoperability by eliminating the need for
    /// implementers to prohibit the presence of extensions. For further information,
    /// see the [definition of modifier
    /// extensions](extensibility.html#modifierExtension).
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Modifier element - Modifier extensions are expected to modify the meaning or interpretation of the element that contains them
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Aliases
    /// extensions, user content, modifiers
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ImagingSelection.imageRegion3D.modifierExtension")]
    #[fhir_serde(rename = "modifierExtension")]
    pub modifier_extension: Option<Vec<Extension>>,
    /// point | multipoint | polyline | polygon | ellipse | ellipsoid
    /// 
    /// Specifies the type of image region.
    /// 
    /// ## Implementation Notes
    /// See [DICOM PS3.3
    /// C.18.9.1.2](http://dicom.nema.org/medical/dicom/current/output/chtml/part03/sect_C.18.9.html#sect_C.18.9.1.2).
    /// 
    /// ## Cardinality: Required (1..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: required
    /// - **Description**: The type of image region.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/imagingselection-3dgraphictype|6.0.0-ballot3
    /// 
    /// ## Aliases
    /// GraphicType
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ImagingSelection.imageRegion3D.regionType")]
    #[fhir_serde(rename = "regionType")]
    pub region_type: Code,
    /// Specifies the coordinates that define the image region
    /// 
    /// The coordinates defining the image region. Encoded as an ordered set of
    /// (x,y,z) triplets (in mm and MAY be negative) that define a region of interest
    /// in the patient-relative Reference Coordinate System defined by
    /// ImagingSelection.frameOfReferenceUid element.
    /// 
    /// ## Requirements
    /// The number of values SHALL be a multiple of three.
    /// 
    /// ## Implementation Notes
    /// For a description of how 3D coordinates are encoded, see [DICOM PS3.3
    /// C.18.9](http://dicom.nema.org/medical/dicom/current/output/chtml/part03/sect_C.18.9.html).
    /// 
    /// ## Cardinality: Required, Multiple (1..*)
    /// 
    /// ## Special Semantics
    /// - Order meaning: The values are an ordered set of (x, y, z) coordinates.
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Aliases
    /// GraphicData
    /// 
    /// ## Conditions
    /// Used when: isl-8
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ImagingSelection.imageRegion3D.coordinate")]
    pub coordinate: Option<Vec<Decimal>>,
}

/// The selected instances
/// 
/// Each imaging selection includes one or more selected DICOM SOP instances.
/// 
/// ## Requirements
/// If this element is not present and ImagingSelection.seriesUid is present, all
/// instances in the specified series are included in the selection.
/// 
/// ## Cardinality: Optional, Multiple (0..*)
/// 
/// ## Special Semantics
/// - Included in summary
/// 
/// ## Constraints
/// - **ele-1**: All FHIR elements must have a @value or children or both (error)
///   Expression: `hasValue() or (children().count() > id.count())`
/// 
/// ## Conditions
/// Used when: isl-6, isl-4, isl-7, isl-10, isl-11
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath, Default, FhirValidate)]
#[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children or both", expr="hasValue() or (children().count() > id.count())", path="ImagingSelection.instance")]
pub struct ImagingSelectionInstance {
    /// Unique id for inter-element referencing
    /// 
    /// Unique id for the element within a resource (for internal references). This
    /// may be any string value that does not contain spaces.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Conditions
    /// Used when: ele-1
    pub id: Option<String>,
    /// Additional content defined by implementations
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element. To make the use of extensions safe and managable,
    /// there is a strict set of governance applied to the definition and use of
    /// extensions. Though any implementer can define an extension, there is a set of
    /// requirements that SHALL be met as part of the definition of the extension.
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Aliases
    /// extensions, user content
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ImagingSelection.instance.extension")]
    pub extension: Option<Vec<Extension>>,
    /// Extensions that cannot be ignored even if unrecognized
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element and that modifies the understanding of the element
    /// in which it is contained and/or the understanding of the containing element's
    /// descendants. Usually modifier elements provide negation or qualification. To
    /// make the use of extensions safe and managable, there is a strict set of
    /// governance applied to the definition and use of extensions. Though any
    /// implementer can define an extension, there is a set of requirements that
    /// SHALL be met as part of the definition of the extension. Applications
    /// processing a resource are required to check for modifier extensions.
    /// 
    /// Modifier extensions SHALL NOT change the meaning of any elements on Resource
    /// or DomainResource (including cannot change the meaning of modifierExtension
    /// itself).
    /// 
    /// ## Requirements
    /// Modifier extensions allow for extensions that *cannot* be safely ignored to
    /// be clearly distinguished from the vast majority of extensions which can be
    /// safely ignored. This promotes interoperability by eliminating the need for
    /// implementers to prohibit the presence of extensions. For further information,
    /// see the [definition of modifier
    /// extensions](extensibility.html#modifierExtension).
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Modifier element - Modifier extensions are expected to modify the meaning or interpretation of the element that contains them
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Aliases
    /// extensions, user content, modifiers
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ImagingSelection.instance.modifierExtension")]
    #[fhir_serde(rename = "modifierExtension")]
    pub modifier_extension: Option<Vec<Extension>>,
    /// DICOM SOP Instance UID
    /// 
    /// The SOP Instance UID for the selected DICOM this image or other DICOM
    /// content.
    /// 
    /// ## Requirements
    /// DICOM SOP Instance UID.
    /// Must correspond to a SOP Instance that is part of the DICOM series identified
    /// by the `seriesUID` element.
    /// 
    /// ## Implementation Notes
    /// See [DICOM PS3.3
    /// C.12.1](http://dicom.nema.org/medical/dicom/current/output/chtml/part03/sect_C.12.html).
    /// 
    /// ## Cardinality: Required (1..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Examples
    /// - General: None
    /// 
    /// ## Aliases
    /// SOPInstanceUID
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ImagingSelection.instance.uid")]
    pub uid: Id,
    /// The number of this instance in the series
    /// 
    /// TThe number of the instance assigned by the creator of the series. MAY or MAY
    /// NOT correspond to intended display order.
    /// 
    /// ## Requirements
    /// DICOM Instance Number.
    /// Must correspond to the SOP Instance identified by the `uid` element.
    /// 
    /// ## Implementation Notes
    /// See [DICOM PS3.3
    /// C.7.6.1](https://dicom.nema.org/medical/dicom/current/output/chtml/part03/sect_C.7.6.html#sect_C.7.6.1).
    ///    Note: A multiframe instance has a single instance number with each frame
    ///    identified by a frame number.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Aliases
    /// InstanceNumber
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ImagingSelection.instance.number")]
    pub number: Option<UnsignedInt>,
    /// DICOM class type
    /// 
    /// DICOM instance type.
    /// 
    /// ## Implementation Notes
    /// See [DICOM PS3.3
    /// C.12.1](http://dicom.nema.org/medical/dicom/current/output/chtml/part03/sect_C.12.html).
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Examples
    /// - General: None
    /// 
    /// ## Aliases
    /// SOPClassUID
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ImagingSelection.instance.sopClass")]
    #[fhir_serde(rename = "sopClass")]
    pub sop_class: Option<Oid>,
    /// Selected frames
    /// 
    /// A list of frame numbers selected from a multiframe SOP Instance (See [DICOM
    /// PS 3.3 Table
    /// 10.3](https://dicom.nema.org/medical/dicom/current/output/chtml/part03/sect_10.3.html#table_10-3)).
    /// 
    /// ## Requirements
    /// Only allowed if the value of `instance.sopClass` corresponds to a multiframe
    /// SOP Class.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Conditions
    /// Used when: isl-10
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ImagingSelection.instance.frameNumber")]
    #[fhir_serde(rename = "frameNumber")]
    pub frame_number: Option<Vec<PositiveInt>>,
    /// Selected content items
    /// 
    /// A list of Referenced Content Item Identifier values selected from a DICOM SR
    /// or other structured document SOP Instance (See [DICOM PS 3.3
    /// C.17.3.2.5](https://dicom.nema.org/medical/dicom/current/output/chtml/part03/sect_C.17.3.2.5.html)).
    /// 
    /// ## Requirements
    /// Only allowed if the value of `instance.sopClass` corresponds to a DICOM SR or
    /// other structured document SOP Class.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Conditions
    /// Used when: isl-10
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ImagingSelection.instance.referencedContentItemIdentifier")]
    #[fhir_serde(rename = "referencedContentItemIdentifier")]
    pub referenced_content_item_identifier: Option<Vec<PositiveInt>>,
    /// Selected segments
    /// 
    /// A list of segment numbers selected from a segmentation SOP Instance (See
    /// [DICOM PS 3.3 Table
    /// C.8.20-4](https://dicom.nema.org/medical/dicom/current/output/chtml/part03/sect_C.8.20.4.html#table_C.8.20-4)).
    /// 
    /// ## Requirements
    /// Only allowed if the value of `instance.sopClass` corresponds to a
    /// segmentation SOP Class.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Conditions
    /// Used when: isl-10
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ImagingSelection.instance.segmentNumber")]
    #[fhir_serde(rename = "segmentNumber")]
    pub segment_number: Option<Vec<PositiveInt>>,
    /// Selected regions of interest
    /// 
    /// A list of Region of Interest (ROI) numbers selected from a radiotherapy
    /// structure set SOP Instance (See [DICOM PS 3.3
    /// C.8.8.5](https://dicom.nema.org/medical/dicom/current/output/chtml/part03/sect_C.8.8.5.html)).
    /// 
    /// ## Requirements
    /// Only allowed if the value of `instance.sopClass` corresponds to a
    /// radiotherapy structure set SOP Class.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Conditions
    /// Used when: isl-10
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ImagingSelection.instance.regionOfInterest")]
    #[fhir_serde(rename = "regionOfInterest")]
    pub region_of_interest: Option<Vec<PositiveInt>>,
    /// Selected waveform channel
    /// 
    /// A list of channels in a Waveform selected from an instance of a waveform SOP
    /// Class.
    /// Each channel is specified as a pair of values where the first value is the
    /// Multiplex Group Number, and the second value is the Channel Number within the
    /// multiplex group (See [DICOM PS 3.3
    /// C.18.5.1.1](https://dicom.nema.org/medical/dicom/current/output/chtml/part03/sect_C.18.5.html#sect_C.18.5.1.1)).
    /// 
    /// ## Requirements
    /// Only allowed if the value of `instance.sopClass` corresponds to a waveform
    /// structure set SOP Class.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Conditions
    /// Used when: isl-10, isl-11
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ImagingSelection.instance.waveFormChannel")]
    #[fhir_serde(rename = "waveFormChannel")]
    pub wave_form_channel: Option<Vec<PositiveInt>>,
    /// A 2D region in an image
    /// 
    /// Specifies an image region, defined by a region type and a set of 2D
    /// coordinates in pixel space.
    /// 
    /// ## Requirements
    /// SHALL NOT be present if the parent imagingSelection.instance is not an image.
    /// If the parent imagingSelection.instance contains a subset element of type
    /// frame, the image region applies to all frames in the subset list.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children or both (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Conditions
    /// Used when: isl-6, isl-7
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children or both", expr="hasValue() or (children().count() > id.count())", path="ImagingSelection.instance.imageRegion2D")]
    #[fhir_serde(rename = "imageRegion2D")]
    pub image_region2_d: Option<Vec<ImagingSelectionInstanceImageRegion2D>>,
}

/// A 2D region in an image
/// 
/// Specifies an image region, defined by a region type and a set of 2D
/// coordinates in pixel space.
/// 
/// ## Requirements
/// SHALL NOT be present if the parent imagingSelection.instance is not an image.
/// If the parent imagingSelection.instance contains a subset element of type
/// frame, the image region applies to all frames in the subset list.
/// 
/// ## Cardinality: Optional, Multiple (0..*)
/// 
/// ## Constraints
/// - **ele-1**: All FHIR elements must have a @value or children or both (error)
///   Expression: `hasValue() or (children().count() > id.count())`
/// 
/// ## Conditions
/// Used when: isl-6, isl-7
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath, Default, FhirValidate)]
#[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children or both", expr="hasValue() or (children().count() > id.count())", path="ImagingSelection.instance.imageRegion2D")]
pub struct ImagingSelectionInstanceImageRegion2D {
    /// Unique id for inter-element referencing
    /// 
    /// Unique id for the element within a resource (for internal references). This
    /// may be any string value that does not contain spaces.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Conditions
    /// Used when: ele-1
    pub id: Option<String>,
    /// Additional content defined by implementations
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element. To make the use of extensions safe and managable,
    /// there is a strict set of governance applied to the definition and use of
    /// extensions. Though any implementer can define an extension, there is a set of
    /// requirements that SHALL be met as part of the definition of the extension.
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Aliases
    /// extensions, user content
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ImagingSelection.instance.imageRegion2D.extension")]
    pub extension: Option<Vec<Extension>>,
    /// Extensions that cannot be ignored even if unrecognized
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element and that modifies the understanding of the element
    /// in which it is contained and/or the understanding of the containing element's
    /// descendants. Usually modifier elements provide negation or qualification. To
    /// make the use of extensions safe and managable, there is a strict set of
    /// governance applied to the definition and use of extensions. Though any
    /// implementer can define an extension, there is a set of requirements that
    /// SHALL be met as part of the definition of the extension. Applications
    /// processing a resource are required to check for modifier extensions.
    /// 
    /// Modifier extensions SHALL NOT change the meaning of any elements on Resource
    /// or DomainResource (including cannot change the meaning of modifierExtension
    /// itself).
    /// 
    /// ## Requirements
    /// Modifier extensions allow for extensions that *cannot* be safely ignored to
    /// be clearly distinguished from the vast majority of extensions which can be
    /// safely ignored. This promotes interoperability by eliminating the need for
    /// implementers to prohibit the presence of extensions. For further information,
    /// see the [definition of modifier
    /// extensions](extensibility.html#modifierExtension).
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Modifier element - Modifier extensions are expected to modify the meaning or interpretation of the element that contains them
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Aliases
    /// extensions, user content, modifiers
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ImagingSelection.instance.imageRegion2D.modifierExtension")]
    #[fhir_serde(rename = "modifierExtension")]
    pub modifier_extension: Option<Vec<Extension>>,
    /// point | polyline | multipoint | circle | ellipse
    /// 
    /// The type of image region.
    /// 
    /// ## Implementation Notes
    /// See [DICOM PS3.3
    /// C.10.5.1.2](https://dicom.nema.org/medical/dicom/current/output/chtml/part03/sect_C.10.5.html#sect_C.10.5.1.2).
    /// 
    /// ## Cardinality: Required (1..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: required
    /// - **Description**: The type of image region.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/imagingselection-2dgraphictype|6.0.0-ballot3
    /// 
    /// ## Aliases
    /// GraphicType
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ImagingSelection.instance.imageRegion2D.regionType")]
    #[fhir_serde(rename = "regionType")]
    pub region_type: Code,
    /// The coordinates that define the image region
    /// 
    /// The coordinates defining the image region. Encoded as a set of (column, row)
    /// pairs that denote positions in the selected image / frames specified with
    /// sub-pixel resolution.
    /// The origin at the TLHC of the TLHC pixel is 0.0\0.0, the BRHC of the TLHC
    /// pixel is 1.0\1.0, and the BRHC of the BRHC pixel is the number of
    /// columns\rows in the image / frames. The values SHALL be within the range 0\0
    /// to the number of columns\rows in the image / frames.
    /// 
    /// ## Requirements
    /// The number of values SHALL be a multiple of two.
    /// 
    /// ## Implementation Notes
    /// For a description of how 2D coordinates are encoded, see [DICOM PS 3.3
    /// C.18.6](http://dicom.nema.org/medical/dicom/current/output/chtml/part03/sect_C.18.6.html).
    /// 
    /// ## Cardinality: Required, Multiple (1..*)
    /// 
    /// ## Special Semantics
    /// - Order meaning: The values are an ordered set of (x, y) coordinates.
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Aliases
    /// GraphicData
    /// 
    /// ## Conditions
    /// Used when: isl-7
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ImagingSelection.instance.imageRegion2D.coordinate")]
    pub coordinate: Option<Vec<Decimal>>,
}

/// Who performed imaging selection and what they did
/// 
/// Indicates who or what performed the imaging selection and how they were
/// involved.
/// 
/// ## Cardinality: Optional, Multiple (0..*)
/// 
/// ## Special Semantics
/// - Included in summary
/// 
/// ## Constraints
/// - **ele-1**: All FHIR elements must have a @value or children or both (error)
///   Expression: `hasValue() or (children().count() > id.count())`
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath, Default, FhirValidate)]
#[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children or both", expr="hasValue() or (children().count() > id.count())", path="ImagingSelection.performer")]
pub struct ImagingSelectionPerformer {
    /// Unique id for inter-element referencing
    /// 
    /// Unique id for the element within a resource (for internal references). This
    /// may be any string value that does not contain spaces.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Conditions
    /// Used when: ele-1
    pub id: Option<String>,
    /// Additional content defined by implementations
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element. To make the use of extensions safe and managable,
    /// there is a strict set of governance applied to the definition and use of
    /// extensions. Though any implementer can define an extension, there is a set of
    /// requirements that SHALL be met as part of the definition of the extension.
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Aliases
    /// extensions, user content
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ImagingSelection.performer.extension")]
    pub extension: Option<Vec<Extension>>,
    /// Extensions that cannot be ignored even if unrecognized
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element and that modifies the understanding of the element
    /// in which it is contained and/or the understanding of the containing element's
    /// descendants. Usually modifier elements provide negation or qualification. To
    /// make the use of extensions safe and managable, there is a strict set of
    /// governance applied to the definition and use of extensions. Though any
    /// implementer can define an extension, there is a set of requirements that
    /// SHALL be met as part of the definition of the extension. Applications
    /// processing a resource are required to check for modifier extensions.
    /// 
    /// Modifier extensions SHALL NOT change the meaning of any elements on Resource
    /// or DomainResource (including cannot change the meaning of modifierExtension
    /// itself).
    /// 
    /// ## Requirements
    /// Modifier extensions allow for extensions that *cannot* be safely ignored to
    /// be clearly distinguished from the vast majority of extensions which can be
    /// safely ignored. This promotes interoperability by eliminating the need for
    /// implementers to prohibit the presence of extensions. For further information,
    /// see the [definition of modifier
    /// extensions](extensibility.html#modifierExtension).
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Modifier element - Modifier extensions are expected to modify the meaning or interpretation of the element that contains them
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Aliases
    /// extensions, user content, modifiers
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ImagingSelection.performer.modifierExtension")]
    #[fhir_serde(rename = "modifierExtension")]
    pub modifier_extension: Option<Vec<Extension>>,
    /// Type of performance
    /// 
    /// Distinguishes the type of involvement of the performer in the imaging
    /// selection.
    /// 
    /// ## Requirements
    /// Allows disambiguation of the types of involvement of different performers.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: extensible
    /// - **Description**: The type of involvement of the performer.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/series-performer-function
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ImagingSelection.performer.function")]
    pub function: Option<CodeableConcept>,
    /// Who performed the imaging selection
    /// 
    /// Indicates who or what performed the imaging selection.
    /// 
    /// ## Cardinality: Required (1..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="ImagingSelection.performer.actor")]
    pub actor: Reference,
}

