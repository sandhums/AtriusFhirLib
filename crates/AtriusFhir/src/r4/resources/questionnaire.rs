// AUTO-GENERATED by atrius-fhir-generator (R4 Questionnaire)
use crate::r4::*;

/// FHIR Questionnaire type
/// 
/// A structured set of questions intended to guide the collection of answers
/// from end-users. Questionnaires provide detailed control over order,
/// presentation, phraseology and grouping to allow coherent, consistent data
/// collection.
/// 
/// ## Purpose
/// To support structured, hierarchical registration of data gathered using digital forms and other questionnaires.  Questionnaires provide greater control over presentation and allow capture of data in a domain-independent way (i.e. capturing information that would otherwise require multiple distinct types of resources).
/// 
/// ## Type: Resource type
/// Base type: http://hl7.org/fhir/StructureDefinition/DomainResource
/// 
/// ## Status: draft
/// FHIR Version: 4.0.1
/// 
/// See: [Questionnaire](http://hl7.org/fhir/StructureDefinition/Questionnaire)
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath, Default, FhirValidate)]
#[fhir_invariant(key="dom-2", severity="error", human="If the resource is contained in another resource, it SHALL NOT contain nested Resources", expr="contained.contained.empty()", path="Questionnaire")]
#[fhir_invariant(key="dom-3", severity="error", human="If the resource is contained in another resource, it SHALL be referred to from elsewhere in the resource or SHALL refer to the containing resource", expr="contained.where((('#'+id in (%resource.descendants().reference | %resource.descendants().as(canonical) | %resource.descendants().as(uri) | %resource.descendants().as(url))) or descendants().where(reference = '#').exists() or descendants().where(as(canonical) = '#').exists() or descendants().where(as(canonical) = '#').exists()).not()).trace('unmatched', id).empty()", path="Questionnaire")]
#[fhir_invariant(key="dom-4", severity="error", human="If a resource is contained in another resource, it SHALL NOT have a meta.versionId or a meta.lastUpdated", expr="contained.meta.versionId.empty() and contained.meta.lastUpdated.empty()", path="Questionnaire")]
#[fhir_invariant(key="dom-5", severity="error", human="If a resource is contained in another resource, it SHALL NOT have a security label", expr="contained.meta.security.empty()", path="Questionnaire")]
#[fhir_invariant(key="dom-6", severity="warning", human="A resource should have narrative for robust management", expr="text.`div`.exists()", path="Questionnaire")]
#[fhir_invariant(key="que-0", severity="warning", human="Name should be usable as an identifier for the module by machine processing applications such as code generation", expr="name.matches('[A-Z]([A-Za-z0-9_]){0,254}')", path="Questionnaire")]
#[fhir_invariant(key="que-2", severity="error", human="The link ids for groups and questions must be unique within the questionnaire", expr="descendants().linkId.isDistinct()", path="Questionnaire")]
pub struct Questionnaire {
    /// Logical id of this artifact
    /// 
    /// The logical id of the resource, as used in the URL for the resource. Once
    /// assigned, this value never changes.
    /// 
    /// ## Implementation Notes
    /// The only time that a resource does not have an id is when it is being
    /// submitted to the server using a create operation.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    pub id: Option<String>,
    /// Metadata about the resource
    /// 
    /// The metadata about the resource. This is content that is maintained by the
    /// infrastructure. Changes to the content might not always be associated with
    /// version changes to the resource.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Questionnaire.meta")]
    pub meta: Option<Meta>,
    /// A set of rules under which this content was created
    /// 
    /// A reference to a set of rules that were followed when the resource was
    /// constructed, and which must be understood when processing the content. Often,
    /// this is a reference to an implementation guide that defines the special rules
    /// along with other profiles etc.
    /// 
    /// ## Implementation Notes
    /// Asserting this rule set restricts the content to be only understood by a
    /// limited set of trading partners. This inherently limits the usefulness of the
    /// data in the long term. However, the existing health eco-system is highly
    /// fractured, and not yet ready to define, collect, and exchange data in a
    /// generally computable sense. Wherever possible, implementers and/or
    /// specification writers should avoid using this element. Often, when used, the
    /// URL is a reference to an implementation guide that defines these special
    /// rules as part of it's narrative along with other profiles, value sets, etc.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Modifier element - This element is labeled as a modifier because the implicit rules may provide additional knowledge about the resource that modifies it's meaning or interpretation
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Questionnaire.implicitRules")]
    #[fhir_serde(rename = "implicitRules")]
    pub implicit_rules: Option<Uri>,
    /// Language of the resource content
    /// 
    /// The base language in which the resource is written.
    /// 
    /// ## Implementation Notes
    /// Language is provided to support indexing and accessibility (typically,
    /// services such as text to speech use the language tag). The html language tag
    /// in the narrative applies to the narrative. The language tag on the resource
    /// may be used to specify the language of other presentations generated from the
    /// data in the resource. Not all the content has to be in the base language. The
    /// Resource.language should not be assumed to apply to the narrative
    /// automatically. If a language is specified, it should it also be specified on
    /// the div element in the html (see rules in HTML5 for information about the
    /// relationship between xml:lang and the html lang attribute).
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: preferred
    /// - **Description**: A human language.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/languages
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Questionnaire.language")]
    pub language: Option<Code>,
    /// Text summary of the resource, for human interpretation
    /// 
    /// A human-readable narrative that contains a summary of the resource and can be
    /// used to represent the content of the resource to a human. The narrative need
    /// not encode all the structured data, but is required to contain sufficient
    /// detail to make it "clinically safe" for a human to just read the narrative.
    /// Resource definitions may define what content should be represented in the
    /// narrative to ensure clinical safety.
    /// 
    /// ## Implementation Notes
    /// Contained resources do not have narrative. Resources that are not contained
    /// SHOULD have a narrative. In some cases, a resource may only have text with
    /// little or no additional discrete data (as long as all minOccurs=1 elements
    /// are satisfied). This may be necessary for data from legacy systems where
    /// information is captured as a "text blob" or where text is additionally
    /// entered raw or narrated and encoded information is added later.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Aliases
    /// narrative, html, xhtml, display
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Questionnaire.text")]
    pub text: Option<Narrative>,
    /// Contained, inline Resources
    /// 
    /// These resources do not have an independent existence apart from the resource
    /// that contains them - they cannot be identified independently, and nor can
    /// they have their own independent transaction scope.
    /// 
    /// ## Implementation Notes
    /// This should never be done when the content can be identified properly, as
    /// once identification is lost, it is extremely difficult (and context
    /// dependent) to restore it again. Contained resources may have profiles and
    /// tags In their meta elements, but SHALL NOT have security labels.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Aliases
    /// inline resources, anonymous resources, contained resources
    pub contained: Option<Vec<Resource>>,
    /// Additional content defined by implementations
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the resource. To make the use of extensions safe and
    /// manageable, there is a strict set of governance applied to the definition and
    /// use of extensions. Though any implementer can define an extension, there is a
    /// set of requirements that SHALL be met as part of the definition of the
    /// extension.
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Questionnaire.extension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="Questionnaire.extension")]
    pub extension: Option<Vec<Extension>>,
    /// Extensions that cannot be ignored
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the resource and that modifies the understanding of the element
    /// that contains it and/or the understanding of the containing element's
    /// descendants. Usually modifier elements provide negation or qualification. To
    /// make the use of extensions safe and manageable, there is a strict set of
    /// governance applied to the definition and use of extensions. Though any
    /// implementer is allowed to define an extension, there is a set of requirements
    /// that SHALL be met as part of the definition of the extension. Applications
    /// processing a resource are required to check for modifier extensions.
    /// 
    /// Modifier extensions SHALL NOT change the meaning of any elements on Resource
    /// or DomainResource (including cannot change the meaning of modifierExtension
    /// itself).
    /// 
    /// ## Requirements
    /// Modifier extensions allow for extensions that *cannot* be safely ignored to
    /// be clearly distinguished from the vast majority of extensions which can be
    /// safely ignored. This promotes interoperability by eliminating the need for
    /// implementers to prohibit the presence of extensions. For further information,
    /// see the [definition of modifier
    /// extensions](extensibility.html#modifierExtension).
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Modifier element - Modifier extensions are expected to modify the meaning or interpretation of the resource that contains them
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Questionnaire.modifierExtension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="Questionnaire.modifierExtension")]
    #[fhir_serde(rename = "modifierExtension")]
    pub modifier_extension: Option<Vec<Extension>>,
    /// Canonical identifier for this questionnaire, represented as a URI (globally unique)
    /// 
    /// An absolute URI that is used to identify this questionnaire when it is
    /// referenced in a specification, model, design or an instance; also called its
    /// canonical identifier. This SHOULD be globally unique and SHOULD be a literal
    /// address at which at which an authoritative instance of this questionnaire is
    /// (or will be) published. This URL can be the target of a canonical reference.
    /// It SHALL remain the same when the questionnaire is stored on different
    /// servers.
    /// 
    /// ## Requirements
    /// â€¦ This is the id that will be used to link a QuestionnaireResponse to the
    /// Questionnaire the response is for.
    /// 
    /// ## Implementation Notes
    /// The name of the referenced questionnaire can be conveyed using the
    /// http://hl7.org/fhir/StructureDefinition/display extension.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Questionnaire.url")]
    pub url: Option<Uri>,
    /// Additional identifier for the questionnaire
    /// 
    /// A formal identifier that is used to identify this questionnaire when it is
    /// represented in other formats, or referenced in a specification, model, design
    /// or an instance.
    /// 
    /// ## Requirements
    /// Allows externally provided and/or usable business identifiers to be easily
    /// associated with the module.
    /// 
    /// ## Implementation Notes
    /// Typically, this is used for identifiers that can go in an HL7 V3 II (instance
    /// identifier) data type, and can then identify this questionnaire outside of
    /// FHIR, where it is not possible to use the logical URI.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Questionnaire.identifier")]
    pub identifier: Option<Vec<Identifier>>,
    /// Business version of the questionnaire
    /// 
    /// The identifier that is used to identify this version of the questionnaire
    /// when it is referenced in a specification, model, design or instance. This is
    /// an arbitrary value managed by the questionnaire author and is not expected to
    /// be globally unique. For example, it might be a timestamp (e.g. yyyymmdd) if a
    /// managed version is not available. There is also no expectation that versions
    /// can be placed in a lexicographical sequence.
    /// 
    /// ## Implementation Notes
    /// There may be different questionnaire instances that have the same identifier
    /// but different versions. The version can be appended to the url in a reference
    /// to allow a reference to a particular business version of the questionnaire
    /// with the format [url]|[version].
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Questionnaire.version")]
    pub version: Option<String>,
    /// Name for this questionnaire (computer friendly)
    /// 
    /// A natural language name identifying the questionnaire. This name should be
    /// usable as an identifier for the module by machine processing applications
    /// such as code generation.
    /// 
    /// ## Requirements
    /// Support human navigation and code generation.
    /// 
    /// ## Implementation Notes
    /// The name is not expected to be globally unique. The name should be a simple
    /// alphanumeric type name to ensure that it is machine-processing friendly.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Conditions
    /// Used when: inv-0
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Questionnaire.name")]
    pub name: Option<String>,
    /// Name for this questionnaire (human friendly)
    /// 
    /// A short, descriptive, user-friendly title for the questionnaire.
    /// 
    /// ## Implementation Notes
    /// This name does not need to be machine-processing friendly and may contain
    /// punctuation, white-space, etc.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Questionnaire.title")]
    pub title: Option<String>,
    /// Instantiates protocol or definition
    /// 
    /// The URL of a Questionnaire that this Questionnaire is based on.
    /// 
    /// ## Requirements
    /// Allows a Questionnaire to be created based on another Questionnaire.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Questionnaire.derivedFrom")]
    #[fhir_serde(rename = "derivedFrom")]
    pub derived_from: Option<Vec<Canonical>>,
    /// draft | active | retired | unknown
    /// 
    /// The status of this questionnaire. Enables tracking the life-cycle of the
    /// content.
    /// 
    /// ## Implementation Notes
    /// Allows filtering of questionnaires that are appropriate for use versus not.
    /// 
    /// ## Cardinality: Required (1..1)
    /// 
    /// ## Special Semantics
    /// - Modifier element - This is labeled as "Is Modifier" because applications should not use a retired {{title}} without due consideration
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: required
    /// - **Description**: The lifecycle status of an artifact.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/publication-status|4.0.1
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Questionnaire.status")]
    pub status: Code,
    /// For testing purposes, not real usage
    /// 
    /// A Boolean value to indicate that this questionnaire is authored for testing
    /// purposes (or education/evaluation/marketing) and is not intended to be used
    /// for genuine usage.
    /// 
    /// ## Requirements
    /// Enables experimental content to be developed following the same lifecycle
    /// that would be used for a production-level questionnaire.
    /// 
    /// ## Implementation Notes
    /// Allows filtering of questionnaires that are appropriate for use versus not.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Questionnaire.experimental")]
    pub experimental: Option<Boolean>,
    /// Resource that can be subject of QuestionnaireResponse
    /// 
    /// The types of subjects that can be the subject of responses created for the
    /// questionnaire.
    /// 
    /// ## Implementation Notes
    /// If none are specified, then the subject is unlimited.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: required
    /// - **Description**: One of the resource types defined as part of this version of FHIR.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/resource-types|4.0.1
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Questionnaire.subjectType")]
    #[fhir_serde(rename = "subjectType")]
    pub subject_type: Option<Vec<Code>>,
    /// Date last changed
    /// 
    /// The date (and optionally time) when the questionnaire was published. The date
    /// must change when the business version changes and it must change if the
    /// status code changes. In addition, it should change when the substantive
    /// content of the questionnaire changes.
    /// 
    /// ## Implementation Notes
    /// Note that this is not the same as the resource last-modified-date, since the
    /// resource may be a secondary representation of the questionnaire. Additional
    /// specific dates may be added as extensions or be found by consulting
    /// Provenances associated with past versions of the resource.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Aliases
    /// Revision Date
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Questionnaire.date")]
    pub date: Option<DateTime>,
    /// Name of the publisher (organization or individual)
    /// 
    /// The name of the organization or individual that published the questionnaire.
    /// 
    /// ## Requirements
    /// Helps establish the "authority/credibility" of the questionnaire. May also
    /// allow for contact.
    /// 
    /// ## Implementation Notes
    /// Usually an organization but may be an individual. The publisher (or steward)
    /// of the questionnaire is the organization or individual primarily responsible
    /// for the maintenance and upkeep of the questionnaire. This is not necessarily
    /// the same individual or organization that developed and initially authored the
    /// content. The publisher is the primary point of contact for questions or
    /// issues with the questionnaire. This item SHOULD be populated unless the
    /// information is available from context.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Questionnaire.publisher")]
    pub publisher: Option<String>,
    /// Contact details for the publisher
    /// 
    /// Contact details to assist a user in finding and communicating with the
    /// publisher.
    /// 
    /// ## Implementation Notes
    /// May be a web site, an email address, a telephone number, etc.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Questionnaire.contact")]
    pub contact: Option<Vec<ContactDetail>>,
    /// Natural language description of the questionnaire
    /// 
    /// A free text natural language description of the questionnaire from a
    /// consumer's perspective.
    /// 
    /// ## Implementation Notes
    /// This description can be used to capture details such as why the questionnaire
    /// was built, comments about misuse, instructions for clinical use and
    /// interpretation, literature references, examples from the paper world, etc. It
    /// is not a rendering of the questionnaire as conveyed in the 'text' field of
    /// the resource itself. This item SHOULD be populated unless the information is
    /// available from context (e.g. the language of the questionnaire is presumed to
    /// be the predominant language in the place the questionnaire was created).
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Questionnaire.description")]
    pub description: Option<Markdown>,
    /// The context that the content is intended to support
    /// 
    /// The content was developed with a focus and intent of supporting the contexts
    /// that are listed. These contexts may be general categories (gender, age, ...)
    /// or may be references to specific programs (insurance plans, studies, ...) and
    /// may be used to assist with indexing and searching for appropriate
    /// questionnaire instances.
    /// 
    /// ## Requirements
    /// Assist in searching for appropriate content.
    /// 
    /// ## Implementation Notes
    /// When multiple useContexts are specified, there is no expectation that all or
    /// any of the contexts apply.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Questionnaire.useContext")]
    #[fhir_serde(rename = "useContext")]
    pub use_context: Option<Vec<UsageContext>>,
    /// Intended jurisdiction for questionnaire (if applicable)
    /// 
    /// A legal or geographic region in which the questionnaire is intended to be
    /// used.
    /// 
    /// ## Implementation Notes
    /// It may be possible for the questionnaire to be used in jurisdictions other
    /// than those for which it was originally designed or intended.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: extensible
    /// - **Description**: Countries and regions within which this artifact is targeted for use.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/jurisdiction
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Questionnaire.jurisdiction")]
    pub jurisdiction: Option<Vec<CodeableConcept>>,
    /// Why this questionnaire is defined
    /// 
    /// Explanation of why this questionnaire is needed and why it has been designed
    /// as it has.
    /// 
    /// ## Implementation Notes
    /// This element does not describe the usage of the questionnaire. Instead, it
    /// provides traceability of ''why'' the resource is either needed or ''why'' it
    /// is defined as it is. This may be used to point to source materials or
    /// specifications that drove the structure of this questionnaire.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Questionnaire.purpose")]
    pub purpose: Option<Markdown>,
    /// Use and/or publishing restrictions
    /// 
    /// A copyright statement relating to the questionnaire and/or its contents.
    /// Copyright statements are generally legal restrictions on the use and
    /// publishing of the questionnaire.
    /// 
    /// ## Requirements
    /// Consumers must be able to determine any legal restrictions on the use of the
    /// questionnaire and/or its content.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Aliases
    /// License, Restrictions
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Questionnaire.copyright")]
    pub copyright: Option<Markdown>,
    /// When the questionnaire was approved by publisher
    /// 
    /// The date on which the resource content was approved by the publisher.
    /// Approval happens once when the content is officially approved for usage.
    /// 
    /// ## Implementation Notes
    /// The 'date' element may be more recent than the approval date because of minor
    /// changes or editorial corrections.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Questionnaire.approvalDate")]
    #[fhir_serde(rename = "approvalDate")]
    pub approval_date: Option<Date>,
    /// When the questionnaire was last reviewed
    /// 
    /// The date on which the resource content was last reviewed. Review happens
    /// periodically after approval but does not change the original approval date.
    /// 
    /// ## Requirements
    /// Gives a sense of how "current" the content is. Resources that have not been
    /// reviewed in a long time may have a risk of being less appropriate/relevant.
    /// 
    /// ## Implementation Notes
    /// If specified, this date follows the original approval date.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Questionnaire.lastReviewDate")]
    #[fhir_serde(rename = "lastReviewDate")]
    pub last_review_date: Option<Date>,
    /// When the questionnaire is expected to be used
    /// 
    /// The period during which the questionnaire content was or is planned to be in
    /// active use.
    /// 
    /// ## Requirements
    /// Allows establishing a transition before a resource comes into effect and also
    /// allows for a sunsetting process when new versions of the questionnaire are or
    /// are expected to be used instead.
    /// 
    /// ## Implementation Notes
    /// The effective period for a questionnaire determines when the content is
    /// applicable for usage and is independent of publication and review dates. For
    /// example, a measure intended to be used for the year 2016 might be published
    /// in 2015.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Questionnaire.effectivePeriod")]
    #[fhir_serde(rename = "effectivePeriod")]
    pub effective_period: Option<Period>,
    /// Concept that represents the overall questionnaire
    /// 
    /// An identifier for this question or group of questions in a particular
    /// terminology such as LOINC.
    /// 
    /// ## Requirements
    /// Allows linking of the complete Questionnaire resources to formal
    /// terminologies. It's common for "panels" of questions to be identified by a
    /// code.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: Codes for questionnaires, groups and individual questions.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/questionnaire-questions
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Questionnaire.code")]
    pub code: Option<Vec<Coding>>,
    /// Questions and sections within the Questionnaire
    /// 
    /// A particular question, question grouping or display text that is part of the
    /// questionnaire.
    /// 
    /// ## Implementation Notes
    /// The content of the questionnaire is constructed from an ordered, hierarchical
    /// collection of items.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **que-1**: Group items must have nested items, display items cannot have nested items (error)
    ///   Expression: `(type='group' implies item.empty().not()) and (type.trace('type')='display' implies item.trace('item').empty())`
    /// - **que-3**: Display items cannot have a "code" asserted (error)
    ///   Expression: `type!='display' or code.empty()`
    /// - **que-4**: A question cannot have both answerOption and answerValueSet (error)
    ///   Expression: `answerOption.empty() or answerValueSet.empty()`
    /// - **que-5**: Only 'choice' and 'open-choice' items can have answerValueSet (error)
    ///   Expression: `(type ='choice' or type = 'open-choice' or type = 'decimal' or type = 'integer' or type = 'date' or type = 'dateTime' or type = 'time' or type = 'string' or type = 'quantity') or (answerValueSet.empty() and answerOption.empty())`
    /// - **que-6**: Required and repeat aren't permitted for display items (error)
    ///   Expression: `type!='display' or (required.empty() and repeats.empty())`
    /// - **que-8**: Initial values can't be specified for groups or display items (error)
    ///   Expression: `(type!='group' and type!='display') or initial.empty()`
    /// - **que-9**: Read-only can't be specified for "display" items (error)
    ///   Expression: `type!='display' or readOnly.empty()`
    /// - **que-10**: Maximum length can only be declared for simple question types (error)
    ///   Expression: `(type in ('boolean' | 'decimal' | 'integer' | 'string' | 'text' | 'url' | 'open-choice')) or maxLength.empty()`
    /// - **que-11**: If one or more answerOption is present, initial[x] must be missing (error)
    ///   Expression: `answerOption.empty() or initial.empty()`
    /// - **que-12**: If there are more than one enableWhen, enableBehavior must be specified (error)
    ///   Expression: `enableWhen.count() > 2 implies enableBehavior.exists()`
    /// - **que-13**: Can only have multiple initial values for repeating items (error)
    ///   Expression: `repeats=true or initial.count() \<= 1`
    /// 
    /// ## Conditions
    /// Used when: que-3
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Questionnaire.item")]
    #[fhir_invariant(key="que-1", severity="error", human="Group items must have nested items, display items cannot have nested items", expr="(type='group' implies item.empty().not()) and (type.trace('type')='display' implies item.trace('item').empty())", path="Questionnaire.item")]
    #[fhir_invariant(key="que-3", severity="error", human="Display items cannot have a \"code\" asserted", expr="type!='display' or code.empty()", path="Questionnaire.item")]
    #[fhir_invariant(key="que-4", severity="error", human="A question cannot have both answerOption and answerValueSet", expr="answerOption.empty() or answerValueSet.empty()", path="Questionnaire.item")]
    #[fhir_invariant(key="que-5", severity="error", human="Only 'choice' and 'open-choice' items can have answerValueSet", expr="(type ='choice' or type = 'open-choice' or type = 'decimal' or type = 'integer' or type = 'date' or type = 'dateTime' or type = 'time' or type = 'string' or type = 'quantity') or (answerValueSet.empty() and answerOption.empty())", path="Questionnaire.item")]
    #[fhir_invariant(key="que-6", severity="error", human="Required and repeat aren't permitted for display items", expr="type!='display' or (required.empty() and repeats.empty())", path="Questionnaire.item")]
    #[fhir_invariant(key="que-8", severity="error", human="Initial values can't be specified for groups or display items", expr="(type!='group' and type!='display') or initial.empty()", path="Questionnaire.item")]
    #[fhir_invariant(key="que-9", severity="error", human="Read-only can't be specified for \"display\" items", expr="type!='display' or readOnly.empty()", path="Questionnaire.item")]
    #[fhir_invariant(key="que-10", severity="error", human="Maximum length can only be declared for simple question types", expr="(type in ('boolean' | 'decimal' | 'integer' | 'string' | 'text' | 'url' | 'open-choice')) or maxLength.empty()", path="Questionnaire.item")]
    #[fhir_invariant(key="que-11", severity="error", human="If one or more answerOption is present, initial[x] must be missing", expr="answerOption.empty() or initial.empty()", path="Questionnaire.item")]
    #[fhir_invariant(key="que-12", severity="error", human="If there are more than one enableWhen, enableBehavior must be specified", expr="enableWhen.count() > 2 implies enableBehavior.exists()", path="Questionnaire.item")]
    #[fhir_invariant(key="que-13", severity="error", human="Can only have multiple initial values for repeating items", expr="repeats=true or initial.count() <= 1", path="Questionnaire.item")]
    pub item: Option<Vec<QuestionnaireItem>>,
}

/// Questions and sections within the Questionnaire
/// 
/// A particular question, question grouping or display text that is part of the
/// questionnaire.
/// 
/// ## Implementation Notes
/// The content of the questionnaire is constructed from an ordered, hierarchical
/// collection of items.
/// 
/// ## Cardinality: Optional, Multiple (0..*)
/// 
/// ## Constraints
/// - **ele-1**: All FHIR elements must have a @value or children (error)
///   Expression: `hasValue() or (children().count() > id.count())`
/// - **que-1**: Group items must have nested items, display items cannot have nested items (error)
///   Expression: `(type='group' implies item.empty().not()) and (type.trace('type')='display' implies item.trace('item').empty())`
/// - **que-3**: Display items cannot have a "code" asserted (error)
///   Expression: `type!='display' or code.empty()`
/// - **que-4**: A question cannot have both answerOption and answerValueSet (error)
///   Expression: `answerOption.empty() or answerValueSet.empty()`
/// - **que-5**: Only 'choice' and 'open-choice' items can have answerValueSet (error)
///   Expression: `(type ='choice' or type = 'open-choice' or type = 'decimal' or type = 'integer' or type = 'date' or type = 'dateTime' or type = 'time' or type = 'string' or type = 'quantity') or (answerValueSet.empty() and answerOption.empty())`
/// - **que-6**: Required and repeat aren't permitted for display items (error)
///   Expression: `type!='display' or (required.empty() and repeats.empty())`
/// - **que-8**: Initial values can't be specified for groups or display items (error)
///   Expression: `(type!='group' and type!='display') or initial.empty()`
/// - **que-9**: Read-only can't be specified for "display" items (error)
///   Expression: `type!='display' or readOnly.empty()`
/// - **que-10**: Maximum length can only be declared for simple question types (error)
///   Expression: `(type in ('boolean' | 'decimal' | 'integer' | 'string' | 'text' | 'url' | 'open-choice')) or maxLength.empty()`
/// - **que-11**: If one or more answerOption is present, initial[x] must be missing (error)
///   Expression: `answerOption.empty() or initial.empty()`
/// - **que-12**: If there are more than one enableWhen, enableBehavior must be specified (error)
///   Expression: `enableWhen.count() > 2 implies enableBehavior.exists()`
/// - **que-13**: Can only have multiple initial values for repeating items (error)
///   Expression: `repeats=true or initial.count() \<= 1`
/// 
/// ## Conditions
/// Used when: que-3
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath, Default, FhirValidate)]
#[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Questionnaire.item")]
#[fhir_invariant(key="que-1", severity="error", human="Group items must have nested items, display items cannot have nested items", expr="(type='group' implies item.empty().not()) and (type.trace('type')='display' implies item.trace('item').empty())", path="Questionnaire.item")]
#[fhir_invariant(key="que-3", severity="error", human="Display items cannot have a \"code\" asserted", expr="type!='display' or code.empty()", path="Questionnaire.item")]
#[fhir_invariant(key="que-4", severity="error", human="A question cannot have both answerOption and answerValueSet", expr="answerOption.empty() or answerValueSet.empty()", path="Questionnaire.item")]
#[fhir_invariant(key="que-5", severity="error", human="Only 'choice' and 'open-choice' items can have answerValueSet", expr="(type ='choice' or type = 'open-choice' or type = 'decimal' or type = 'integer' or type = 'date' or type = 'dateTime' or type = 'time' or type = 'string' or type = 'quantity') or (answerValueSet.empty() and answerOption.empty())", path="Questionnaire.item")]
#[fhir_invariant(key="que-6", severity="error", human="Required and repeat aren't permitted for display items", expr="type!='display' or (required.empty() and repeats.empty())", path="Questionnaire.item")]
#[fhir_invariant(key="que-8", severity="error", human="Initial values can't be specified for groups or display items", expr="(type!='group' and type!='display') or initial.empty()", path="Questionnaire.item")]
#[fhir_invariant(key="que-9", severity="error", human="Read-only can't be specified for \"display\" items", expr="type!='display' or readOnly.empty()", path="Questionnaire.item")]
#[fhir_invariant(key="que-10", severity="error", human="Maximum length can only be declared for simple question types", expr="(type in ('boolean' | 'decimal' | 'integer' | 'string' | 'text' | 'url' | 'open-choice')) or maxLength.empty()", path="Questionnaire.item")]
#[fhir_invariant(key="que-11", severity="error", human="If one or more answerOption is present, initial[x] must be missing", expr="answerOption.empty() or initial.empty()", path="Questionnaire.item")]
#[fhir_invariant(key="que-12", severity="error", human="If there are more than one enableWhen, enableBehavior must be specified", expr="enableWhen.count() > 2 implies enableBehavior.exists()", path="Questionnaire.item")]
#[fhir_invariant(key="que-13", severity="error", human="Can only have multiple initial values for repeating items", expr="repeats=true or initial.count() <= 1", path="Questionnaire.item")]
pub struct QuestionnaireItem {
    /// Unique id for inter-element referencing
    /// 
    /// Unique id for the element within a resource (for internal references). This
    /// may be any string value that does not contain spaces.
    /// 
    /// ## Cardinality: Optional (0..1)
    pub id: Option<String>,
    /// Additional content defined by implementations
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element. To make the use of extensions safe and manageable,
    /// there is a strict set of governance applied to the definition and use of
    /// extensions. Though any implementer can define an extension, there is a set of
    /// requirements that SHALL be met as part of the definition of the extension.
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Questionnaire.item.extension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="Questionnaire.item.extension")]
    pub extension: Option<Vec<Extension>>,
    /// Extensions that cannot be ignored even if unrecognized
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element and that modifies the understanding of the element
    /// in which it is contained and/or the understanding of the containing element's
    /// descendants. Usually modifier elements provide negation or qualification. To
    /// make the use of extensions safe and manageable, there is a strict set of
    /// governance applied to the definition and use of extensions. Though any
    /// implementer can define an extension, there is a set of requirements that
    /// SHALL be met as part of the definition of the extension. Applications
    /// processing a resource are required to check for modifier extensions.
    /// 
    /// Modifier extensions SHALL NOT change the meaning of any elements on Resource
    /// or DomainResource (including cannot change the meaning of modifierExtension
    /// itself).
    /// 
    /// ## Requirements
    /// Modifier extensions allow for extensions that *cannot* be safely ignored to
    /// be clearly distinguished from the vast majority of extensions which can be
    /// safely ignored. This promotes interoperability by eliminating the need for
    /// implementers to prohibit the presence of extensions. For further information,
    /// see the [definition of modifier
    /// extensions](extensibility.html#modifierExtension).
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Modifier element - Modifier extensions are expected to modify the meaning or interpretation of the element that contains them
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content, modifiers
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Questionnaire.item.modifierExtension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="Questionnaire.item.modifierExtension")]
    #[fhir_serde(rename = "modifierExtension")]
    pub modifier_extension: Option<Vec<Extension>>,
    /// Unique id for item in questionnaire
    /// 
    /// An identifier that is unique within the Questionnaire allowing linkage to the
    /// equivalent item in a QuestionnaireResponse resource.
    /// 
    /// ## Requirements
    /// [QuestionnaireResponse](questionnaireresponse.html#) does not require omitted
    /// items to be included and may have some items that repeat, so linkage based on
    /// position alone is not sufficient.
    /// 
    /// ## Implementation Notes
    /// This ''can'' be a meaningful identifier (e.g. a LOINC code) but is not
    /// intended to have any meaning. GUIDs or sequential numbers are appropriate
    /// here.
    /// 
    /// ## Cardinality: Required (1..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Questionnaire.item.linkId")]
    #[fhir_serde(rename = "linkId")]
    pub link_id: String,
    /// ElementDefinition - details for the item
    /// 
    /// This element is a URI that refers to an
    /// [ElementDefinition](elementdefinition.html) that provides information about
    /// this item, including information that might otherwise be included in the
    /// instance of the Questionnaire resource. A detailed description of the
    /// construction of the URI is shown in Comments, below. If this element is
    /// present then the following element values MAY be derived from the Element
    /// Definition if the corresponding elements of this Questionnaire resource
    /// instance have no value:
    /// 
    /// * code (ElementDefinition.code) 
    /// * type (ElementDefinition.type) 
    /// * required (ElementDefinition.min) 
    /// * repeats (ElementDefinition.max) 
    /// * maxLength (ElementDefinition.maxLength) 
    /// * answerValueSet (ElementDefinition.binding)
    /// * options (ElementDefinition.binding).
    /// 
    /// ## Requirements
    /// A common pattern is to define a set of data elements and then build multiple
    /// questionnaires for different circumstances to gather the data. This element
    /// provides traceability to the common definition and allows the content for the
    /// question to come from the underlying definition.
    /// 
    /// ## Implementation Notes
    /// The uri refers to an ElementDefinition in a
    /// [StructureDefinition](structuredefinition.html#) and always starts with the
    /// [canonical URL](references.html#canonical) for the target resource. When
    /// referring to a StructureDefinition, a fragment identifier is used to specify
    /// the element definition by its id
    /// [Element.id](element-definitions.html#Element.id). E.g.
    /// http://hl7.org/fhir/StructureDefinition/Observation#Observation.value[x]. In
    /// the absence of a fragment identifier, the first/root element definition in
    /// the target is the matching element definition.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Questionnaire.item.definition")]
    pub definition: Option<Uri>,
    /// Corresponding concept for this item in a terminology
    /// 
    /// A terminology code that corresponds to this group or question (e.g. a code
    /// from LOINC, which defines many questions and answers).
    /// 
    /// ## Requirements
    /// Allows linking of groups of questions to formal terminologies.
    /// 
    /// ## Implementation Notes
    /// The value may come from the ElementDefinition referred to by .definition.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: Codes for questionnaires, groups and individual questions.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/questionnaire-questions
    /// 
    /// ## Conditions
    /// Used when: que-3
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Questionnaire.item.code")]
    pub code: Option<Vec<Coding>>,
    /// E.g. "1(a)", "2.5.3"
    /// 
    /// A short label for a particular group, question or set of display text within
    /// the questionnaire used for reference by the individual completing the
    /// questionnaire.
    /// 
    /// ## Requirements
    /// Separating the label from the question text allows improved rendering. Also,
    /// instructions will often refer to specific prefixes, so there's a need for the
    /// questionnaire design to have control over what labels are used.
    /// 
    /// ## Implementation Notes
    /// These are generally unique within a questionnaire, though this is not
    /// guaranteed. Some questionnaires may have multiple questions with the same
    /// label with logic to control which gets exposed. Typically, these won't be
    /// used for "display" items, though such use is not prohibited. Systems SHOULD
    /// NOT generate their own prefixes if prefixes are defined for any items within
    /// a Questionnaire.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Aliases
    /// label
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Questionnaire.item.prefix")]
    pub prefix: Option<String>,
    /// Primary text for the item
    /// 
    /// The name of a section, the text of a question or text content for a display
    /// item.
    /// 
    /// ## Implementation Notes
    /// When using this element to represent the name of a section, use group type
    /// item and also make sure to limit the text element to a short string suitable
    /// for display as a section heading. Group item instructions should be included
    /// as a display type item within the group.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Questionnaire.item.text")]
    pub text: Option<String>,
    /// group | display | boolean | decimal | integer | date | dateTime +
    /// 
    /// The type of questionnaire item this is - whether text for display, a grouping
    /// of other items or a particular type of data to be captured (string, integer,
    /// coded choice, etc.).
    /// 
    /// ## Requirements
    /// Defines the format in which the user is to be prompted for the answer.
    /// 
    /// ## Implementation Notes
    /// Additional constraints on the type of answer can be conveyed by extensions.
    /// The value may come from the ElementDefinition referred to by .definition.
    /// 
    /// ## Cardinality: Required (1..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: required
    /// - **Description**: Distinguishes groups from questions and display text and indicates data type for questions.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/item-type|4.0.1
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Questionnaire.item.type")]
    #[fhir_serde(rename = "type")]
    pub r#type: Code,
    /// Only allow data when
    /// 
    /// A constraint indicating that this item should only be enabled
    /// (displayed/allow answers to be captured) when the specified condition is
    /// true.
    /// 
    /// ## Requirements
    /// Allows questionnaires to adapt based on answers to other questions. E.g. If
    /// physical gender is specified as a male, no need to capture pregnancy history.
    /// Also allows conditional display of instructions or groups of questions.
    /// 
    /// ## Implementation Notes
    /// If multiple repetitions of this extension are present, the item should be
    /// enabled when the condition for *any* of the repetitions is true. I.e. treat
    /// "enableWhen"s as being joined by an "or" clause. This element is a modifier
    /// because if enableWhen is present for an item, "required" is ignored unless
    /// one of the enableWhen conditions is met. When an item is disabled, all of its
    /// descendants are disabled, regardless of what their own enableWhen logic might
    /// evaluate to.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Modifier element - If enableWhen is present and the condition evaluates to false, then the Questionnaire behaves as though the elements weren't actually present
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **que-7**: If the operator is 'exists', the value must be a boolean (error)
    ///   Expression: `operator = 'exists' implies (answer is Boolean)`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Questionnaire.item.enableWhen")]
    #[fhir_invariant(key="que-7", severity="error", human="If the operator is 'exists', the value must be a boolean", expr="operator = 'exists' implies (answer is Boolean)", path="Questionnaire.item.enableWhen")]
    #[fhir_serde(rename = "enableWhen")]
    pub enable_when: Option<Vec<QuestionnaireItemEnableWhen>>,
    /// all | any
    /// 
    /// Controls how multiple enableWhen values are interpreted - whether all or any
    /// must be true.
    /// 
    /// ## Implementation Notes
    /// This element must be specified if more than one enableWhen value is provided.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: required
    /// - **Description**: Controls how multiple enableWhen values are interpreted -  whether all or any must be true.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/questionnaire-enable-behavior|4.0.1
    /// 
    /// ## Conditions
    /// Used when: que-12
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Questionnaire.item.enableBehavior")]
    #[fhir_serde(rename = "enableBehavior")]
    pub enable_behavior: Option<Code>,
    /// Whether the item must be included in data results
    /// 
    /// An indication, if true, that the item must be present in a "completed"
    /// QuestionnaireResponse. If false, the item may be skipped when answering the
    /// questionnaire.
    /// 
    /// ## Implementation Notes
    /// Questionnaire.item.required only has meaning for elements that are
    /// conditionally enabled with enableWhen if the condition evaluates to true. If
    /// an item that contains other items is marked as required, that does not
    /// automatically make the contained elements required (though required groups
    /// must contain at least one child element). The value may come from the
    /// ElementDefinition referred to by .definition.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - When missing: Items are generally assumed not to be required unless explicitly specified. Systems SHOULD always populate this value
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Conditions
    /// Used when: que-6
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Questionnaire.item.required")]
    pub required: Option<Boolean>,
    /// Whether the item may repeat
    /// 
    /// An indication, if true, that the item may occur multiple times in the
    /// response, collecting multiple answers for questions or multiple sets of
    /// answers for groups.
    /// 
    /// ## Requirements
    /// Items may be used to create set of (related) questions that can be repeated
    /// to give multiple answers to such a set.
    /// 
    /// ## Implementation Notes
    /// If a question is marked as repeats=true, then multiple answers can be
    /// provided for the question in the corresponding QuestionnaireResponse. When
    /// rendering the questionnaire, it is up to the rendering software whether to
    /// render the question text for each answer repetition (i.e. "repeat the
    /// question") or to simply allow entry/selection of multiple answers for the
    /// question (repeat the answers). Which is most appropriate visually may depend
    /// on the type of answer as well as whether there are nested items.
    /// 
    /// The resulting QuestionnaireResponse will be populated the same way regardless
    /// of rendering - one 'question' item with multiple answer values.
    /// 
    ///  The value may come from the ElementDefinition referred to by .definition.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - When missing: Items are generally assumed not to repeat unless explicitly specified. Systems SHOULD always populate this value
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Conditions
    /// Used when: que-6
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Questionnaire.item.repeats")]
    pub repeats: Option<Boolean>,
    /// Don't allow human editing
    /// 
    /// An indication, when true, that the value cannot be changed by a human
    /// respondent to the Questionnaire.
    /// 
    /// ## Requirements
    /// Allows certain information to be phrased (and rendered) as a question and an
    /// answer, while keeping users from changing it. May also be useful for
    /// preventing changes to pre-populated portions of a questionnaire, for
    /// calculated values, etc.
    /// 
    /// ## Implementation Notes
    /// The value of readOnly elements can be established by asserting extensions for
    /// defaultValues, linkages that support pre-population and/or extensions that
    /// support calculation based on other answers.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Conditions
    /// Used when: que-9
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Questionnaire.item.readOnly")]
    #[fhir_serde(rename = "readOnly")]
    pub read_only: Option<Boolean>,
    /// No more than this many characters
    /// 
    /// The maximum number of characters that are permitted in the answer to be
    /// considered a "valid" QuestionnaireResponse.
    /// 
    /// ## Implementation Notes
    /// For base64binary, reflects the number of characters representing the encoded
    /// data, not the number of bytes of the binary data. The value may come from the
    /// ElementDefinition referred to by .definition.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Conditions
    /// Used when: que-10
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Questionnaire.item.maxLength")]
    #[fhir_serde(rename = "maxLength")]
    pub max_length: Option<Integer>,
    /// Valueset containing permitted answers
    /// 
    /// A reference to a value set containing a list of codes representing permitted
    /// answers for a "choice" or "open-choice" question.
    /// 
    /// ## Implementation Notes
    /// LOINC defines many useful value sets for questionnaire responses. See [LOINC
    /// Answer Lists](loinc.html#alist). The value may come from the
    /// ElementDefinition referred to by .definition.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Conditions
    /// Used when: que-4, que-5
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Questionnaire.item.answerValueSet")]
    #[fhir_serde(rename = "answerValueSet")]
    pub answer_value_set: Option<Canonical>,
    /// Permitted answer
    /// 
    /// One of the permitted answers for a "choice" or "open-choice" question.
    /// 
    /// ## Implementation Notes
    /// This element can be used when the value set machinery of answerValueSet is
    /// deemed too cumbersome or when there's a need to capture possible answers that
    /// are not codes.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Conditions
    /// Used when: que-4, que-5
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Questionnaire.item.answerOption")]
    #[fhir_serde(rename = "answerOption")]
    pub answer_option: Option<Vec<QuestionnaireItemAnswerOption>>,
    /// Initial value(s) when item is first rendered
    /// 
    /// One or more values that should be pre-populated in the answer when initially
    /// rendering the questionnaire for user input.
    /// 
    /// ## Requirements
    /// In some workflows, having defaults saves time.
    /// 
    /// ## Implementation Notes
    /// The user is allowed to change the value and override the default (unless
    /// marked as read-only). If the user doesn't change the value, then this initial
    /// value will be persisted when the QuestionnaireResponse is initially created.
    /// Note that initial values can influence results. The data type of initial[x]
    /// must agree with the item.type, and only repeating items can have more then
    /// one initial value.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Conditions
    /// Used when: que-8, que-13
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Questionnaire.item.initial")]
    pub initial: Option<Vec<QuestionnaireItemInitial>>,
    /// Nested questionnaire items
    /// 
    /// Text, questions and other groups to be nested beneath a question or group.
    /// 
    /// ## Requirements
    /// Reports can consist of complex nested groups.
    /// 
    /// ## Implementation Notes
    /// There is no specified limit to the depth of nesting. However, Questionnaire
    /// authors are encouraged to consider the impact on the user and user interface
    /// of overly deep nesting.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Conditions
    /// Used when: que-1
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Questionnaire.item.item")]
    pub item: Option<Vec<QuestionnaireItem>>,
}

/// Choice of types for the value\[x\] field in QuestionnaireItemAnswerOption
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath)]
#[fhir_choice_element(base_name = "value")]
pub enum QuestionnaireItemAnswerOptionValue {
    /// Variant accepting the Integer type.
    #[fhir_serde(rename = "valueInteger")]
    Integer(Integer),
    /// Variant accepting the Date type.
    #[fhir_serde(rename = "valueDate")]
    Date(Date),
    /// Variant accepting the Time type.
    #[fhir_serde(rename = "valueTime")]
    Time(Time),
    /// Variant accepting the String type.
    #[fhir_serde(rename = "valueString")]
    String(String),
    /// Variant accepting the Coding type.
    #[fhir_serde(rename = "valueCoding")]
    Coding(Coding),
    /// Variant accepting the Reference type.
    #[fhir_serde(rename = "valueReference")]
    Reference(Reference),
}

/// Permitted answer
/// 
/// One of the permitted answers for a "choice" or "open-choice" question.
/// 
/// ## Implementation Notes
/// This element can be used when the value set machinery of answerValueSet is
/// deemed too cumbersome or when there's a need to capture possible answers that
/// are not codes.
/// 
/// ## Cardinality: Optional, Multiple (0..*)
/// 
/// ## Constraints
/// - **ele-1**: All FHIR elements must have a @value or children (error)
///   Expression: `hasValue() or (children().count() > id.count())`
/// 
/// ## Conditions
/// Used when: que-4, que-5
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath, Default, FhirValidate)]
#[fhir_resource(choice_elements = "value")]
#[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Questionnaire.item.answerOption")]
pub struct QuestionnaireItemAnswerOption {
    /// Unique id for inter-element referencing
    /// 
    /// Unique id for the element within a resource (for internal references). This
    /// may be any string value that does not contain spaces.
    /// 
    /// ## Cardinality: Optional (0..1)
    pub id: Option<String>,
    /// Additional content defined by implementations
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element. To make the use of extensions safe and manageable,
    /// there is a strict set of governance applied to the definition and use of
    /// extensions. Though any implementer can define an extension, there is a set of
    /// requirements that SHALL be met as part of the definition of the extension.
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Questionnaire.item.answerOption.extension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="Questionnaire.item.answerOption.extension")]
    pub extension: Option<Vec<Extension>>,
    /// Extensions that cannot be ignored even if unrecognized
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element and that modifies the understanding of the element
    /// in which it is contained and/or the understanding of the containing element's
    /// descendants. Usually modifier elements provide negation or qualification. To
    /// make the use of extensions safe and manageable, there is a strict set of
    /// governance applied to the definition and use of extensions. Though any
    /// implementer can define an extension, there is a set of requirements that
    /// SHALL be met as part of the definition of the extension. Applications
    /// processing a resource are required to check for modifier extensions.
    /// 
    /// Modifier extensions SHALL NOT change the meaning of any elements on Resource
    /// or DomainResource (including cannot change the meaning of modifierExtension
    /// itself).
    /// 
    /// ## Requirements
    /// Modifier extensions allow for extensions that *cannot* be safely ignored to
    /// be clearly distinguished from the vast majority of extensions which can be
    /// safely ignored. This promotes interoperability by eliminating the need for
    /// implementers to prohibit the presence of extensions. For further information,
    /// see the [definition of modifier
    /// extensions](extensibility.html#modifierExtension).
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Modifier element - Modifier extensions are expected to modify the meaning or interpretation of the element that contains them
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content, modifiers
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Questionnaire.item.answerOption.modifierExtension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="Questionnaire.item.answerOption.modifierExtension")]
    #[fhir_serde(rename = "modifierExtension")]
    pub modifier_extension: Option<Vec<Extension>>,
    /// Answer value
    /// 
    /// A potential answer that's allowed as the answer to this question.
    /// 
    /// ## Implementation Notes
    /// The data type of the value must agree with the item.type.
    /// 
    /// ## Cardinality: Required (1..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: Allowed values to answer questions.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/questionnaire-answers
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Questionnaire.item.answerOption.value[x]")]
    #[fhir_serde(flatten)]
    pub value: Option<QuestionnaireItemAnswerOptionValue>,
    /// Whether option is selected by default
    /// 
    /// Indicates whether the answer value is selected when the list of possible
    /// answers is initially shown.
    /// 
    /// ## Implementation Notes
    /// Use this instead of initial[v] if answerValueSet is present.
    /// 
    /// ## Cardinality: Optional (0..1)
    /// 
    /// ## Special Semantics
    /// - When missing: Only selected items explicitly marked to be selected
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Questionnaire.item.answerOption.initialSelected")]
    #[fhir_serde(rename = "initialSelected")]
    pub initial_selected: Option<Boolean>,
}

/// Choice of types for the answer\[x\] field in QuestionnaireItemEnableWhen
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath)]
#[fhir_choice_element(base_name = "answer")]
pub enum QuestionnaireItemEnableWhenAnswer {
    /// Variant accepting the Boolean type.
    #[fhir_serde(rename = "answerBoolean")]
    Boolean(Boolean),
    /// Variant accepting the Decimal type.
    #[fhir_serde(rename = "answerDecimal")]
    Decimal(Decimal),
    /// Variant accepting the Integer type.
    #[fhir_serde(rename = "answerInteger")]
    Integer(Integer),
    /// Variant accepting the Date type.
    #[fhir_serde(rename = "answerDate")]
    Date(Date),
    /// Variant accepting the DateTime type.
    #[fhir_serde(rename = "answerDateTime")]
    DateTime(DateTime),
    /// Variant accepting the Time type.
    #[fhir_serde(rename = "answerTime")]
    Time(Time),
    /// Variant accepting the String type.
    #[fhir_serde(rename = "answerString")]
    String(String),
    /// Variant accepting the Coding type.
    #[fhir_serde(rename = "answerCoding")]
    Coding(Coding),
    /// Variant accepting the Quantity type.
    #[fhir_serde(rename = "answerQuantity")]
    Quantity(Quantity),
    /// Variant accepting the Reference type.
    #[fhir_serde(rename = "answerReference")]
    Reference(Reference),
}

/// Only allow data when
/// 
/// A constraint indicating that this item should only be enabled
/// (displayed/allow answers to be captured) when the specified condition is
/// true.
/// 
/// ## Requirements
/// Allows questionnaires to adapt based on answers to other questions. E.g. If
/// physical gender is specified as a male, no need to capture pregnancy history.
/// Also allows conditional display of instructions or groups of questions.
/// 
/// ## Implementation Notes
/// If multiple repetitions of this extension are present, the item should be
/// enabled when the condition for *any* of the repetitions is true. I.e. treat
/// "enableWhen"s as being joined by an "or" clause. This element is a modifier
/// because if enableWhen is present for an item, "required" is ignored unless
/// one of the enableWhen conditions is met. When an item is disabled, all of its
/// descendants are disabled, regardless of what their own enableWhen logic might
/// evaluate to.
/// 
/// ## Cardinality: Optional, Multiple (0..*)
/// 
/// ## Special Semantics
/// - Modifier element - If enableWhen is present and the condition evaluates to false, then the Questionnaire behaves as though the elements weren't actually present
/// 
/// ## Constraints
/// - **ele-1**: All FHIR elements must have a @value or children (error)
///   Expression: `hasValue() or (children().count() > id.count())`
/// - **que-7**: If the operator is 'exists', the value must be a boolean (error)
///   Expression: `operator = 'exists' implies (answer is Boolean)`
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath, Default, FhirValidate)]
#[fhir_resource(choice_elements = "answer")]
#[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Questionnaire.item.enableWhen")]
#[fhir_invariant(key="que-7", severity="error", human="If the operator is 'exists', the value must be a boolean", expr="operator = 'exists' implies (answer is Boolean)", path="Questionnaire.item.enableWhen")]
pub struct QuestionnaireItemEnableWhen {
    /// Unique id for inter-element referencing
    /// 
    /// Unique id for the element within a resource (for internal references). This
    /// may be any string value that does not contain spaces.
    /// 
    /// ## Cardinality: Optional (0..1)
    pub id: Option<String>,
    /// Additional content defined by implementations
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element. To make the use of extensions safe and manageable,
    /// there is a strict set of governance applied to the definition and use of
    /// extensions. Though any implementer can define an extension, there is a set of
    /// requirements that SHALL be met as part of the definition of the extension.
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Questionnaire.item.enableWhen.extension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="Questionnaire.item.enableWhen.extension")]
    pub extension: Option<Vec<Extension>>,
    /// Extensions that cannot be ignored even if unrecognized
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element and that modifies the understanding of the element
    /// in which it is contained and/or the understanding of the containing element's
    /// descendants. Usually modifier elements provide negation or qualification. To
    /// make the use of extensions safe and manageable, there is a strict set of
    /// governance applied to the definition and use of extensions. Though any
    /// implementer can define an extension, there is a set of requirements that
    /// SHALL be met as part of the definition of the extension. Applications
    /// processing a resource are required to check for modifier extensions.
    /// 
    /// Modifier extensions SHALL NOT change the meaning of any elements on Resource
    /// or DomainResource (including cannot change the meaning of modifierExtension
    /// itself).
    /// 
    /// ## Requirements
    /// Modifier extensions allow for extensions that *cannot* be safely ignored to
    /// be clearly distinguished from the vast majority of extensions which can be
    /// safely ignored. This promotes interoperability by eliminating the need for
    /// implementers to prohibit the presence of extensions. For further information,
    /// see the [definition of modifier
    /// extensions](extensibility.html#modifierExtension).
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Modifier element - Modifier extensions are expected to modify the meaning or interpretation of the element that contains them
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content, modifiers
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Questionnaire.item.enableWhen.modifierExtension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="Questionnaire.item.enableWhen.modifierExtension")]
    #[fhir_serde(rename = "modifierExtension")]
    pub modifier_extension: Option<Vec<Extension>>,
    /// Question that determines whether item is enabled
    /// 
    /// The linkId for the question whose answer (or lack of answer) governs whether
    /// this item is enabled.
    /// 
    /// ## Implementation Notes
    /// If multiple question occurrences are present for the same question (same
    /// linkId), then this refers to the nearest question occurrence reachable by
    /// tracing first the "ancestor" axis and then the "preceding" axis and then the
    /// "following" axis.
    /// 
    /// ## Cardinality: Required (1..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Questionnaire.item.enableWhen.question")]
    pub question: String,
    /// exists | = | != | > | < | \>= | \<=
    /// 
    /// Specifies the criteria by which the question is enabled.
    /// 
    /// ## Cardinality: Required (1..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: required
    /// - **Description**: The criteria by which a question is enabled.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/questionnaire-enable-operator|4.0.1
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Questionnaire.item.enableWhen.operator")]
    pub operator: Code,
    /// Value for question comparison based on operator
    /// 
    /// A value that the referenced question is tested using the specified operator
    /// in order for the item to be enabled.
    /// 
    /// ## Cardinality: Required (1..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: Allowed values to answer questions.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/questionnaire-answers
    /// 
    /// ## Conditions
    /// Used when: que-7
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Questionnaire.item.enableWhen.answer[x]")]
    #[fhir_serde(flatten)]
    pub answer: Option<QuestionnaireItemEnableWhenAnswer>,
}

/// Choice of types for the value\[x\] field in QuestionnaireItemInitial
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath)]
#[fhir_choice_element(base_name = "value")]
pub enum QuestionnaireItemInitialValue {
    /// Variant accepting the Boolean type.
    #[fhir_serde(rename = "valueBoolean")]
    Boolean(Boolean),
    /// Variant accepting the Decimal type.
    #[fhir_serde(rename = "valueDecimal")]
    Decimal(Decimal),
    /// Variant accepting the Integer type.
    #[fhir_serde(rename = "valueInteger")]
    Integer(Integer),
    /// Variant accepting the Date type.
    #[fhir_serde(rename = "valueDate")]
    Date(Date),
    /// Variant accepting the DateTime type.
    #[fhir_serde(rename = "valueDateTime")]
    DateTime(DateTime),
    /// Variant accepting the Time type.
    #[fhir_serde(rename = "valueTime")]
    Time(Time),
    /// Variant accepting the String type.
    #[fhir_serde(rename = "valueString")]
    String(String),
    /// Variant accepting the Uri type.
    #[fhir_serde(rename = "valueUri")]
    Uri(Uri),
    /// Variant accepting the Attachment type.
    #[fhir_serde(rename = "valueAttachment")]
    Attachment(Attachment),
    /// Variant accepting the Coding type.
    #[fhir_serde(rename = "valueCoding")]
    Coding(Coding),
    /// Variant accepting the Quantity type.
    #[fhir_serde(rename = "valueQuantity")]
    Quantity(Quantity),
    /// Variant accepting the Reference type.
    #[fhir_serde(rename = "valueReference")]
    Reference(Reference),
}

/// Initial value(s) when item is first rendered
/// 
/// One or more values that should be pre-populated in the answer when initially
/// rendering the questionnaire for user input.
/// 
/// ## Requirements
/// In some workflows, having defaults saves time.
/// 
/// ## Implementation Notes
/// The user is allowed to change the value and override the default (unless
/// marked as read-only). If the user doesn't change the value, then this initial
/// value will be persisted when the QuestionnaireResponse is initially created.
/// Note that initial values can influence results. The data type of initial[x]
/// must agree with the item.type, and only repeating items can have more then
/// one initial value.
/// 
/// ## Cardinality: Optional, Multiple (0..*)
/// 
/// ## Constraints
/// - **ele-1**: All FHIR elements must have a @value or children (error)
///   Expression: `hasValue() or (children().count() > id.count())`
/// 
/// ## Conditions
/// Used when: que-8, que-13
#[derive(Debug, Clone, PartialEq, FhirSerde, FhirPath, Default, FhirValidate)]
#[fhir_resource(choice_elements = "value")]
#[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Questionnaire.item.initial")]
pub struct QuestionnaireItemInitial {
    /// Unique id for inter-element referencing
    /// 
    /// Unique id for the element within a resource (for internal references). This
    /// may be any string value that does not contain spaces.
    /// 
    /// ## Cardinality: Optional (0..1)
    pub id: Option<String>,
    /// Additional content defined by implementations
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element. To make the use of extensions safe and manageable,
    /// there is a strict set of governance applied to the definition and use of
    /// extensions. Though any implementer can define an extension, there is a set of
    /// requirements that SHALL be met as part of the definition of the extension.
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Questionnaire.item.initial.extension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="Questionnaire.item.initial.extension")]
    pub extension: Option<Vec<Extension>>,
    /// Extensions that cannot be ignored even if unrecognized
    /// 
    /// May be used to represent additional information that is not part of the basic
    /// definition of the element and that modifies the understanding of the element
    /// in which it is contained and/or the understanding of the containing element's
    /// descendants. Usually modifier elements provide negation or qualification. To
    /// make the use of extensions safe and manageable, there is a strict set of
    /// governance applied to the definition and use of extensions. Though any
    /// implementer can define an extension, there is a set of requirements that
    /// SHALL be met as part of the definition of the extension. Applications
    /// processing a resource are required to check for modifier extensions.
    /// 
    /// Modifier extensions SHALL NOT change the meaning of any elements on Resource
    /// or DomainResource (including cannot change the meaning of modifierExtension
    /// itself).
    /// 
    /// ## Requirements
    /// Modifier extensions allow for extensions that *cannot* be safely ignored to
    /// be clearly distinguished from the vast majority of extensions which can be
    /// safely ignored. This promotes interoperability by eliminating the need for
    /// implementers to prohibit the presence of extensions. For further information,
    /// see the [definition of modifier
    /// extensions](extensibility.html#modifierExtension).
    /// 
    /// ## Implementation Notes
    /// There can be no stigma associated with the use of extensions by any
    /// application, project, or standard - regardless of the institution or
    /// jurisdiction that uses or defines the extensions. The use of extensions is
    /// what allows the FHIR specification to retain a core level of simplicity for
    /// everyone.
    /// 
    /// ## Cardinality: Optional, Multiple (0..*)
    /// 
    /// ## Special Semantics
    /// - Modifier element - Modifier extensions are expected to modify the meaning or interpretation of the element that contains them
    /// - Included in summary
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// - **ext-1**: Must have either extensions or value[x], not both (error)
    ///   Expression: `extension.exists() != value.exists()`
    /// 
    /// ## Aliases
    /// extensions, user content, modifiers
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Questionnaire.item.initial.modifierExtension")]
    #[fhir_invariant(key="ext-1", severity="error", human="Must have either extensions or value[x], not both", expr="extension.exists() != value.exists()", path="Questionnaire.item.initial.modifierExtension")]
    #[fhir_serde(rename = "modifierExtension")]
    pub modifier_extension: Option<Vec<Extension>>,
    /// Actual value for initializing the question
    /// 
    /// The actual value to for an initial answer.
    /// 
    /// ## Implementation Notes
    /// The type of the initial value must be consistent with the type of the item.
    /// 
    /// ## Cardinality: Required (1..1)
    /// 
    /// ## Constraints
    /// - **ele-1**: All FHIR elements must have a @value or children (error)
    ///   Expression: `hasValue() or (children().count() > id.count())`
    /// 
    /// ## Binding
    /// - **Strength**: example
    /// - **Description**: Allowed values to answer questions.
    /// - **ValueSet**: http://hl7.org/fhir/ValueSet/questionnaire-answers
    #[fhir_invariant(key="ele-1", severity="error", human="All FHIR elements must have a @value or children", expr="hasValue() or (children().count() > id.count())", path="Questionnaire.item.initial.value[x]")]
    #[fhir_serde(flatten)]
    pub value: Option<QuestionnaireItemInitialValue>,
}

